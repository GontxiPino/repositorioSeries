(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fu(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Be={},Es=[],cn=()=>{},by=()=>!1,Va=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),pu=t=>t.startsWith("onUpdate:"),Xe=Object.assign,mu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Cy=Object.prototype.hasOwnProperty,Oe=(t,e)=>Cy.call(t,e),ue=Array.isArray,Ts=t=>Ji(t)==="[object Map]",Fa=t=>Ji(t)==="[object Set]",vh=t=>Ji(t)==="[object Date]",we=t=>typeof t=="function",Ye=t=>typeof t=="string",pn=t=>typeof t=="symbol",Ue=t=>t!==null&&typeof t=="object",qp=t=>(Ue(t)||we(t))&&we(t.then)&&we(t.catch),zp=Object.prototype.toString,Ji=t=>zp.call(t),Ry=t=>Ji(t).slice(8,-1),Hp=t=>Ji(t)==="[object Object]",gu=t=>Ye(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yi=fu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ba=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Py=/-(\w)/g,Qt=Ba(t=>t.replace(Py,(e,n)=>n?n.toUpperCase():"")),xy=/\B([A-Z])/g,Er=Ba(t=>t.replace(xy,"-$1").toLowerCase()),Ua=Ba(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ul=Ba(t=>t?`on${Ua(t)}`:""),or=(t,e)=>!Object.is(t,e),zo=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Gp=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},ia=t=>{const e=parseFloat(t);return isNaN(e)?t:e},ky=t=>{const e=Ye(t)?Number(t):NaN;return isNaN(e)?t:e};let yh;const $a=()=>yh||(yh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xi(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Ye(r)?My(r):Xi(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Ye(t)||Ue(t))return t}const Dy=/;(?![^(]*\))/g,Oy=/:([^]+)/,Ly=/\/\*[^]*?\*\//g;function My(t){const e={};return t.replace(Ly,"").split(Dy).forEach(n=>{if(n){const r=n.split(Oy);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ja(t){let e="";if(Ye(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const r=ja(t[n]);r&&(e+=r+" ")}else if(Ue(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Ny="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Vy=fu(Ny);function Wp(t){return!!t||t===""}function Fy(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=qa(t[r],e[r]);return n}function qa(t,e){if(t===e)return!0;let n=vh(t),r=vh(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=pn(t),r=pn(e),n||r)return t===e;if(n=ue(t),r=ue(e),n||r)return n&&r?Fy(t,e):!1;if(n=Ue(t),r=Ue(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!qa(t[o],e[o]))return!1}}return String(t)===String(e)}function By(t,e){return t.findIndex(n=>qa(n,e))}const Kp=t=>!!(t&&t.__v_isRef===!0),Ie=t=>Ye(t)?t:t==null?"":ue(t)||Ue(t)&&(t.toString===zp||!we(t.toString))?Kp(t)?Ie(t.value):JSON.stringify(t,Qp,2):String(t),Qp=(t,e)=>Kp(e)?Qp(t,e.value):Ts(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[$l(r,i)+" =>"]=s,n),{})}:Fa(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>$l(n))}:pn(e)?$l(e):Ue(e)&&!ue(e)&&!Hp(e)?String(e):e,$l=(t,e="")=>{var n;return pn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rt;class Yp{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Rt,!e&&Rt&&(this.index=(Rt.scopes||(Rt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Rt;try{return Rt=this,e()}finally{Rt=n}}}on(){Rt=this}off(){Rt=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Jp(t){return new Yp(t)}function Xp(){return Rt}function Uy(t,e=!1){Rt&&Rt.cleanups.push(t)}let $e;const jl=new WeakSet;class Zp{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Rt&&Rt.active&&Rt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,jl.has(this)&&(jl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||tm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wh(this),nm(this);const e=$e,n=Jt;$e=this,Jt=!0;try{return this.fn()}finally{rm(this),$e=e,Jt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)yu(e);this.deps=this.depsTail=void 0,wh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?jl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ec(this)&&this.run()}get dirty(){return Ec(this)}}let em=0,wi,Ei;function tm(t,e=!1){if(t.flags|=8,e){t.next=Ei,Ei=t;return}t.next=wi,wi=t}function _u(){em++}function vu(){if(--em>0)return;if(Ei){let e=Ei;for(Ei=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;wi;){let e=wi;for(wi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function nm(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function rm(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),yu(r),$y(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Ec(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(sm(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function sm(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Oi))return;t.globalVersion=Oi;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Ec(t)){t.flags&=-3;return}const n=$e,r=Jt;$e=t,Jt=!0;try{nm(t);const s=t.fn(t._value);(e.version===0||or(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{$e=n,Jt=r,rm(t),t.flags&=-3}}function yu(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)yu(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function $y(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Jt=!0;const im=[];function Tr(){im.push(Jt),Jt=!1}function Ar(){const t=im.pop();Jt=t===void 0?!0:t}function wh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=$e;$e=void 0;try{e()}finally{$e=n}}}let Oi=0;class jy{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class wu{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!$e||!Jt||$e===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==$e)n=this.activeLink=new jy($e,this),$e.deps?(n.prevDep=$e.depsTail,$e.depsTail.nextDep=n,$e.depsTail=n):$e.deps=$e.depsTail=n,om(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=$e.depsTail,n.nextDep=void 0,$e.depsTail.nextDep=n,$e.depsTail=n,$e.deps===n&&($e.deps=r)}return n}trigger(e){this.version++,Oi++,this.notify(e)}notify(e){_u();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{vu()}}}function om(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)om(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const oa=new WeakMap,$r=Symbol(""),Tc=Symbol(""),Li=Symbol("");function Et(t,e,n){if(Jt&&$e){let r=oa.get(t);r||oa.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new wu),s.map=r,s.key=n),s.track()}}function Sn(t,e,n,r,s,i){const o=oa.get(t);if(!o){Oi++;return}const a=l=>{l&&l.trigger()};if(_u(),e==="clear")o.forEach(a);else{const l=ue(t),u=l&&gu(n);if(l&&n==="length"){const d=Number(r);o.forEach((f,m)=>{(m==="length"||m===Li||!pn(m)&&m>=d)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Li)),e){case"add":l?u&&a(o.get("length")):(a(o.get($r)),Ts(t)&&a(o.get(Tc)));break;case"delete":l||(a(o.get($r)),Ts(t)&&a(o.get(Tc)));break;case"set":Ts(t)&&a(o.get($r));break}}vu()}function qy(t,e){const n=oa.get(t);return n&&n.get(e)}function ds(t){const e=Pe(t);return e===t?e:(Et(e,"iterate",Li),Wt(t)?e:e.map(Tt))}function za(t){return Et(t=Pe(t),"iterate",Li),t}const zy={__proto__:null,[Symbol.iterator](){return ql(this,Symbol.iterator,Tt)},concat(...t){return ds(this).concat(...t.map(e=>ue(e)?ds(e):e))},entries(){return ql(this,"entries",t=>(t[1]=Tt(t[1]),t))},every(t,e){return yn(this,"every",t,e,void 0,arguments)},filter(t,e){return yn(this,"filter",t,e,n=>n.map(Tt),arguments)},find(t,e){return yn(this,"find",t,e,Tt,arguments)},findIndex(t,e){return yn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return yn(this,"findLast",t,e,Tt,arguments)},findLastIndex(t,e){return yn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return yn(this,"forEach",t,e,void 0,arguments)},includes(...t){return zl(this,"includes",t)},indexOf(...t){return zl(this,"indexOf",t)},join(t){return ds(this).join(t)},lastIndexOf(...t){return zl(this,"lastIndexOf",t)},map(t,e){return yn(this,"map",t,e,void 0,arguments)},pop(){return ci(this,"pop")},push(...t){return ci(this,"push",t)},reduce(t,...e){return Eh(this,"reduce",t,e)},reduceRight(t,...e){return Eh(this,"reduceRight",t,e)},shift(){return ci(this,"shift")},some(t,e){return yn(this,"some",t,e,void 0,arguments)},splice(...t){return ci(this,"splice",t)},toReversed(){return ds(this).toReversed()},toSorted(t){return ds(this).toSorted(t)},toSpliced(...t){return ds(this).toSpliced(...t)},unshift(...t){return ci(this,"unshift",t)},values(){return ql(this,"values",Tt)}};function ql(t,e,n){const r=za(t),s=r[e]();return r!==t&&!Wt(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const Hy=Array.prototype;function yn(t,e,n,r,s,i){const o=za(t),a=o!==t&&!Wt(t),l=o[e];if(l!==Hy[e]){const f=l.apply(t,i);return a?Tt(f):f}let u=n;o!==t&&(a?u=function(f,m){return n.call(this,Tt(f),m,t)}:n.length>2&&(u=function(f,m){return n.call(this,f,m,t)}));const d=l.call(o,u,r);return a&&s?s(d):d}function Eh(t,e,n,r){const s=za(t);let i=n;return s!==t&&(Wt(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,Tt(a),l,t)}),s[e](i,...r)}function zl(t,e,n){const r=Pe(t);Et(r,"iterate",Li);const s=r[e](...n);return(s===-1||s===!1)&&Au(n[0])?(n[0]=Pe(n[0]),r[e](...n)):s}function ci(t,e,n=[]){Tr(),_u();const r=Pe(t)[e].apply(t,n);return vu(),Ar(),r}const Gy=fu("__proto__,__v_isRef,__isVue"),am=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(pn));function Wy(t){pn(t)||(t=String(t));const e=Pe(this);return Et(e,"has",t),e.hasOwnProperty(t)}class lm{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?rw:hm:i?dm:um).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ue(e);if(!s){let l;if(o&&(l=zy[n]))return l;if(n==="hasOwnProperty")return Wy}const a=Reflect.get(e,n,Qe(e)?e:r);return(pn(n)?am.has(n):Gy(n))||(s||Et(e,"get",n),i)?a:Qe(a)?o&&gu(n)?a:a.value:Ue(a)?s?pm(a):Zi(a):a}}class cm extends lm{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=zr(i);if(!Wt(r)&&!zr(r)&&(i=Pe(i),r=Pe(r)),!ue(e)&&Qe(i)&&!Qe(r))return l?!1:(i.value=r,!0)}const o=ue(e)&&gu(n)?Number(n)<e.length:Oe(e,n),a=Reflect.set(e,n,r,Qe(e)?e:s);return e===Pe(s)&&(o?or(r,i)&&Sn(e,"set",n,r):Sn(e,"add",n,r)),a}deleteProperty(e,n){const r=Oe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Sn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!pn(n)||!am.has(n))&&Et(e,"has",n),r}ownKeys(e){return Et(e,"iterate",ue(e)?"length":$r),Reflect.ownKeys(e)}}class Ky extends lm{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Qy=new cm,Yy=new Ky,Jy=new cm(!0);const Ac=t=>t,ko=t=>Reflect.getPrototypeOf(t);function Xy(t,e,n){return function(...r){const s=this.__v_raw,i=Pe(s),o=Ts(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),d=n?Ac:e?Sc:Tt;return!e&&Et(i,"iterate",l?Tc:$r),{next(){const{value:f,done:m}=u.next();return m?{value:f,done:m}:{value:a?[d(f[0]),d(f[1])]:d(f),done:m}},[Symbol.iterator](){return this}}}}function Do(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Zy(t,e){const n={get(s){const i=this.__v_raw,o=Pe(i),a=Pe(s);t||(or(s,a)&&Et(o,"get",s),Et(o,"get",a));const{has:l}=ko(o),u=e?Ac:t?Sc:Tt;if(l.call(o,s))return u(i.get(s));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Et(Pe(s),"iterate",$r),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Pe(i),a=Pe(s);return t||(or(s,a)&&Et(o,"has",s),Et(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=Pe(a),u=e?Ac:t?Sc:Tt;return!t&&Et(l,"iterate",$r),a.forEach((d,f)=>s.call(i,u(d),u(f),o))}};return Xe(n,t?{add:Do("add"),set:Do("set"),delete:Do("delete"),clear:Do("clear")}:{add(s){!e&&!Wt(s)&&!zr(s)&&(s=Pe(s));const i=Pe(this);return ko(i).has.call(i,s)||(i.add(s),Sn(i,"add",s,s)),this},set(s,i){!e&&!Wt(i)&&!zr(i)&&(i=Pe(i));const o=Pe(this),{has:a,get:l}=ko(o);let u=a.call(o,s);u||(s=Pe(s),u=a.call(o,s));const d=l.call(o,s);return o.set(s,i),u?or(i,d)&&Sn(o,"set",s,i):Sn(o,"add",s,i),this},delete(s){const i=Pe(this),{has:o,get:a}=ko(i);let l=o.call(i,s);l||(s=Pe(s),l=o.call(i,s)),a&&a.call(i,s);const u=i.delete(s);return l&&Sn(i,"delete",s,void 0),u},clear(){const s=Pe(this),i=s.size!==0,o=s.clear();return i&&Sn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Xy(s,t,e)}),n}function Eu(t,e){const n=Zy(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Oe(n,s)&&s in r?n:r,s,i)}const ew={get:Eu(!1,!1)},tw={get:Eu(!1,!0)},nw={get:Eu(!0,!1)};const um=new WeakMap,dm=new WeakMap,hm=new WeakMap,rw=new WeakMap;function sw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function iw(t){return t.__v_skip||!Object.isExtensible(t)?0:sw(Ry(t))}function Zi(t){return zr(t)?t:Tu(t,!1,Qy,ew,um)}function fm(t){return Tu(t,!1,Jy,tw,dm)}function pm(t){return Tu(t,!0,Yy,nw,hm)}function Tu(t,e,n,r,s){if(!Ue(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=iw(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function ar(t){return zr(t)?ar(t.__v_raw):!!(t&&t.__v_isReactive)}function zr(t){return!!(t&&t.__v_isReadonly)}function Wt(t){return!!(t&&t.__v_isShallow)}function Au(t){return t?!!t.__v_raw:!1}function Pe(t){const e=t&&t.__v_raw;return e?Pe(e):t}function Su(t){return!Oe(t,"__v_skip")&&Object.isExtensible(t)&&Gp(t,"__v_skip",!0),t}const Tt=t=>Ue(t)?Zi(t):t,Sc=t=>Ue(t)?pm(t):t;function Qe(t){return t?t.__v_isRef===!0:!1}function Ze(t){return mm(t,!1)}function ow(t){return mm(t,!0)}function mm(t,e){return Qe(t)?t:new aw(t,e)}class aw{constructor(e,n){this.dep=new wu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Pe(e),this._value=n?e:Tt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Wt(e)||zr(e);e=r?e:Pe(e),or(e,n)&&(this._rawValue=e,this._value=r?e:Tt(e),this.dep.trigger())}}function As(t){return Qe(t)?t.value:t}const lw={get:(t,e,n)=>e==="__v_raw"?t:As(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Qe(s)&&!Qe(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function gm(t){return ar(t)?t:new Proxy(t,lw)}function cw(t){const e=ue(t)?new Array(t.length):{};for(const n in t)e[n]=dw(t,n);return e}class uw{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return qy(Pe(this._object),this._key)}}function dw(t,e,n){const r=t[e];return Qe(r)?r:new uw(t,e,n)}class hw{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new wu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Oi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&$e!==this)return tm(this,!0),!0}get value(){const e=this.dep.track();return sm(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function fw(t,e,n=!1){let r,s;return we(t)?r=t:(r=t.get,s=t.set),new hw(r,s,n)}const Oo={},aa=new WeakMap;let Nr;function pw(t,e=!1,n=Nr){if(n){let r=aa.get(n);r||aa.set(n,r=[]),r.push(t)}}function mw(t,e,n=Be){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,u=k=>s?k:Wt(k)||s===!1||s===0?In(k,1):In(k);let d,f,m,g,b=!1,x=!1;if(Qe(t)?(f=()=>t.value,b=Wt(t)):ar(t)?(f=()=>u(t),b=!0):ue(t)?(x=!0,b=t.some(k=>ar(k)||Wt(k)),f=()=>t.map(k=>{if(Qe(k))return k.value;if(ar(k))return u(k);if(we(k))return l?l(k,2):k()})):we(t)?e?f=l?()=>l(t,2):t:f=()=>{if(m){Tr();try{m()}finally{Ar()}}const k=Nr;Nr=d;try{return l?l(t,3,[g]):t(g)}finally{Nr=k}}:f=cn,e&&s){const k=f,V=s===!0?1/0:s;f=()=>In(k(),V)}const D=Xp(),L=()=>{d.stop(),D&&mu(D.effects,d)};if(i&&e){const k=e;e=(...V)=>{k(...V),L()}}let I=x?new Array(t.length).fill(Oo):Oo;const C=k=>{if(!(!(d.flags&1)||!d.dirty&&!k))if(e){const V=d.run();if(s||b||(x?V.some((j,R)=>or(j,I[R])):or(V,I))){m&&m();const j=Nr;Nr=d;try{const R=[V,I===Oo?void 0:x&&I[0]===Oo?[]:I,g];l?l(e,3,R):e(...R),I=V}finally{Nr=j}}}else d.run()};return a&&a(C),d=new Zp(f),d.scheduler=o?()=>o(C,!1):C,g=k=>pw(k,!1,d),m=d.onStop=()=>{const k=aa.get(d);if(k){if(l)l(k,4);else for(const V of k)V();aa.delete(d)}},e?r?C(!0):I=d.run():o?o(C.bind(null,!0),!0):d.run(),L.pause=d.pause.bind(d),L.resume=d.resume.bind(d),L.stop=L,L}function In(t,e=1/0,n){if(e<=0||!Ue(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Qe(t))In(t.value,e,n);else if(ue(t))for(let r=0;r<t.length;r++)In(t[r],e,n);else if(Fa(t)||Ts(t))t.forEach(r=>{In(r,e,n)});else if(Hp(t)){for(const r in t)In(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&In(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function eo(t,e,n,r){try{return r?t(...r):t()}catch(s){Ha(s,e,n)}}function Zt(t,e,n,r){if(we(t)){const s=eo(t,e,n,r);return s&&qp(s)&&s.catch(i=>{Ha(i,e,n)}),s}if(ue(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Zt(t[i],e,n,r));return s}}function Ha(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Be;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](t,l,u)===!1)return}a=a.parent}if(i){Tr(),eo(i,null,10,[t,l,u]),Ar();return}}gw(t,n,s,r,o)}function gw(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Pt=[];let sn=-1;const Ss=[];let Yn=null,fs=0;const _m=Promise.resolve();let la=null;function to(t){const e=la||_m;return t?e.then(this?t.bind(this):t):e}function _w(t){let e=sn+1,n=Pt.length;for(;e<n;){const r=e+n>>>1,s=Pt[r],i=Mi(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Iu(t){if(!(t.flags&1)){const e=Mi(t),n=Pt[Pt.length-1];!n||!(t.flags&2)&&e>=Mi(n)?Pt.push(t):Pt.splice(_w(e),0,t),t.flags|=1,vm()}}function vm(){la||(la=_m.then(wm))}function vw(t){ue(t)?Ss.push(...t):Yn&&t.id===-1?Yn.splice(fs+1,0,t):t.flags&1||(Ss.push(t),t.flags|=1),vm()}function Th(t,e,n=sn+1){for(;n<Pt.length;n++){const r=Pt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Pt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ym(t){if(Ss.length){const e=[...new Set(Ss)].sort((n,r)=>Mi(n)-Mi(r));if(Ss.length=0,Yn){Yn.push(...e);return}for(Yn=e,fs=0;fs<Yn.length;fs++){const n=Yn[fs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Yn=null,fs=0}}const Mi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function wm(t){try{for(sn=0;sn<Pt.length;sn++){const e=Pt[sn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),eo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;sn<Pt.length;sn++){const e=Pt[sn];e&&(e.flags&=-2)}sn=-1,Pt.length=0,ym(),la=null,(Pt.length||Ss.length)&&wm()}}let xt=null,Em=null;function ca(t){const e=xt;return xt=t,Em=t&&t.type.__scopeId||null,e}function kn(t,e=xt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Dh(-1);const i=ca(e);let o;try{o=t(...s)}finally{ca(i),r._d&&Dh(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Dn(t,e){if(xt===null)return t;const n=Ja(xt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Be]=e[s];i&&(we(i)&&(i={mounted:i,updated:i}),i.deep&&In(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Dr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Tr(),Zt(l,n,8,[t.el,a,t,e]),Ar())}}const yw=Symbol("_vte"),Tm=t=>t.__isTeleport,Jn=Symbol("_leaveCb"),Lo=Symbol("_enterCb");function ww(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return no(()=>{t.isMounted=!0}),Ka(()=>{t.isUnmounting=!0}),t}const Gt=[Function,Array],Am={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Gt,onEnter:Gt,onAfterEnter:Gt,onEnterCancelled:Gt,onBeforeLeave:Gt,onLeave:Gt,onAfterLeave:Gt,onLeaveCancelled:Gt,onBeforeAppear:Gt,onAppear:Gt,onAfterAppear:Gt,onAppearCancelled:Gt},Sm=t=>{const e=t.subTree;return e.component?Sm(e.component):e},Ew={name:"BaseTransition",props:Am,setup(t,{slots:e}){const n=_0(),r=ww();return()=>{const s=e.default&&Cm(e.default(),!0);if(!s||!s.length)return;const i=Im(s),o=Pe(t),{mode:a}=o;if(r.isLeaving)return Hl(i);const l=Ah(i);if(!l)return Hl(i);let u=Ic(l,o,r,n,m=>u=m);l.type!==Mt&&Ni(l,u);const d=n.subTree,f=d&&Ah(d);if(f&&f.type!==Mt&&!Fr(l,f)&&Sm(n).type!==Mt){const m=Ic(f,o,r,n);if(Ni(f,m),a==="out-in"&&l.type!==Mt)return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave},Hl(i);a==="in-out"&&l.type!==Mt&&(m.delayLeave=(g,b,x)=>{const D=bm(r,f);D[String(f.key)]=f,g[Jn]=()=>{b(),g[Jn]=void 0,delete u.delayedLeave},u.delayedLeave=x})}return i}}};function Im(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Mt){e=n;break}}return e}const Tw=Ew;function bm(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Ic(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:m,onLeave:g,onAfterLeave:b,onLeaveCancelled:x,onBeforeAppear:D,onAppear:L,onAfterAppear:I,onAppearCancelled:C}=e,k=String(t.key),V=bm(n,t),j=(_,E)=>{_&&Zt(_,r,9,E)},R=(_,E)=>{const T=E[1];j(_,E),ue(_)?_.every(A=>A.length<=1)&&T():_.length<=1&&T()},v={mode:o,persisted:a,beforeEnter(_){let E=l;if(!n.isMounted)if(i)E=D||l;else return;_[Jn]&&_[Jn](!0);const T=V[k];T&&Fr(t,T)&&T.el[Jn]&&T.el[Jn](),j(E,[_])},enter(_){let E=u,T=d,A=f;if(!n.isMounted)if(i)E=L||u,T=I||d,A=C||f;else return;let w=!1;const ee=_[Lo]=he=>{w||(w=!0,he?j(A,[_]):j(T,[_]),v.delayedLeave&&v.delayedLeave(),_[Lo]=void 0)};E?R(E,[_,ee]):ee()},leave(_,E){const T=String(t.key);if(_[Lo]&&_[Lo](!0),n.isUnmounting)return E();j(m,[_]);let A=!1;const w=_[Jn]=ee=>{A||(A=!0,E(),ee?j(x,[_]):j(b,[_]),_[Jn]=void 0,V[T]===t&&delete V[T])};V[T]=t,g?R(g,[_,w]):w()},clone(_){const E=Ic(_,e,n,r,s);return s&&s(E),E}};return v}function Hl(t){if(Ga(t))return t=pr(t),t.children=null,t}function Ah(t){if(!Ga(t))return Tm(t.type)&&t.children?Im(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&we(n.default))return n.default()}}function Ni(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ni(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Cm(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===st?(o.patchFlag&128&&s++,r=r.concat(Cm(o.children,e,a))):(e||o.type!==Mt)&&r.push(a!=null?pr(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Rm(t,e){return we(t)?Xe({name:t.name},e,{setup:t}):t}function Pm(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function bc(t,e,n,r,s=!1){if(ue(t)){t.forEach((b,x)=>bc(b,e&&(ue(e)?e[x]:e),n,r,s));return}if(Ti(r)&&!s)return;const i=r.shapeFlag&4?Ja(r.component):r.el,o=s?null:i,{i:a,r:l}=t,u=e&&e.r,d=a.refs===Be?a.refs={}:a.refs,f=a.setupState,m=Pe(f),g=f===Be?()=>!1:b=>Oe(m,b);if(u!=null&&u!==l&&(Ye(u)?(d[u]=null,g(u)&&(f[u]=null)):Qe(u)&&(u.value=null)),we(l))eo(l,a,12,[o,d]);else{const b=Ye(l),x=Qe(l);if(b||x){const D=()=>{if(t.f){const L=b?g(l)?f[l]:d[l]:l.value;s?ue(L)&&mu(L,i):ue(L)?L.includes(i)||L.push(i):b?(d[l]=[i],g(l)&&(f[l]=d[l])):(l.value=[i],t.k&&(d[t.k]=l.value))}else b?(d[l]=o,g(l)&&(f[l]=o)):x&&(l.value=o,t.k&&(d[t.k]=o))};o?(D.id=-1,Ft(D,n)):D()}}}$a().requestIdleCallback;$a().cancelIdleCallback;const Ti=t=>!!t.type.__asyncLoader,Ga=t=>t.type.__isKeepAlive;function Aw(t,e){xm(t,"a",e)}function Sw(t,e){xm(t,"da",e)}function xm(t,e,n=ot){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Wa(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Ga(s.parent.vnode)&&Iw(r,e,n,s),s=s.parent}}function Iw(t,e,n,r){const s=Wa(e,t,r,!0);Dm(()=>{mu(r[e],s)},n)}function Wa(t,e,n=ot,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Tr();const a=ro(n),l=Zt(e,n,t,o);return a(),Ar(),l});return r?s.unshift(i):s.push(i),i}}const Fn=t=>(e,n=ot)=>{(!Fi||t==="sp")&&Wa(t,(...r)=>e(...r),n)},bw=Fn("bm"),no=Fn("m"),km=Fn("bu"),bu=Fn("u"),Ka=Fn("bum"),Dm=Fn("um"),Cw=Fn("sp"),Rw=Fn("rtg"),Pw=Fn("rtc");function xw(t,e=ot){Wa("ec",t,e)}const kw="components";function ge(t,e){return Ow(kw,t,!0,e)||t}const Dw=Symbol.for("v-ndc");function Ow(t,e,n=!0,r=!1){const s=xt||ot;if(s){const i=s.type;{const a=T0(i,!1);if(a&&(a===e||a===Qt(e)||a===Ua(Qt(e))))return i}const o=Sh(s[t]||i[t],e)||Sh(s.appContext[t],e);return!o&&r?i:o}}function Sh(t,e){return t&&(t[e]||t[Qt(e)]||t[Ua(Qt(e))])}function Zr(t,e,n,r){let s;const i=n,o=ue(t);if(o||Ye(t)){const a=o&&ar(t);let l=!1;a&&(l=!Wt(t),t=za(t)),s=new Array(t.length);for(let u=0,d=t.length;u<d;u++)s[u]=e(l?Tt(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(Ue(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const d=a[l];s[l]=e(t[d],d,l,i)}}else s=[];return s}const Cc=t=>t?Zm(t)?Ja(t):Cc(t.parent):null,Ai=Xe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Cc(t.parent),$root:t=>Cc(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Cu(t),$forceUpdate:t=>t.f||(t.f=()=>{Iu(t.update)}),$nextTick:t=>t.n||(t.n=to.bind(t.proxy)),$watch:t=>t0.bind(t)}),Gl=(t,e)=>t!==Be&&!t.__isScriptSetup&&Oe(t,e),Lw={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Gl(r,e))return o[e]=1,r[e];if(s!==Be&&Oe(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&Oe(u,e))return o[e]=3,i[e];if(n!==Be&&Oe(n,e))return o[e]=4,n[e];Rc&&(o[e]=0)}}const d=Ai[e];let f,m;if(d)return e==="$attrs"&&Et(t.attrs,"get",""),d(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Be&&Oe(n,e))return o[e]=4,n[e];if(m=l.config.globalProperties,Oe(m,e))return m[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Gl(s,e)?(s[e]=n,!0):r!==Be&&Oe(r,e)?(r[e]=n,!0):Oe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==Be&&Oe(t,o)||Gl(e,o)||(a=i[0])&&Oe(a,o)||Oe(r,o)||Oe(Ai,o)||Oe(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Oe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ih(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Rc=!0;function Mw(t){const e=Cu(t),n=t.proxy,r=t.ctx;Rc=!1,e.beforeCreate&&bh(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:d,beforeMount:f,mounted:m,beforeUpdate:g,updated:b,activated:x,deactivated:D,beforeDestroy:L,beforeUnmount:I,destroyed:C,unmounted:k,render:V,renderTracked:j,renderTriggered:R,errorCaptured:v,serverPrefetch:_,expose:E,inheritAttrs:T,components:A,directives:w,filters:ee}=e;if(u&&Nw(u,r,null),o)for(const pe in o){const Te=o[pe];we(Te)&&(r[pe]=Te.bind(n))}if(s){const pe=s.call(n,n);Ue(pe)&&(t.data=Zi(pe))}if(Rc=!0,i)for(const pe in i){const Te=i[pe],pt=we(Te)?Te.bind(n,n):we(Te.get)?Te.get.bind(n,n):cn,kt=!we(Te)&&we(Te.set)?Te.set.bind(n):cn,Dt=Ut({get:pt,set:kt});Object.defineProperty(r,pe,{enumerable:!0,configurable:!0,get:()=>Dt.value,set:je=>Dt.value=je})}if(a)for(const pe in a)Om(a[pe],r,n,pe);if(l){const pe=we(l)?l.call(n):l;Reflect.ownKeys(pe).forEach(Te=>{Is(Te,pe[Te])})}d&&bh(d,t,"c");function ve(pe,Te){ue(Te)?Te.forEach(pt=>pe(pt.bind(n))):Te&&pe(Te.bind(n))}if(ve(bw,f),ve(no,m),ve(km,g),ve(bu,b),ve(Aw,x),ve(Sw,D),ve(xw,v),ve(Pw,j),ve(Rw,R),ve(Ka,I),ve(Dm,k),ve(Cw,_),ue(E))if(E.length){const pe=t.exposed||(t.exposed={});E.forEach(Te=>{Object.defineProperty(pe,Te,{get:()=>n[Te],set:pt=>n[Te]=pt})})}else t.exposed||(t.exposed={});V&&t.render===cn&&(t.render=V),T!=null&&(t.inheritAttrs=T),A&&(t.components=A),w&&(t.directives=w),_&&Pm(t)}function Nw(t,e,n=cn){ue(t)&&(t=Pc(t));for(const r in t){const s=t[r];let i;Ue(s)?"default"in s?i=Xt(s.from||r,s.default,!0):i=Xt(s.from||r):i=Xt(s),Qe(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function bh(t,e,n){Zt(ue(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Om(t,e,n,r){let s=r.includes(".")?Wm(n,r):()=>n[r];if(Ye(t)){const i=e[t];we(i)&&lr(s,i)}else if(we(t))lr(s,t.bind(n));else if(Ue(t))if(ue(t))t.forEach(i=>Om(i,e,n,r));else{const i=we(t.handler)?t.handler.bind(n):e[t.handler];we(i)&&lr(s,i,t)}}function Cu(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>ua(l,u,o,!0)),ua(l,e,o)),Ue(e)&&i.set(e,l),l}function ua(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&ua(t,i,n,!0),s&&s.forEach(o=>ua(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Vw[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Vw={data:Ch,props:Rh,emits:Rh,methods:fi,computed:fi,beforeCreate:Ct,created:Ct,beforeMount:Ct,mounted:Ct,beforeUpdate:Ct,updated:Ct,beforeDestroy:Ct,beforeUnmount:Ct,destroyed:Ct,unmounted:Ct,activated:Ct,deactivated:Ct,errorCaptured:Ct,serverPrefetch:Ct,components:fi,directives:fi,watch:Bw,provide:Ch,inject:Fw};function Ch(t,e){return e?t?function(){return Xe(we(t)?t.call(this,this):t,we(e)?e.call(this,this):e)}:e:t}function Fw(t,e){return fi(Pc(t),Pc(e))}function Pc(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ct(t,e){return t?[...new Set([].concat(t,e))]:e}function fi(t,e){return t?Xe(Object.create(null),t,e):e}function Rh(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:Xe(Object.create(null),Ih(t),Ih(e??{})):e}function Bw(t,e){if(!t)return e;if(!e)return t;const n=Xe(Object.create(null),t);for(const r in e)n[r]=Ct(t[r],e[r]);return n}function Lm(){return{app:null,config:{isNativeTag:by,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Uw=0;function $w(t,e){return function(r,s=null){we(r)||(r=Xe({},r)),s!=null&&!Ue(s)&&(s=null);const i=Lm(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Uw++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:S0,get config(){return i.config},set config(d){},use(d,...f){return o.has(d)||(d&&we(d.install)?(o.add(d),d.install(u,...f)):we(d)&&(o.add(d),d(u,...f))),u},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),u},component(d,f){return f?(i.components[d]=f,u):i.components[d]},directive(d,f){return f?(i.directives[d]=f,u):i.directives[d]},mount(d,f,m){if(!l){const g=u._ceVNode||ae(r,s);return g.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),f&&e?e(g,d):t(g,d,m),l=!0,u._container=d,d.__vue_app__=u,Ja(g.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Zt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,f){return i.provides[d]=f,u},runWithContext(d){const f=jr;jr=u;try{return d()}finally{jr=f}}};return u}}let jr=null;function Is(t,e){if(ot){let n=ot.provides;const r=ot.parent&&ot.parent.provides;r===n&&(n=ot.provides=Object.create(r)),n[t]=e}}function Xt(t,e,n=!1){const r=ot||xt;if(r||jr){const s=jr?jr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&we(e)?e.call(r&&r.proxy):e}}function jw(){return!!(ot||xt||jr)}const Mm={},Nm=()=>Object.create(Mm),Vm=t=>Object.getPrototypeOf(t)===Mm;function qw(t,e,n,r=!1){const s={},i=Nm();t.propsDefaults=Object.create(null),Fm(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:fm(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function zw(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Pe(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let m=d[f];if(Qa(t.emitsOptions,m))continue;const g=e[m];if(l)if(Oe(i,m))g!==i[m]&&(i[m]=g,u=!0);else{const b=Qt(m);s[b]=xc(l,a,b,g,t,!1)}else g!==i[m]&&(i[m]=g,u=!0)}}}else{Fm(t,e,s,i)&&(u=!0);let d;for(const f in a)(!e||!Oe(e,f)&&((d=Er(f))===f||!Oe(e,d)))&&(l?n&&(n[f]!==void 0||n[d]!==void 0)&&(s[f]=xc(l,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!Oe(e,f))&&(delete i[f],u=!0)}u&&Sn(t.attrs,"set","")}function Fm(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(yi(l))continue;const u=e[l];let d;s&&Oe(s,d=Qt(l))?!i||!i.includes(d)?n[d]=u:(a||(a={}))[d]=u:Qa(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Pe(n),u=a||Be;for(let d=0;d<i.length;d++){const f=i[d];n[f]=xc(s,l,f,u[f],t,!Oe(u,f))}}return o}function xc(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Oe(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&we(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const d=ro(s);r=u[n]=l.call(null,e),d()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Er(n))&&(r=!0))}return r}const Hw=new WeakMap;function Bm(t,e,n=!1){const r=n?Hw:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!we(t)){const d=f=>{l=!0;const[m,g]=Bm(f,e,!0);Xe(o,m),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!l)return Ue(t)&&r.set(t,Es),Es;if(ue(i))for(let d=0;d<i.length;d++){const f=Qt(i[d]);Ph(f)&&(o[f]=Be)}else if(i)for(const d in i){const f=Qt(d);if(Ph(f)){const m=i[d],g=o[f]=ue(m)||we(m)?{type:m}:Xe({},m),b=g.type;let x=!1,D=!0;if(ue(b))for(let L=0;L<b.length;++L){const I=b[L],C=we(I)&&I.name;if(C==="Boolean"){x=!0;break}else C==="String"&&(D=!1)}else x=we(b)&&b.name==="Boolean";g[0]=x,g[1]=D,(x||Oe(g,"default"))&&a.push(f)}}const u=[o,a];return Ue(t)&&r.set(t,u),u}function Ph(t){return t[0]!=="$"&&!yi(t)}const Um=t=>t[0]==="_"||t==="$stable",Ru=t=>ue(t)?t.map(on):[on(t)],Gw=(t,e,n)=>{if(e._n)return e;const r=kn((...s)=>Ru(e(...s)),n);return r._c=!1,r},$m=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Um(s))continue;const i=t[s];if(we(i))e[s]=Gw(s,i,r);else if(i!=null){const o=Ru(i);e[s]=()=>o}}},jm=(t,e)=>{const n=Ru(e);t.slots.default=()=>n},qm=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},Ww=(t,e,n)=>{const r=t.slots=Nm();if(t.vnode.shapeFlag&32){const s=e._;s?(qm(r,e,n),n&&Gp(r,"_",s,!0)):$m(e,r)}else e&&jm(t,e)},Kw=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Be;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:qm(s,e,n):(i=!e.$stable,$m(e,s)),o=e}else e&&(jm(t,e),o={default:1});if(i)for(const a in s)!Um(a)&&o[a]==null&&delete s[a]},Ft=l0;function Qw(t){return Yw(t)}function Yw(t,e){const n=$a();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:d,parentNode:f,nextSibling:m,setScopeId:g=cn,insertStaticContent:b}=t,x=(S,P,N,q=null,B=null,H=null,Y=void 0,K=null,W=!!P.dynamicChildren)=>{if(S===P)return;S&&!Fr(S,P)&&(q=U(S),je(S,B,H,!0),S=null),P.patchFlag===-2&&(W=!1,P.dynamicChildren=null);const{type:G,ref:ce,shapeFlag:X}=P;switch(G){case Ya:D(S,P,N,q);break;case Mt:L(S,P,N,q);break;case Ho:S==null&&I(P,N,q,Y);break;case st:A(S,P,N,q,B,H,Y,K,W);break;default:X&1?V(S,P,N,q,B,H,Y,K,W):X&6?w(S,P,N,q,B,H,Y,K,W):(X&64||X&128)&&G.process(S,P,N,q,B,H,Y,K,W,se)}ce!=null&&B&&bc(ce,S&&S.ref,H,P||S,!P)},D=(S,P,N,q)=>{if(S==null)r(P.el=a(P.children),N,q);else{const B=P.el=S.el;P.children!==S.children&&u(B,P.children)}},L=(S,P,N,q)=>{S==null?r(P.el=l(P.children||""),N,q):P.el=S.el},I=(S,P,N,q)=>{[S.el,S.anchor]=b(S.children,P,N,q,S.el,S.anchor)},C=({el:S,anchor:P},N,q)=>{let B;for(;S&&S!==P;)B=m(S),r(S,N,q),S=B;r(P,N,q)},k=({el:S,anchor:P})=>{let N;for(;S&&S!==P;)N=m(S),s(S),S=N;s(P)},V=(S,P,N,q,B,H,Y,K,W)=>{P.type==="svg"?Y="svg":P.type==="math"&&(Y="mathml"),S==null?j(P,N,q,B,H,Y,K,W):_(S,P,B,H,Y,K,W)},j=(S,P,N,q,B,H,Y,K)=>{let W,G;const{props:ce,shapeFlag:X,transition:oe,dirs:ie}=S;if(W=S.el=o(S.type,H,ce&&ce.is,ce),X&8?d(W,S.children):X&16&&v(S.children,W,null,q,B,Wl(S,H),Y,K),ie&&Dr(S,null,q,"created"),R(W,S,S.scopeId,Y,q),ce){for(const De in ce)De!=="value"&&!yi(De)&&i(W,De,null,ce[De],H,q);"value"in ce&&i(W,"value",null,ce.value,H),(G=ce.onVnodeBeforeMount)&&rn(G,q,S)}ie&&Dr(S,null,q,"beforeMount");const fe=Jw(B,oe);fe&&oe.beforeEnter(W),r(W,P,N),((G=ce&&ce.onVnodeMounted)||fe||ie)&&Ft(()=>{G&&rn(G,q,S),fe&&oe.enter(W),ie&&Dr(S,null,q,"mounted")},B)},R=(S,P,N,q,B)=>{if(N&&g(S,N),q)for(let H=0;H<q.length;H++)g(S,q[H]);if(B){let H=B.subTree;if(P===H||Qm(H.type)&&(H.ssContent===P||H.ssFallback===P)){const Y=B.vnode;R(S,Y,Y.scopeId,Y.slotScopeIds,B.parent)}}},v=(S,P,N,q,B,H,Y,K,W=0)=>{for(let G=W;G<S.length;G++){const ce=S[G]=K?Xn(S[G]):on(S[G]);x(null,ce,P,N,q,B,H,Y,K)}},_=(S,P,N,q,B,H,Y)=>{const K=P.el=S.el;let{patchFlag:W,dynamicChildren:G,dirs:ce}=P;W|=S.patchFlag&16;const X=S.props||Be,oe=P.props||Be;let ie;if(N&&Or(N,!1),(ie=oe.onVnodeBeforeUpdate)&&rn(ie,N,P,S),ce&&Dr(P,S,N,"beforeUpdate"),N&&Or(N,!0),(X.innerHTML&&oe.innerHTML==null||X.textContent&&oe.textContent==null)&&d(K,""),G?E(S.dynamicChildren,G,K,N,q,Wl(P,B),H):Y||Te(S,P,K,null,N,q,Wl(P,B),H,!1),W>0){if(W&16)T(K,X,oe,N,B);else if(W&2&&X.class!==oe.class&&i(K,"class",null,oe.class,B),W&4&&i(K,"style",X.style,oe.style,B),W&8){const fe=P.dynamicProps;for(let De=0;De<fe.length;De++){const xe=fe[De],mt=X[xe],nt=oe[xe];(nt!==mt||xe==="value")&&i(K,xe,mt,nt,B,N)}}W&1&&S.children!==P.children&&d(K,P.children)}else!Y&&G==null&&T(K,X,oe,N,B);((ie=oe.onVnodeUpdated)||ce)&&Ft(()=>{ie&&rn(ie,N,P,S),ce&&Dr(P,S,N,"updated")},q)},E=(S,P,N,q,B,H,Y)=>{for(let K=0;K<P.length;K++){const W=S[K],G=P[K],ce=W.el&&(W.type===st||!Fr(W,G)||W.shapeFlag&70)?f(W.el):N;x(W,G,ce,null,q,B,H,Y,!0)}},T=(S,P,N,q,B)=>{if(P!==N){if(P!==Be)for(const H in P)!yi(H)&&!(H in N)&&i(S,H,P[H],null,B,q);for(const H in N){if(yi(H))continue;const Y=N[H],K=P[H];Y!==K&&H!=="value"&&i(S,H,K,Y,B,q)}"value"in N&&i(S,"value",P.value,N.value,B)}},A=(S,P,N,q,B,H,Y,K,W)=>{const G=P.el=S?S.el:a(""),ce=P.anchor=S?S.anchor:a("");let{patchFlag:X,dynamicChildren:oe,slotScopeIds:ie}=P;ie&&(K=K?K.concat(ie):ie),S==null?(r(G,N,q),r(ce,N,q),v(P.children||[],N,ce,B,H,Y,K,W)):X>0&&X&64&&oe&&S.dynamicChildren?(E(S.dynamicChildren,oe,N,B,H,Y,K),(P.key!=null||B&&P===B.subTree)&&zm(S,P,!0)):Te(S,P,N,ce,B,H,Y,K,W)},w=(S,P,N,q,B,H,Y,K,W)=>{P.slotScopeIds=K,S==null?P.shapeFlag&512?B.ctx.activate(P,N,q,Y,W):ee(P,N,q,B,H,Y,W):he(S,P,W)},ee=(S,P,N,q,B,H,Y)=>{const K=S.component=g0(S,q,B);if(Ga(S)&&(K.ctx.renderer=se),v0(K,!1,Y),K.asyncDep){if(B&&B.registerDep(K,ve,Y),!S.el){const W=K.subTree=ae(Mt);L(null,W,P,N)}}else ve(K,S,P,N,B,H,Y)},he=(S,P,N)=>{const q=P.component=S.component;if(o0(S,P,N))if(q.asyncDep&&!q.asyncResolved){pe(q,P,N);return}else q.next=P,q.update();else P.el=S.el,q.vnode=P},ve=(S,P,N,q,B,H,Y)=>{const K=()=>{if(S.isMounted){let{next:X,bu:oe,u:ie,parent:fe,vnode:De}=S;{const gt=Hm(S);if(gt){X&&(X.el=De.el,pe(S,X,Y)),gt.asyncDep.then(()=>{S.isUnmounted||K()});return}}let xe=X,mt;Or(S,!1),X?(X.el=De.el,pe(S,X,Y)):X=De,oe&&zo(oe),(mt=X.props&&X.props.onVnodeBeforeUpdate)&&rn(mt,fe,X,De),Or(S,!0);const nt=Kl(S),lt=S.subTree;S.subTree=nt,x(lt,nt,f(lt.el),U(lt),S,B,H),X.el=nt.el,xe===null&&a0(S,nt.el),ie&&Ft(ie,B),(mt=X.props&&X.props.onVnodeUpdated)&&Ft(()=>rn(mt,fe,X,De),B)}else{let X;const{el:oe,props:ie}=P,{bm:fe,m:De,parent:xe,root:mt,type:nt}=S,lt=Ti(P);if(Or(S,!1),fe&&zo(fe),!lt&&(X=ie&&ie.onVnodeBeforeMount)&&rn(X,xe,P),Or(S,!0),oe&&Ve){const gt=()=>{S.subTree=Kl(S),Ve(oe,S.subTree,S,B,null)};lt&&nt.__asyncHydrate?nt.__asyncHydrate(oe,S,gt):gt()}else{mt.ce&&mt.ce._injectChildStyle(nt);const gt=S.subTree=Kl(S);x(null,gt,N,q,S,B,H),P.el=gt.el}if(De&&Ft(De,B),!lt&&(X=ie&&ie.onVnodeMounted)){const gt=P;Ft(()=>rn(X,xe,gt),B)}(P.shapeFlag&256||xe&&Ti(xe.vnode)&&xe.vnode.shapeFlag&256)&&S.a&&Ft(S.a,B),S.isMounted=!0,P=N=q=null}};S.scope.on();const W=S.effect=new Zp(K);S.scope.off();const G=S.update=W.run.bind(W),ce=S.job=W.runIfDirty.bind(W);ce.i=S,ce.id=S.uid,W.scheduler=()=>Iu(ce),Or(S,!0),G()},pe=(S,P,N)=>{P.component=S;const q=S.vnode.props;S.vnode=P,S.next=null,zw(S,P.props,q,N),Kw(S,P.children,N),Tr(),Th(S),Ar()},Te=(S,P,N,q,B,H,Y,K,W=!1)=>{const G=S&&S.children,ce=S?S.shapeFlag:0,X=P.children,{patchFlag:oe,shapeFlag:ie}=P;if(oe>0){if(oe&128){kt(G,X,N,q,B,H,Y,K,W);return}else if(oe&256){pt(G,X,N,q,B,H,Y,K,W);return}}ie&8?(ce&16&&Ot(G,B,H),X!==G&&d(N,X)):ce&16?ie&16?kt(G,X,N,q,B,H,Y,K,W):Ot(G,B,H,!0):(ce&8&&d(N,""),ie&16&&v(X,N,q,B,H,Y,K,W))},pt=(S,P,N,q,B,H,Y,K,W)=>{S=S||Es,P=P||Es;const G=S.length,ce=P.length,X=Math.min(G,ce);let oe;for(oe=0;oe<X;oe++){const ie=P[oe]=W?Xn(P[oe]):on(P[oe]);x(S[oe],ie,N,null,B,H,Y,K,W)}G>ce?Ot(S,B,H,!0,!1,X):v(P,N,q,B,H,Y,K,W,X)},kt=(S,P,N,q,B,H,Y,K,W)=>{let G=0;const ce=P.length;let X=S.length-1,oe=ce-1;for(;G<=X&&G<=oe;){const ie=S[G],fe=P[G]=W?Xn(P[G]):on(P[G]);if(Fr(ie,fe))x(ie,fe,N,null,B,H,Y,K,W);else break;G++}for(;G<=X&&G<=oe;){const ie=S[X],fe=P[oe]=W?Xn(P[oe]):on(P[oe]);if(Fr(ie,fe))x(ie,fe,N,null,B,H,Y,K,W);else break;X--,oe--}if(G>X){if(G<=oe){const ie=oe+1,fe=ie<ce?P[ie].el:q;for(;G<=oe;)x(null,P[G]=W?Xn(P[G]):on(P[G]),N,fe,B,H,Y,K,W),G++}}else if(G>oe)for(;G<=X;)je(S[G],B,H,!0),G++;else{const ie=G,fe=G,De=new Map;for(G=fe;G<=oe;G++){const It=P[G]=W?Xn(P[G]):on(P[G]);It.key!=null&&De.set(It.key,G)}let xe,mt=0;const nt=oe-fe+1;let lt=!1,gt=0;const $n=new Array(nt);for(G=0;G<nt;G++)$n[G]=0;for(G=ie;G<=X;G++){const It=S[G];if(mt>=nt){je(It,B,H,!0);continue}let Ht;if(It.key!=null)Ht=De.get(It.key);else for(xe=fe;xe<=oe;xe++)if($n[xe-fe]===0&&Fr(It,P[xe])){Ht=xe;break}Ht===void 0?je(It,B,H,!0):($n[Ht-fe]=G+1,Ht>=gt?gt=Ht:lt=!0,x(It,P[Ht],N,null,B,H,Y,K,W),mt++)}const is=lt?Xw($n):Es;for(xe=is.length-1,G=nt-1;G>=0;G--){const It=fe+G,Ht=P[It],os=It+1<ce?P[It+1].el:q;$n[G]===0?x(null,Ht,N,os,B,H,Y,K,W):lt&&(xe<0||G!==is[xe]?Dt(Ht,N,os,2):xe--)}}},Dt=(S,P,N,q,B=null)=>{const{el:H,type:Y,transition:K,children:W,shapeFlag:G}=S;if(G&6){Dt(S.component.subTree,P,N,q);return}if(G&128){S.suspense.move(P,N,q);return}if(G&64){Y.move(S,P,N,se);return}if(Y===st){r(H,P,N);for(let X=0;X<W.length;X++)Dt(W[X],P,N,q);r(S.anchor,P,N);return}if(Y===Ho){C(S,P,N);return}if(q!==2&&G&1&&K)if(q===0)K.beforeEnter(H),r(H,P,N),Ft(()=>K.enter(H),B);else{const{leave:X,delayLeave:oe,afterLeave:ie}=K,fe=()=>r(H,P,N),De=()=>{X(H,()=>{fe(),ie&&ie()})};oe?oe(H,fe,De):De()}else r(H,P,N)},je=(S,P,N,q=!1,B=!1)=>{const{type:H,props:Y,ref:K,children:W,dynamicChildren:G,shapeFlag:ce,patchFlag:X,dirs:oe,cacheIndex:ie}=S;if(X===-2&&(B=!1),K!=null&&bc(K,null,N,S,!0),ie!=null&&(P.renderCache[ie]=void 0),ce&256){P.ctx.deactivate(S);return}const fe=ce&1&&oe,De=!Ti(S);let xe;if(De&&(xe=Y&&Y.onVnodeBeforeUnmount)&&rn(xe,P,S),ce&6)nn(S.component,N,q);else{if(ce&128){S.suspense.unmount(N,q);return}fe&&Dr(S,null,P,"beforeUnmount"),ce&64?S.type.remove(S,P,N,se,q):G&&!G.hasOnce&&(H!==st||X>0&&X&64)?Ot(G,P,N,!1,!0):(H===st&&X&384||!B&&ce&16)&&Ot(W,P,N),q&&He(S)}(De&&(xe=Y&&Y.onVnodeUnmounted)||fe)&&Ft(()=>{xe&&rn(xe,P,S),fe&&Dr(S,null,P,"unmounted")},N)},He=S=>{const{type:P,el:N,anchor:q,transition:B}=S;if(P===st){Un(N,q);return}if(P===Ho){k(S);return}const H=()=>{s(N),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(S.shapeFlag&1&&B&&!B.persisted){const{leave:Y,delayLeave:K}=B,W=()=>Y(N,H);K?K(S.el,H,W):W()}else H()},Un=(S,P)=>{let N;for(;S!==P;)N=m(S),s(S),S=N;s(P)},nn=(S,P,N)=>{const{bum:q,scope:B,job:H,subTree:Y,um:K,m:W,a:G}=S;xh(W),xh(G),q&&zo(q),B.stop(),H&&(H.flags|=8,je(Y,S,P,N)),K&&Ft(K,P),Ft(()=>{S.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},Ot=(S,P,N,q=!1,B=!1,H=0)=>{for(let Y=H;Y<S.length;Y++)je(S[Y],P,N,q,B)},U=S=>{if(S.shapeFlag&6)return U(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const P=m(S.anchor||S.el),N=P&&P[yw];return N?m(N):P};let te=!1;const J=(S,P,N)=>{S==null?P._vnode&&je(P._vnode,null,null,!0):x(P._vnode||null,S,P,null,null,null,N),P._vnode=S,te||(te=!0,Th(),ym(),te=!1)},se={p:x,um:je,m:Dt,r:He,mt:ee,mc:v,pc:Te,pbc:E,n:U,o:t};let be,Ve;return{render:J,hydrate:be,createApp:$w(J,be)}}function Wl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Or({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Jw(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function zm(t,e,n=!1){const r=t.children,s=e.children;if(ue(r)&&ue(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Xn(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&zm(o,a)),a.type===Ya&&(a.el=o.el)}}function Xw(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Hm(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Hm(e)}function xh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Zw=Symbol.for("v-scx"),e0=()=>Xt(Zw);function lr(t,e,n){return Gm(t,e,n)}function Gm(t,e,n=Be){const{immediate:r,deep:s,flush:i,once:o}=n,a=Xe({},n),l=e&&r||!e&&i!=="post";let u;if(Fi){if(i==="sync"){const g=e0();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=cn,g.resume=cn,g.pause=cn,g}}const d=ot;a.call=(g,b,x)=>Zt(g,d,b,x);let f=!1;i==="post"?a.scheduler=g=>{Ft(g,d&&d.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(g,b)=>{b?g():Iu(g)}),a.augmentJob=g=>{e&&(g.flags|=4),f&&(g.flags|=2,d&&(g.id=d.uid,g.i=d))};const m=mw(t,e,a);return Fi&&(u?u.push(m):l&&m()),m}function t0(t,e,n){const r=this.proxy,s=Ye(t)?t.includes(".")?Wm(r,t):()=>r[t]:t.bind(r,r);let i;we(e)?i=e:(i=e.handler,n=e);const o=ro(this),a=Gm(s,i.bind(r),n);return o(),a}function Wm(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const n0=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Qt(e)}Modifiers`]||t[`${Er(e)}Modifiers`];function r0(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Be;let s=n;const i=e.startsWith("update:"),o=i&&n0(r,e.slice(7));o&&(o.trim&&(s=n.map(d=>Ye(d)?d.trim():d)),o.number&&(s=n.map(ia)));let a,l=r[a=Ul(e)]||r[a=Ul(Qt(e))];!l&&i&&(l=r[a=Ul(Er(e))]),l&&Zt(l,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Zt(u,t,6,s)}}function Km(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!we(t)){const l=u=>{const d=Km(u,e,!0);d&&(a=!0,Xe(o,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Ue(t)&&r.set(t,null),null):(ue(i)?i.forEach(l=>o[l]=null):Xe(o,i),Ue(t)&&r.set(t,o),o)}function Qa(t,e){return!t||!Va(e)?!1:(e=e.slice(2).replace(/Once$/,""),Oe(t,e[0].toLowerCase()+e.slice(1))||Oe(t,Er(e))||Oe(t,e))}function Kl(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:d,props:f,data:m,setupState:g,ctx:b,inheritAttrs:x}=t,D=ca(t);let L,I;try{if(n.shapeFlag&4){const k=s||r,V=k;L=on(u.call(V,k,d,f,g,m,b)),I=a}else{const k=e;L=on(k.length>1?k(f,{attrs:a,slots:o,emit:l}):k(f,null)),I=e.props?a:s0(a)}}catch(k){Si.length=0,Ha(k,t,1),L=ae(Mt)}let C=L;if(I&&x!==!1){const k=Object.keys(I),{shapeFlag:V}=C;k.length&&V&7&&(i&&k.some(pu)&&(I=i0(I,i)),C=pr(C,I,!1,!0))}return n.dirs&&(C=pr(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&Ni(C,n.transition),L=C,ca(D),L}const s0=t=>{let e;for(const n in t)(n==="class"||n==="style"||Va(n))&&((e||(e={}))[n]=t[n]);return e},i0=(t,e)=>{const n={};for(const r in t)(!pu(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function o0(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?kh(r,o,u):!!o;if(l&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const m=d[f];if(o[m]!==r[m]&&!Qa(u,m))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?kh(r,o,u):!0:!!o;return!1}function kh(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Qa(n,i))return!0}return!1}function a0({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Qm=t=>t.__isSuspense;function l0(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):vw(t)}const st=Symbol.for("v-fgt"),Ya=Symbol.for("v-txt"),Mt=Symbol.for("v-cmt"),Ho=Symbol.for("v-stc"),Si=[];let $t=null;function Z(t=!1){Si.push($t=t?null:[])}function c0(){Si.pop(),$t=Si[Si.length-1]||null}let Vi=1;function Dh(t){Vi+=t,t<0&&$t&&($t.hasOnce=!0)}function Ym(t){return t.dynamicChildren=Vi>0?$t||Es:null,c0(),Vi>0&&$t&&$t.push(t),t}function re(t,e,n,r,s,i){return Ym(M(t,e,n,r,s,i,!0))}function es(t,e,n,r,s){return Ym(ae(t,e,n,r,s,!0))}function da(t){return t?t.__v_isVNode===!0:!1}function Fr(t,e){return t.type===e.type&&t.key===e.key}const Jm=({key:t})=>t??null,Go=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ye(t)||Qe(t)||we(t)?{i:xt,r:t,k:e,f:!!n}:t:null);function M(t,e=null,n=null,r=0,s=null,i=t===st?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Jm(e),ref:e&&Go(e),scopeId:Em,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:xt};return a?(Pu(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Ye(n)?8:16),Vi>0&&!o&&$t&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&$t.push(l),l}const ae=u0;function u0(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Dw)&&(t=Mt),da(t)){const a=pr(t,e,!0);return n&&Pu(a,n),Vi>0&&!i&&$t&&(a.shapeFlag&6?$t[$t.indexOf(t)]=a:$t.push(a)),a.patchFlag=-2,a}if(A0(t)&&(t=t.__vccOpts),e){e=d0(e);let{class:a,style:l}=e;a&&!Ye(a)&&(e.class=ja(a)),Ue(l)&&(Au(l)&&!ue(l)&&(l=Xe({},l)),e.style=Xi(l))}const o=Ye(t)?1:Qm(t)?128:Tm(t)?64:Ue(t)?4:we(t)?2:0;return M(t,e,n,r,s,o,i,!0)}function d0(t){return t?Au(t)||Vm(t)?Xe({},t):t:null}function pr(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?f0(s||{},e):s,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Jm(u),ref:e&&e.ref?n&&i?ue(i)?i.concat(Go(e)):[i,Go(e)]:Go(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==st?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&pr(t.ssContent),ssFallback:t.ssFallback&&pr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Ni(d,l.clone(d)),d}function h0(t=" ",e=0){return ae(Ya,null,t,e)}function Xm(t,e){const n=ae(Ho,null,t);return n.staticCount=e,n}function Pn(t="",e=!1){return e?(Z(),es(Mt,null,t)):ae(Mt,null,t)}function on(t){return t==null||typeof t=="boolean"?ae(Mt):ue(t)?ae(st,null,t.slice()):da(t)?Xn(t):ae(Ya,null,String(t))}function Xn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:pr(t)}function Pu(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Pu(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Vm(e)?e._ctx=xt:s===3&&xt&&(xt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else we(e)?(e={default:e,_ctx:xt},n=32):(e=String(e),r&64?(n=16,e=[h0(e)]):n=8);t.children=e,t.shapeFlag|=n}function f0(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=ja([e.class,r.class]));else if(s==="style")e.style=Xi([e.style,r.style]);else if(Va(s)){const i=e[s],o=r[s];o&&i!==o&&!(ue(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function rn(t,e,n,r=null){Zt(t,e,7,[n,r])}const p0=Lm();let m0=0;function g0(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||p0,i={uid:m0++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Yp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bm(r,s),emitsOptions:Km(r,s),emit:null,emitted:null,propsDefaults:Be,inheritAttrs:r.inheritAttrs,ctx:Be,data:Be,props:Be,attrs:Be,slots:Be,refs:Be,setupState:Be,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=r0.bind(null,i),t.ce&&t.ce(i),i}let ot=null;const _0=()=>ot||xt;let ha,kc;{const t=$a(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};ha=e("__VUE_INSTANCE_SETTERS__",n=>ot=n),kc=e("__VUE_SSR_SETTERS__",n=>Fi=n)}const ro=t=>{const e=ot;return ha(t),t.scope.on(),()=>{t.scope.off(),ha(e)}},Oh=()=>{ot&&ot.scope.off(),ha(null)};function Zm(t){return t.vnode.shapeFlag&4}let Fi=!1;function v0(t,e=!1,n=!1){e&&kc(e);const{props:r,children:s}=t.vnode,i=Zm(t);qw(t,r,i,e),Ww(t,s,n);const o=i?y0(t,e):void 0;return e&&kc(!1),o}function y0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Lw);const{setup:r}=n;if(r){Tr();const s=t.setupContext=r.length>1?E0(t):null,i=ro(t),o=eo(r,t,0,[t.props,s]),a=qp(o);if(Ar(),i(),(a||t.sp)&&!Ti(t)&&Pm(t),a){if(o.then(Oh,Oh),e)return o.then(l=>{Lh(t,l,e)}).catch(l=>{Ha(l,t,0)});t.asyncDep=o}else Lh(t,o,e)}else eg(t,e)}function Lh(t,e,n){we(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ue(e)&&(t.setupState=gm(e)),eg(t,n)}let Mh;function eg(t,e,n){const r=t.type;if(!t.render){if(!e&&Mh&&!r.render){const s=r.template||Cu(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Xe(Xe({isCustomElement:i,delimiters:a},o),l);r.render=Mh(s,u)}}t.render=r.render||cn}{const s=ro(t);Tr();try{Mw(t)}finally{Ar(),s()}}}const w0={get(t,e){return Et(t,"get",""),t[e]}};function E0(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,w0),slots:t.slots,emit:t.emit,expose:e}}function Ja(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(gm(Su(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ai)return Ai[n](t)},has(e,n){return n in e||n in Ai}})):t.proxy}function T0(t,e=!0){return we(t)?t.displayName||t.name:t.name||e&&t.__name}function A0(t){return we(t)&&"__vccOpts"in t}const Ut=(t,e)=>fw(t,e,Fi);function it(t,e,n){const r=arguments.length;return r===2?Ue(e)&&!ue(e)?da(e)?ae(t,null,[e]):ae(t,e):ae(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&da(n)&&(n=[n]),ae(t,e,n))}const S0="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Dc;const Nh=typeof window<"u"&&window.trustedTypes;if(Nh)try{Dc=Nh.createPolicy("vue",{createHTML:t=>t})}catch{}const tg=Dc?t=>Dc.createHTML(t):t=>t,I0="http://www.w3.org/2000/svg",b0="http://www.w3.org/1998/Math/MathML",An=typeof document<"u"?document:null,Vh=An&&An.createElement("template"),C0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?An.createElementNS(I0,t):e==="mathml"?An.createElementNS(b0,t):n?An.createElement(t,{is:n}):An.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>An.createTextNode(t),createComment:t=>An.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>An.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Vh.innerHTML=tg(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Vh.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Hn="transition",ui="animation",Bi=Symbol("_vtc"),ng={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},R0=Xe({},Am,ng),P0=t=>(t.displayName="Transition",t.props=R0,t),rg=P0((t,{slots:e})=>it(Tw,x0(t),e)),Lr=(t,e=[])=>{ue(t)?t.forEach(n=>n(...e)):t&&t(...e)},Fh=t=>t?ue(t)?t.some(e=>e.length>1):t.length>1:!1;function x0(t){const e={};for(const A in t)A in ng||(e[A]=t[A]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:d=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,b=k0(s),x=b&&b[0],D=b&&b[1],{onBeforeEnter:L,onEnter:I,onEnterCancelled:C,onLeave:k,onLeaveCancelled:V,onBeforeAppear:j=L,onAppear:R=I,onAppearCancelled:v=C}=e,_=(A,w,ee)=>{Mr(A,w?d:a),Mr(A,w?u:o),ee&&ee()},E=(A,w)=>{A._isLeaving=!1,Mr(A,f),Mr(A,g),Mr(A,m),w&&w()},T=A=>(w,ee)=>{const he=A?R:I,ve=()=>_(w,A,ee);Lr(he,[w,ve]),Bh(()=>{Mr(w,A?l:i),Gn(w,A?d:a),Fh(he)||Uh(w,r,x,ve)})};return Xe(e,{onBeforeEnter(A){Lr(L,[A]),Gn(A,i),Gn(A,o)},onBeforeAppear(A){Lr(j,[A]),Gn(A,l),Gn(A,u)},onEnter:T(!1),onAppear:T(!0),onLeave(A,w){A._isLeaving=!0;const ee=()=>E(A,w);Gn(A,f),Gn(A,m),L0(),Bh(()=>{A._isLeaving&&(Mr(A,f),Gn(A,g),Fh(k)||Uh(A,r,D,ee))}),Lr(k,[A,ee])},onEnterCancelled(A){_(A,!1),Lr(C,[A])},onAppearCancelled(A){_(A,!0),Lr(v,[A])},onLeaveCancelled(A){E(A),Lr(V,[A])}})}function k0(t){if(t==null)return null;if(Ue(t))return[Ql(t.enter),Ql(t.leave)];{const e=Ql(t);return[e,e]}}function Ql(t){return ky(t)}function Gn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Bi]||(t[Bi]=new Set)).add(e)}function Mr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Bi];n&&(n.delete(e),n.size||(t[Bi]=void 0))}function Bh(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let D0=0;function Uh(t,e,n,r){const s=t._endId=++D0,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=O0(t,e);if(!o)return r();const u=o+"end";let d=0;const f=()=>{t.removeEventListener(u,m),i()},m=g=>{g.target===t&&++d>=l&&f()};setTimeout(()=>{d<l&&f()},a+1),t.addEventListener(u,m)}function O0(t,e){const n=window.getComputedStyle(t),r=b=>(n[b]||"").split(", "),s=r(`${Hn}Delay`),i=r(`${Hn}Duration`),o=$h(s,i),a=r(`${ui}Delay`),l=r(`${ui}Duration`),u=$h(a,l);let d=null,f=0,m=0;e===Hn?o>0&&(d=Hn,f=o,m=i.length):e===ui?u>0&&(d=ui,f=u,m=l.length):(f=Math.max(o,u),d=f>0?o>u?Hn:ui:null,m=d?d===Hn?i.length:l.length:0);const g=d===Hn&&/\b(transform|all)(,|$)/.test(r(`${Hn}Property`).toString());return{type:d,timeout:f,propCount:m,hasTransform:g}}function $h(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>jh(n)+jh(t[r])))}function jh(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function L0(){return document.body.offsetHeight}function M0(t,e,n){const r=t[Bi];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const qh=Symbol("_vod"),N0=Symbol("_vsh"),V0=Symbol(""),F0=/(^|;)\s*display\s*:/;function B0(t,e,n){const r=t.style,s=Ye(n);let i=!1;if(n&&!s){if(e)if(Ye(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Wo(r,a,"")}else for(const o in e)n[o]==null&&Wo(r,o,"");for(const o in n)o==="display"&&(i=!0),Wo(r,o,n[o])}else if(s){if(e!==n){const o=r[V0];o&&(n+=";"+o),r.cssText=n,i=F0.test(n)}}else e&&t.removeAttribute("style");qh in t&&(t[qh]=i?r.display:"",t[N0]&&(r.display="none"))}const zh=/\s*!important$/;function Wo(t,e,n){if(ue(n))n.forEach(r=>Wo(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=U0(t,e);zh.test(n)?t.setProperty(Er(r),n.replace(zh,""),"important"):t[r]=n}}const Hh=["Webkit","Moz","ms"],Yl={};function U0(t,e){const n=Yl[e];if(n)return n;let r=Qt(e);if(r!=="filter"&&r in t)return Yl[e]=r;r=Ua(r);for(let s=0;s<Hh.length;s++){const i=Hh[s]+r;if(i in t)return Yl[e]=i}return e}const Gh="http://www.w3.org/1999/xlink";function Wh(t,e,n,r,s,i=Vy(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Gh,e.slice(6,e.length)):t.setAttributeNS(Gh,e,n):n==null||i&&!Wp(n)?t.removeAttribute(e):t.setAttribute(e,i?"":pn(n)?String(n):n)}function Kh(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?tg(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Wp(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Br(t,e,n,r){t.addEventListener(e,n,r)}function $0(t,e,n,r){t.removeEventListener(e,n,r)}const Qh=Symbol("_vei");function j0(t,e,n,r,s=null){const i=t[Qh]||(t[Qh]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=q0(e);if(r){const u=i[e]=G0(r,s);Br(t,a,u,l)}else o&&($0(t,a,o,l),i[e]=void 0)}}const Yh=/(?:Once|Passive|Capture)$/;function q0(t){let e;if(Yh.test(t)){e={};let r;for(;r=t.match(Yh);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Er(t.slice(2)),e]}let Jl=0;const z0=Promise.resolve(),H0=()=>Jl||(z0.then(()=>Jl=0),Jl=Date.now());function G0(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Zt(W0(r,n.value),e,5,[r])};return n.value=t,n.attached=H0(),n}function W0(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Jh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,K0=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?M0(t,r,o):e==="style"?B0(t,n,r):Va(e)?pu(e)||j0(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Q0(t,e,r,o))?(Kh(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Wh(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ye(r))?Kh(t,Qt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Wh(t,e,r,o))};function Q0(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Jh(e)&&we(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Jh(e)&&Ye(n)?!1:e in t}const fa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ue(e)?n=>zo(e,n):e};function Y0(t){t.target.composing=!0}function Xh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const bs=Symbol("_assign"),mr={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[bs]=fa(s);const i=r||s.props&&s.props.type==="number";Br(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=ia(a)),t[bs](a)}),n&&Br(t,"change",()=>{t.value=t.value.trim()}),e||(Br(t,"compositionstart",Y0),Br(t,"compositionend",Xh),Br(t,"change",Xh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[bs]=fa(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?ia(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},J0={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Fa(e);Br(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?ia(pa(o)):pa(o));t[bs](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,to(()=>{t._assigning=!1})}),t[bs]=fa(r)},mounted(t,{value:e}){Zh(t,e)},beforeUpdate(t,e,n){t[bs]=fa(n)},updated(t,{value:e}){t._assigning||Zh(t,e)}};function Zh(t,e){const n=t.multiple,r=ue(e);if(!(n&&!r&&!Fa(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=pa(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=By(e,a)>-1}else o.selected=e.has(a);else if(qa(pa(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function pa(t){return"_value"in t?t._value:t.value}const X0=["ctrl","shift","alt","meta"],Z0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>X0.some(n=>t[`${n}Key`]&&!e.includes(n))},e1=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=Z0[e[o]];if(a&&a(s,e))return}return t(s,...i)})},t1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},n1=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Er(s.key);if(e.some(o=>o===i||t1[o]===i))return t(s)})},r1=Xe({patchProp:K0},C0);let ef;function s1(){return ef||(ef=Qw(r1))}const i1=(...t)=>{const e=s1().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=a1(r);if(!s)return;const i=e._component;!we(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,o1(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function o1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function a1(t){return Ye(t)?document.querySelector(t):t}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ps=typeof document<"u";function sg(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function l1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&sg(t.default)}const Me=Object.assign;function Xl(t,e){const n={};for(const r in e){const s=e[r];n[r]=en(s)?s.map(t):t(s)}return n}const Ii=()=>{},en=Array.isArray,ig=/#/g,c1=/&/g,u1=/\//g,d1=/=/g,h1=/\?/g,og=/\+/g,f1=/%5B/g,p1=/%5D/g,ag=/%5E/g,m1=/%60/g,lg=/%7B/g,g1=/%7C/g,cg=/%7D/g,_1=/%20/g;function xu(t){return encodeURI(""+t).replace(g1,"|").replace(f1,"[").replace(p1,"]")}function v1(t){return xu(t).replace(lg,"{").replace(cg,"}").replace(ag,"^")}function Oc(t){return xu(t).replace(og,"%2B").replace(_1,"+").replace(ig,"%23").replace(c1,"%26").replace(m1,"`").replace(lg,"{").replace(cg,"}").replace(ag,"^")}function y1(t){return Oc(t).replace(d1,"%3D")}function w1(t){return xu(t).replace(ig,"%23").replace(h1,"%3F")}function E1(t){return t==null?"":w1(t).replace(u1,"%2F")}function Ui(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const T1=/\/$/,A1=t=>t.replace(T1,"");function Zl(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=C1(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Ui(o)}}function S1(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function tf(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function I1(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Ds(e.matched[r],n.matched[s])&&ug(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ds(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ug(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!b1(t[n],e[n]))return!1;return!0}function b1(t,e){return en(t)?nf(t,e):en(e)?nf(e,t):t===e}function nf(t,e){return en(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function C1(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Wn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var $i;(function(t){t.pop="pop",t.push="push"})($i||($i={}));var bi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(bi||(bi={}));function R1(t){if(!t)if(ps){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),A1(t)}const P1=/^[^#]+#/;function x1(t,e){return t.replace(P1,"#")+e}function k1(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Xa=()=>({left:window.scrollX,top:window.scrollY});function D1(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=k1(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function rf(t,e){return(history.state?history.state.position-e:-1)+t}const Lc=new Map;function O1(t,e){Lc.set(t,e)}function L1(t){const e=Lc.get(t);return Lc.delete(t),e}let M1=()=>location.protocol+"//"+location.host;function dg(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),tf(l,"")}return tf(n,t)+r+s}function N1(t,e,n,r){let s=[],i=[],o=null;const a=({state:m})=>{const g=dg(t,location),b=n.value,x=e.value;let D=0;if(m){if(n.value=g,e.value=m,o&&o===b){o=null;return}D=x?m.position-x.position:0}else r(g);s.forEach(L=>{L(n.value,b,{delta:D,type:$i.pop,direction:D?D>0?bi.forward:bi.back:bi.unknown})})};function l(){o=n.value}function u(m){s.push(m);const g=()=>{const b=s.indexOf(m);b>-1&&s.splice(b,1)};return i.push(g),g}function d(){const{history:m}=window;m.state&&m.replaceState(Me({},m.state,{scroll:Xa()}),"")}function f(){for(const m of i)m();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function sf(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Xa():null}}function V1(t){const{history:e,location:n}=window,r={value:dg(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,d){const f=t.indexOf("#"),m=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:M1()+t+l;try{e[d?"replaceState":"pushState"](u,"",m),s.value=u}catch(g){console.error(g),n[d?"replace":"assign"](m)}}function o(l,u){const d=Me({},e.state,sf(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,d,!0),r.value=l}function a(l,u){const d=Me({},s.value,e.state,{forward:l,scroll:Xa()});i(d.current,d,!0);const f=Me({},sf(r.value,l,null),{position:d.position+1},u);i(l,f,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function F1(t){t=R1(t);const e=V1(t),n=N1(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Me({location:"",base:t,go:r,createHref:x1.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function B1(t){return typeof t=="string"||t&&typeof t=="object"}function hg(t){return typeof t=="string"||typeof t=="symbol"}const fg=Symbol("");var of;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(of||(of={}));function Os(t,e){return Me(new Error,{type:t,[fg]:!0},e)}function wn(t,e){return t instanceof Error&&fg in t&&(e==null||!!(t.type&e))}const af="[^/]+?",U1={sensitive:!1,strict:!1,start:!0,end:!0},$1=/[.+*?^${}()[\]/\\]/g;function j1(t,e){const n=Me({},U1,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const d=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const m=u[f];let g=40+(n.sensitive?.25:0);if(m.type===0)f||(s+="/"),s+=m.value.replace($1,"\\$&"),g+=40;else if(m.type===1){const{value:b,repeatable:x,optional:D,regexp:L}=m;i.push({name:b,repeatable:x,optional:D});const I=L||af;if(I!==af){g+=10;try{new RegExp(`(${I})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${b}" (${I}): `+k.message)}}let C=x?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;f||(C=D&&u.length<2?`(?:/${C})`:"/"+C),D&&(C+="?"),s+=C,g+=20,D&&(g+=-8),x&&(g+=-20),I===".*"&&(g+=-50)}d.push(g)}r.push(d)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const d=u.match(o),f={};if(!d)return null;for(let m=1;m<d.length;m++){const g=d[m]||"",b=i[m-1];f[b.name]=g&&b.repeatable?g.split("/"):g}return f}function l(u){let d="",f=!1;for(const m of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const g of m)if(g.type===0)d+=g.value;else if(g.type===1){const{value:b,repeatable:x,optional:D}=g,L=b in u?u[b]:"";if(en(L)&&!x)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const I=en(L)?L.join("/"):L;if(!I)if(D)m.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${b}"`);d+=I}}return d||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function q1(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function pg(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=q1(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(lf(r))return 1;if(lf(s))return-1}return s.length-r.length}function lf(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const z1={type:0,value:""},H1=/[a-zA-Z0-9_]/;function G1(t){if(!t)return[[]];if(t==="/")return[[z1]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",d="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function m(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):m();break;case 4:m(),n=r;break;case 1:l==="("?n=2:H1.test(l)?m():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),s}function W1(t,e,n){const r=j1(G1(t.path),n),s=Me(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function K1(t,e){const n=[],r=new Map;e=hf({strict:!1,end:!0,sensitive:!1},e);function s(f){return r.get(f)}function i(f,m,g){const b=!g,x=uf(f);x.aliasOf=g&&g.record;const D=hf(e,f),L=[x];if("alias"in f){const k=typeof f.alias=="string"?[f.alias]:f.alias;for(const V of k)L.push(uf(Me({},x,{components:g?g.record.components:x.components,path:V,aliasOf:g?g.record:x})))}let I,C;for(const k of L){const{path:V}=k;if(m&&V[0]!=="/"){const j=m.record.path,R=j[j.length-1]==="/"?"":"/";k.path=m.record.path+(V&&R+V)}if(I=W1(k,m,D),g?g.alias.push(I):(C=C||I,C!==I&&C.alias.push(I),b&&f.name&&!df(I)&&o(f.name)),mg(I)&&l(I),x.children){const j=x.children;for(let R=0;R<j.length;R++)i(j[R],I,g&&g.children[R])}g=g||I}return C?()=>{o(C)}:Ii}function o(f){if(hg(f)){const m=r.get(f);m&&(r.delete(f),n.splice(n.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=n.indexOf(f);m>-1&&(n.splice(m,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const m=J1(f,n);n.splice(m,0,f),f.record.name&&!df(f)&&r.set(f.record.name,f)}function u(f,m){let g,b={},x,D;if("name"in f&&f.name){if(g=r.get(f.name),!g)throw Os(1,{location:f});D=g.record.name,b=Me(cf(m.params,g.keys.filter(C=>!C.optional).concat(g.parent?g.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),f.params&&cf(f.params,g.keys.map(C=>C.name))),x=g.stringify(b)}else if(f.path!=null)x=f.path,g=n.find(C=>C.re.test(x)),g&&(b=g.parse(x),D=g.record.name);else{if(g=m.name?r.get(m.name):n.find(C=>C.re.test(m.path)),!g)throw Os(1,{location:f,currentLocation:m});D=g.record.name,b=Me({},m.params,f.params),x=g.stringify(b)}const L=[];let I=g;for(;I;)L.unshift(I.record),I=I.parent;return{name:D,path:x,params:b,matched:L,meta:Y1(L)}}t.forEach(f=>i(f));function d(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:s}}function cf(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function uf(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Q1(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Q1(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function df(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Y1(t){return t.reduce((e,n)=>Me(e,n.meta),{})}function hf(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function J1(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;pg(t,e[i])<0?r=i:n=i+1}const s=X1(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function X1(t){let e=t;for(;e=e.parent;)if(mg(e)&&pg(t,e)===0)return e}function mg({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Z1(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(og," "),o=i.indexOf("="),a=Ui(o<0?i:i.slice(0,o)),l=o<0?null:Ui(i.slice(o+1));if(a in e){let u=e[a];en(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function ff(t){let e="";for(let n in t){const r=t[n];if(n=y1(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(en(r)?r.map(i=>i&&Oc(i)):[r&&Oc(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function eE(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=en(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const tE=Symbol(""),pf=Symbol(""),ku=Symbol(""),Du=Symbol(""),Mc=Symbol("");function di(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Zn(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=m=>{m===!1?l(Os(4,{from:n,to:e})):m instanceof Error?l(m):B1(m)?l(Os(2,{from:e,to:m})):(o&&r.enterCallbacks[s]===o&&typeof m=="function"&&o.push(m),a())},d=i(()=>t.call(r&&r.instances[s],e,n,u));let f=Promise.resolve(d);t.length<3&&(f=f.then(u)),f.catch(m=>l(m))})}function ec(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(sg(l)){const d=(l.__vccOpts||l)[e];d&&i.push(Zn(d,n,r,o,a,s))}else{let u=l();i.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=l1(d)?d.default:d;o.mods[a]=d,o.components[a]=f;const g=(f.__vccOpts||f)[e];return g&&Zn(g,n,r,o,a,s)()}))}}return i}function mf(t){const e=Xt(ku),n=Xt(Du),r=Ut(()=>{const l=As(t.to);return e.resolve(l)}),s=Ut(()=>{const{matched:l}=r.value,{length:u}=l,d=l[u-1],f=n.matched;if(!d||!f.length)return-1;const m=f.findIndex(Ds.bind(null,d));if(m>-1)return m;const g=gf(l[u-2]);return u>1&&gf(d)===g&&f[f.length-1].path!==g?f.findIndex(Ds.bind(null,l[u-2])):m}),i=Ut(()=>s.value>-1&&iE(n.params,r.value.params)),o=Ut(()=>s.value>-1&&s.value===n.matched.length-1&&ug(n.params,r.value.params));function a(l={}){return sE(l)?e[As(t.replace)?"replace":"push"](As(t.to)).catch(Ii):Promise.resolve()}return{route:r,href:Ut(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const nE=Rm({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:mf,setup(t,{slots:e}){const n=Zi(mf(t)),{options:r}=Xt(ku),s=Ut(()=>({[_f(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[_f(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:it("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),rE=nE;function sE(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function iE(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!en(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function gf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _f=(t,e,n)=>t??e??n,oE=Rm({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Xt(Mc),s=Ut(()=>t.route||r.value),i=Xt(pf,0),o=Ut(()=>{let u=As(i);const{matched:d}=s.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),a=Ut(()=>s.value.matched[o.value]);Is(pf,Ut(()=>o.value+1)),Is(tE,a),Is(Mc,s);const l=Ze();return lr(()=>[l.value,a.value,t.name],([u,d,f],[m,g,b])=>{d&&(d.instances[f]=u,g&&g!==d&&u&&u===m&&(d.leaveGuards.size||(d.leaveGuards=g.leaveGuards),d.updateGuards.size||(d.updateGuards=g.updateGuards))),u&&d&&(!g||!Ds(d,g)||!m)&&(d.enterCallbacks[f]||[]).forEach(x=>x(u))},{flush:"post"}),()=>{const u=s.value,d=t.name,f=a.value,m=f&&f.components[d];if(!m)return vf(n.default,{Component:m,route:u});const g=f.props[d],b=g?g===!0?u.params:typeof g=="function"?g(u):g:null,D=it(m,Me({},b,e,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(f.instances[d]=null)},ref:l}));return vf(n.default,{Component:D,route:u})||D}}});function vf(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const aE=oE;function lE(t){const e=K1(t.routes,t),n=t.parseQuery||Z1,r=t.stringifyQuery||ff,s=t.history,i=di(),o=di(),a=di(),l=ow(Wn);let u=Wn;ps&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Xl.bind(null,U=>""+U),f=Xl.bind(null,E1),m=Xl.bind(null,Ui);function g(U,te){let J,se;return hg(U)?(J=e.getRecordMatcher(U),se=te):se=U,e.addRoute(se,J)}function b(U){const te=e.getRecordMatcher(U);te&&e.removeRoute(te)}function x(){return e.getRoutes().map(U=>U.record)}function D(U){return!!e.getRecordMatcher(U)}function L(U,te){if(te=Me({},te||l.value),typeof U=="string"){const P=Zl(n,U,te.path),N=e.resolve({path:P.path},te),q=s.createHref(P.fullPath);return Me(P,N,{params:m(N.params),hash:Ui(P.hash),redirectedFrom:void 0,href:q})}let J;if(U.path!=null)J=Me({},U,{path:Zl(n,U.path,te.path).path});else{const P=Me({},U.params);for(const N in P)P[N]==null&&delete P[N];J=Me({},U,{params:f(P)}),te.params=f(te.params)}const se=e.resolve(J,te),be=U.hash||"";se.params=d(m(se.params));const Ve=S1(r,Me({},U,{hash:v1(be),path:se.path})),S=s.createHref(Ve);return Me({fullPath:Ve,hash:be,query:r===ff?eE(U.query):U.query||{}},se,{redirectedFrom:void 0,href:S})}function I(U){return typeof U=="string"?Zl(n,U,l.value.path):Me({},U)}function C(U,te){if(u!==U)return Os(8,{from:te,to:U})}function k(U){return R(U)}function V(U){return k(Me(I(U),{replace:!0}))}function j(U){const te=U.matched[U.matched.length-1];if(te&&te.redirect){const{redirect:J}=te;let se=typeof J=="function"?J(U):J;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=I(se):{path:se},se.params={}),Me({query:U.query,hash:U.hash,params:se.path!=null?{}:U.params},se)}}function R(U,te){const J=u=L(U),se=l.value,be=U.state,Ve=U.force,S=U.replace===!0,P=j(J);if(P)return R(Me(I(P),{state:typeof P=="object"?Me({},be,P.state):be,force:Ve,replace:S}),te||J);const N=J;N.redirectedFrom=te;let q;return!Ve&&I1(r,se,J)&&(q=Os(16,{to:N,from:se}),Dt(se,se,!0,!1)),(q?Promise.resolve(q):E(N,se)).catch(B=>wn(B)?wn(B,2)?B:kt(B):Te(B,N,se)).then(B=>{if(B){if(wn(B,2))return R(Me({replace:S},I(B.to),{state:typeof B.to=="object"?Me({},be,B.to.state):be,force:Ve}),te||N)}else B=A(N,se,!0,S,be);return T(N,se,B),B})}function v(U,te){const J=C(U,te);return J?Promise.reject(J):Promise.resolve()}function _(U){const te=Un.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(U):U()}function E(U,te){let J;const[se,be,Ve]=cE(U,te);J=ec(se.reverse(),"beforeRouteLeave",U,te);for(const P of se)P.leaveGuards.forEach(N=>{J.push(Zn(N,U,te))});const S=v.bind(null,U,te);return J.push(S),Ot(J).then(()=>{J=[];for(const P of i.list())J.push(Zn(P,U,te));return J.push(S),Ot(J)}).then(()=>{J=ec(be,"beforeRouteUpdate",U,te);for(const P of be)P.updateGuards.forEach(N=>{J.push(Zn(N,U,te))});return J.push(S),Ot(J)}).then(()=>{J=[];for(const P of Ve)if(P.beforeEnter)if(en(P.beforeEnter))for(const N of P.beforeEnter)J.push(Zn(N,U,te));else J.push(Zn(P.beforeEnter,U,te));return J.push(S),Ot(J)}).then(()=>(U.matched.forEach(P=>P.enterCallbacks={}),J=ec(Ve,"beforeRouteEnter",U,te,_),J.push(S),Ot(J))).then(()=>{J=[];for(const P of o.list())J.push(Zn(P,U,te));return J.push(S),Ot(J)}).catch(P=>wn(P,8)?P:Promise.reject(P))}function T(U,te,J){a.list().forEach(se=>_(()=>se(U,te,J)))}function A(U,te,J,se,be){const Ve=C(U,te);if(Ve)return Ve;const S=te===Wn,P=ps?history.state:{};J&&(se||S?s.replace(U.fullPath,Me({scroll:S&&P&&P.scroll},be)):s.push(U.fullPath,be)),l.value=U,Dt(U,te,J,S),kt()}let w;function ee(){w||(w=s.listen((U,te,J)=>{if(!nn.listening)return;const se=L(U),be=j(se);if(be){R(Me(be,{replace:!0}),se).catch(Ii);return}u=se;const Ve=l.value;ps&&O1(rf(Ve.fullPath,J.delta),Xa()),E(se,Ve).catch(S=>wn(S,12)?S:wn(S,2)?(R(S.to,se).then(P=>{wn(P,20)&&!J.delta&&J.type===$i.pop&&s.go(-1,!1)}).catch(Ii),Promise.reject()):(J.delta&&s.go(-J.delta,!1),Te(S,se,Ve))).then(S=>{S=S||A(se,Ve,!1),S&&(J.delta&&!wn(S,8)?s.go(-J.delta,!1):J.type===$i.pop&&wn(S,20)&&s.go(-1,!1)),T(se,Ve,S)}).catch(Ii)}))}let he=di(),ve=di(),pe;function Te(U,te,J){kt(U);const se=ve.list();return se.length?se.forEach(be=>be(U,te,J)):console.error(U),Promise.reject(U)}function pt(){return pe&&l.value!==Wn?Promise.resolve():new Promise((U,te)=>{he.add([U,te])})}function kt(U){return pe||(pe=!U,ee(),he.list().forEach(([te,J])=>U?J(U):te()),he.reset()),U}function Dt(U,te,J,se){const{scrollBehavior:be}=t;if(!ps||!be)return Promise.resolve();const Ve=!J&&L1(rf(U.fullPath,0))||(se||!J)&&history.state&&history.state.scroll||null;return to().then(()=>be(U,te,Ve)).then(S=>S&&D1(S)).catch(S=>Te(S,U,te))}const je=U=>s.go(U);let He;const Un=new Set,nn={currentRoute:l,listening:!0,addRoute:g,removeRoute:b,clearRoutes:e.clearRoutes,hasRoute:D,getRoutes:x,resolve:L,options:t,push:k,replace:V,go:je,back:()=>je(-1),forward:()=>je(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ve.add,isReady:pt,install(U){const te=this;U.component("RouterLink",rE),U.component("RouterView",aE),U.config.globalProperties.$router=te,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>As(l)}),ps&&!He&&l.value===Wn&&(He=!0,k(s.location).catch(be=>{}));const J={};for(const be in Wn)Object.defineProperty(J,be,{get:()=>l.value[be],enumerable:!0});U.provide(ku,te),U.provide(Du,fm(J)),U.provide(Mc,l);const se=U.unmount;Un.add(U),U.unmount=function(){Un.delete(U),Un.size<1&&(u=Wn,w&&w(),w=null,l.value=Wn,He=!1,pe=!1),se()}}};function Ot(U){return U.reduce((te,J)=>te.then(()=>_(J)),Promise.resolve())}return nn}function cE(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>Ds(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Ds(u,l))||s.push(l))}return[n,r,s]}function gg(t){return Xt(Du)}var yf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},uE=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},vg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(m=64)),r.push(n[d],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_g(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new dE;const m=i<<2|a>>4;if(r.push(m),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hE=function(t){const e=_g(t);return vg.encodeByteArray(e,!0)},ma=function(t){return hE(t).replace(/\./g,"")},yg=function(t){try{return vg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=()=>fE().__FIREBASE_DEFAULTS__,mE=()=>{if(typeof process>"u"||typeof yf>"u")return;const t=yf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yg(t[1]);return e&&JSON.parse(e)},Za=()=>{try{return pE()||mE()||gE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wg=t=>{var e,n;return(n=(e=Za())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_E=t=>{const e=wg(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Eg=()=>{var t;return(t=Za())===null||t===void 0?void 0:t.config},Tg=t=>{var e;return(e=Za())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ma(JSON.stringify(n)),ma(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function EE(){var t;const e=(t=Za())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IE(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bE(){return!EE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CE(){try{return typeof indexedDB=="object"}catch{return!1}}function RE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="FirebaseError";class Bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PE,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,so.prototype.create)}}class so{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?xE(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Bn(s,a,r)}}function xE(t,e){return t.replace(kE,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const kE=/\{\$([^}]+)}/g;function DE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ga(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(wf(i)&&wf(o)){if(!ga(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function wf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function mi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OE(t,e){const n=new LE(t,e);return n.subscribe.bind(n)}class LE{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ME(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=tc),s.error===void 0&&(s.error=tc),s.complete===void 0&&(s.complete=tc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ME(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class Hr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FE(e))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vr){return this.instances.has(e)}getOptions(e=Vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vr){return this.component?this.component.multipleInstances?e:Vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VE(t){return t===Vr?void 0:t}function FE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const UE={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},$E=Ae.INFO,jE={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},qE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=jE[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ou{constructor(e){this.name=e,this._logLevel=$E,this._logHandler=qE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const zE=(t,e)=>e.some(n=>t instanceof n);let Ef,Tf;function HE(){return Ef||(Ef=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GE(){return Tf||(Tf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ag=new WeakMap,Nc=new WeakMap,Sg=new WeakMap,nc=new WeakMap,Lu=new WeakMap;function WE(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(cr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ag.set(n,t)}).catch(()=>{}),Lu.set(e,t),e}function KE(t){if(Nc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Nc.set(t,e)}let Vc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QE(t){Vc=t(Vc)}function YE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rc(this),e,...n);return Sg.set(r,e.sort?e.sort():[e]),cr(r)}:GE().includes(t)?function(...e){return t.apply(rc(this),e),cr(Ag.get(this))}:function(...e){return cr(t.apply(rc(this),e))}}function JE(t){return typeof t=="function"?YE(t):(t instanceof IDBTransaction&&KE(t),zE(t,HE())?new Proxy(t,Vc):t)}function cr(t){if(t instanceof IDBRequest)return WE(t);if(nc.has(t))return nc.get(t);const e=JE(t);return e!==t&&(nc.set(t,e),Lu.set(e,t)),e}const rc=t=>Lu.get(t);function XE(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=cr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(cr(o.result),l.oldVersion,l.newVersion,cr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const ZE=["get","getKey","getAll","getAllKeys","count"],eT=["put","add","delete","clear"],sc=new Map;function Af(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sc.get(e))return sc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=eT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ZE.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return sc.set(e,i),i}QE(t=>({...t,get:(e,n,r)=>Af(e,n)||t.get(e,n,r),has:(e,n)=>!!Af(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fc="@firebase/app",Sf="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new Ou("@firebase/app"),rT="@firebase/app-compat",sT="@firebase/analytics-compat",iT="@firebase/analytics",oT="@firebase/app-check-compat",aT="@firebase/app-check",lT="@firebase/auth",cT="@firebase/auth-compat",uT="@firebase/database",dT="@firebase/data-connect",hT="@firebase/database-compat",fT="@firebase/functions",pT="@firebase/functions-compat",mT="@firebase/installations",gT="@firebase/installations-compat",_T="@firebase/messaging",vT="@firebase/messaging-compat",yT="@firebase/performance",wT="@firebase/performance-compat",ET="@firebase/remote-config",TT="@firebase/remote-config-compat",AT="@firebase/storage",ST="@firebase/storage-compat",IT="@firebase/firestore",bT="@firebase/vertexai",CT="@firebase/firestore-compat",RT="firebase",PT="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc="[DEFAULT]",xT={[Fc]:"fire-core",[rT]:"fire-core-compat",[iT]:"fire-analytics",[sT]:"fire-analytics-compat",[aT]:"fire-app-check",[oT]:"fire-app-check-compat",[lT]:"fire-auth",[cT]:"fire-auth-compat",[uT]:"fire-rtdb",[dT]:"fire-data-connect",[hT]:"fire-rtdb-compat",[fT]:"fire-fn",[pT]:"fire-fn-compat",[mT]:"fire-iid",[gT]:"fire-iid-compat",[_T]:"fire-fcm",[vT]:"fire-fcm-compat",[yT]:"fire-perf",[wT]:"fire-perf-compat",[ET]:"fire-rc",[TT]:"fire-rc-compat",[AT]:"fire-gcs",[ST]:"fire-gcs-compat",[IT]:"fire-fst",[CT]:"fire-fst-compat",[bT]:"fire-vertex","fire-js":"fire-js",[RT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Map,kT=new Map,Uc=new Map;function If(t,e){try{t.container.addComponent(e)}catch(n){On.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ls(t){const e=t.name;if(Uc.has(e))return On.debug(`There were multiple attempts to register component ${e}.`),!1;Uc.set(e,t);for(const n of _a.values())If(n,t);for(const n of kT.values())If(n,t);return!0}function Mu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function an(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new so("app","Firebase",DT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=PT;function Ig(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bc,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ur.create("bad-app-name",{appName:String(s)});if(n||(n=Eg()),!n)throw ur.create("no-options");const i=_a.get(s);if(i){if(ga(n,i.options)&&ga(r,i.config))return i;throw ur.create("duplicate-app",{appName:s})}const o=new BE(s);for(const l of Uc.values())o.addComponent(l);const a=new OT(n,r,o);return _a.set(s,a),a}function bg(t=Bc){const e=_a.get(t);if(!e&&t===Bc&&Eg())return Ig();if(!e)throw ur.create("no-app",{appName:t});return e}function dr(t,e,n){var r;let s=(r=xT[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),On.warn(a.join(" "));return}Ls(new Hr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firebase-heartbeat-database",MT=1,ji="firebase-heartbeat-store";let ic=null;function Cg(){return ic||(ic=XE(LT,MT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ji)}catch(n){console.warn(n)}}}}).catch(t=>{throw ur.create("idb-open",{originalErrorMessage:t.message})})),ic}async function NT(t){try{const n=(await Cg()).transaction(ji),r=await n.objectStore(ji).get(Rg(t));return await n.done,r}catch(e){if(e instanceof Bn)On.warn(e.message);else{const n=ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});On.warn(n.message)}}}async function bf(t,e){try{const r=(await Cg()).transaction(ji,"readwrite");await r.objectStore(ji).put(e,Rg(t)),await r.done}catch(n){if(n instanceof Bn)On.warn(n.message);else{const r=ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});On.warn(r.message)}}}function Rg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=1024,FT=30*24*60*60*1e3;class BT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $T(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Cf();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=FT}),this._storage.overwrite(this._heartbeatsCache))}catch(r){On.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cf(),{heartbeatsToSend:r,unsentEntries:s}=UT(this._heartbeatsCache.heartbeats),i=ma(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return On.warn(n),""}}}function Cf(){return new Date().toISOString().substring(0,10)}function UT(t,e=VT){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Rf(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Rf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $T{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CE()?RE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Rf(t){return ma(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t){Ls(new Hr("platform-logger",e=>new tT(e),"PRIVATE")),Ls(new Hr("heartbeat",e=>new BT(e),"PRIVATE")),dr(Fc,Sf,t),dr(Fc,Sf,"esm2017"),dr("fire-js","")}jT("");var Pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,Pg;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,v){function _(){}_.prototype=v.prototype,R.D=v.prototype,R.prototype=new _,R.prototype.constructor=R,R.C=function(E,T,A){for(var w=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)w[ee-2]=arguments[ee];return v.prototype[T].apply(E,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,v,_){_||(_=0);var E=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)E[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;16>T;++T)E[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=R.g[0],_=R.g[1],T=R.g[2];var A=R.g[3],w=v+(A^_&(T^A))+E[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=A+(T^v&(_^T))+E[1]+3905402710&4294967295,A=v+(w<<12&4294967295|w>>>20),w=T+(_^A&(v^_))+E[2]+606105819&4294967295,T=A+(w<<17&4294967295|w>>>15),w=_+(v^T&(A^v))+E[3]+3250441966&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(A^_&(T^A))+E[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(T^v&(_^T))+E[5]+1200080426&4294967295,A=v+(w<<12&4294967295|w>>>20),w=T+(_^A&(v^_))+E[6]+2821735955&4294967295,T=A+(w<<17&4294967295|w>>>15),w=_+(v^T&(A^v))+E[7]+4249261313&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(A^_&(T^A))+E[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(T^v&(_^T))+E[9]+2336552879&4294967295,A=v+(w<<12&4294967295|w>>>20),w=T+(_^A&(v^_))+E[10]+4294925233&4294967295,T=A+(w<<17&4294967295|w>>>15),w=_+(v^T&(A^v))+E[11]+2304563134&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(A^_&(T^A))+E[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=A+(T^v&(_^T))+E[13]+4254626195&4294967295,A=v+(w<<12&4294967295|w>>>20),w=T+(_^A&(v^_))+E[14]+2792965006&4294967295,T=A+(w<<17&4294967295|w>>>15),w=_+(v^T&(A^v))+E[15]+1236535329&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(T^A&(_^T))+E[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^T&(v^_))+E[6]+3225465664&4294967295,A=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(A^v))+E[11]+643717713&4294967295,T=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(T^A))+E[0]+3921069994&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(T^A&(_^T))+E[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^T&(v^_))+E[10]+38016083&4294967295,A=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(A^v))+E[15]+3634488961&4294967295,T=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(T^A))+E[4]+3889429448&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(T^A&(_^T))+E[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^T&(v^_))+E[14]+3275163606&4294967295,A=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(A^v))+E[3]+4107603335&4294967295,T=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(T^A))+E[8]+1163531501&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(T^A&(_^T))+E[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=A+(_^T&(v^_))+E[2]+4243563512&4294967295,A=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(A^v))+E[7]+1735328473&4294967295,T=A+(w<<14&4294967295|w>>>18),w=_+(A^v&(T^A))+E[12]+2368359562&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(_^T^A)+E[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^T)+E[8]+2272392833&4294967295,A=v+(w<<11&4294967295|w>>>21),w=T+(A^v^_)+E[11]+1839030562&4294967295,T=A+(w<<16&4294967295|w>>>16),w=_+(T^A^v)+E[14]+4259657740&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(_^T^A)+E[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^T)+E[4]+1272893353&4294967295,A=v+(w<<11&4294967295|w>>>21),w=T+(A^v^_)+E[7]+4139469664&4294967295,T=A+(w<<16&4294967295|w>>>16),w=_+(T^A^v)+E[10]+3200236656&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(_^T^A)+E[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^T)+E[0]+3936430074&4294967295,A=v+(w<<11&4294967295|w>>>21),w=T+(A^v^_)+E[3]+3572445317&4294967295,T=A+(w<<16&4294967295|w>>>16),w=_+(T^A^v)+E[6]+76029189&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(_^T^A)+E[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=A+(v^_^T)+E[12]+3873151461&4294967295,A=v+(w<<11&4294967295|w>>>21),w=T+(A^v^_)+E[15]+530742520&4294967295,T=A+(w<<16&4294967295|w>>>16),w=_+(T^A^v)+E[2]+3299628645&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(T^(_|~A))+E[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~T))+E[7]+1126891415&4294967295,A=v+(w<<10&4294967295|w>>>22),w=T+(v^(A|~_))+E[14]+2878612391&4294967295,T=A+(w<<15&4294967295|w>>>17),w=_+(A^(T|~v))+E[5]+4237533241&4294967295,_=T+(w<<21&4294967295|w>>>11),w=v+(T^(_|~A))+E[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~T))+E[3]+2399980690&4294967295,A=v+(w<<10&4294967295|w>>>22),w=T+(v^(A|~_))+E[10]+4293915773&4294967295,T=A+(w<<15&4294967295|w>>>17),w=_+(A^(T|~v))+E[1]+2240044497&4294967295,_=T+(w<<21&4294967295|w>>>11),w=v+(T^(_|~A))+E[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~T))+E[15]+4264355552&4294967295,A=v+(w<<10&4294967295|w>>>22),w=T+(v^(A|~_))+E[6]+2734768916&4294967295,T=A+(w<<15&4294967295|w>>>17),w=_+(A^(T|~v))+E[13]+1309151649&4294967295,_=T+(w<<21&4294967295|w>>>11),w=v+(T^(_|~A))+E[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=A+(_^(v|~T))+E[11]+3174756917&4294967295,A=v+(w<<10&4294967295|w>>>22),w=T+(v^(A|~_))+E[2]+718787259&4294967295,T=A+(w<<15&4294967295|w>>>17),w=_+(A^(T|~v))+E[9]+3951481745&4294967295,R.g[0]=R.g[0]+v&4294967295,R.g[1]=R.g[1]+(T+(w<<21&4294967295|w>>>11))&4294967295,R.g[2]=R.g[2]+T&4294967295,R.g[3]=R.g[3]+A&4294967295}r.prototype.u=function(R,v){v===void 0&&(v=R.length);for(var _=v-this.blockSize,E=this.B,T=this.h,A=0;A<v;){if(T==0)for(;A<=_;)s(this,R,A),A+=this.blockSize;if(typeof R=="string"){for(;A<v;)if(E[T++]=R.charCodeAt(A++),T==this.blockSize){s(this,E),T=0;break}}else for(;A<v;)if(E[T++]=R[A++],T==this.blockSize){s(this,E),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var v=1;v<R.length-8;++v)R[v]=0;var _=8*this.o;for(v=R.length-8;v<R.length;++v)R[v]=_&255,_/=256;for(this.u(R),R=Array(16),v=_=0;4>v;++v)for(var E=0;32>E;E+=8)R[_++]=this.g[v]>>>E&255;return R};function i(R,v){var _=a;return Object.prototype.hasOwnProperty.call(_,R)?_[R]:_[R]=v(R)}function o(R,v){this.h=v;for(var _=[],E=!0,T=R.length-1;0<=T;T--){var A=R[T]|0;E&&A==v||(_[T]=A,E=!1)}this.g=_}var a={};function l(R){return-128<=R&&128>R?i(R,function(v){return new o([v|0],0>v?-1:0)}):new o([R|0],0>R?-1:0)}function u(R){if(isNaN(R)||!isFinite(R))return f;if(0>R)return D(u(-R));for(var v=[],_=1,E=0;R>=_;E++)v[E]=R/_|0,_*=4294967296;return new o(v,0)}function d(R,v){if(R.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(R.charAt(0)=="-")return D(d(R.substring(1),v));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(v,8)),E=f,T=0;T<R.length;T+=8){var A=Math.min(8,R.length-T),w=parseInt(R.substring(T,T+A),v);8>A?(A=u(Math.pow(v,A)),E=E.j(A).add(u(w))):(E=E.j(_),E=E.add(u(w)))}return E}var f=l(0),m=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-D(this).m();for(var R=0,v=1,_=0;_<this.g.length;_++){var E=this.i(_);R+=(0<=E?E:4294967296+E)*v,v*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(b(this))return"0";if(x(this))return"-"+D(this).toString(R);for(var v=u(Math.pow(R,6)),_=this,E="";;){var T=k(_,v).g;_=L(_,T.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(R);if(_=T,b(_))return A+E;for(;6>A.length;)A="0"+A;E=A+E}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function b(R){if(R.h!=0)return!1;for(var v=0;v<R.g.length;v++)if(R.g[v]!=0)return!1;return!0}function x(R){return R.h==-1}t.l=function(R){return R=L(this,R),x(R)?-1:b(R)?0:1};function D(R){for(var v=R.g.length,_=[],E=0;E<v;E++)_[E]=~R.g[E];return new o(_,~R.h).add(m)}t.abs=function(){return x(this)?D(this):this},t.add=function(R){for(var v=Math.max(this.g.length,R.g.length),_=[],E=0,T=0;T<=v;T++){var A=E+(this.i(T)&65535)+(R.i(T)&65535),w=(A>>>16)+(this.i(T)>>>16)+(R.i(T)>>>16);E=w>>>16,A&=65535,w&=65535,_[T]=w<<16|A}return new o(_,_[_.length-1]&-2147483648?-1:0)};function L(R,v){return R.add(D(v))}t.j=function(R){if(b(this)||b(R))return f;if(x(this))return x(R)?D(this).j(D(R)):D(D(this).j(R));if(x(R))return D(this.j(D(R)));if(0>this.l(g)&&0>R.l(g))return u(this.m()*R.m());for(var v=this.g.length+R.g.length,_=[],E=0;E<2*v;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<R.g.length;T++){var A=this.i(E)>>>16,w=this.i(E)&65535,ee=R.i(T)>>>16,he=R.i(T)&65535;_[2*E+2*T]+=w*he,I(_,2*E+2*T),_[2*E+2*T+1]+=A*he,I(_,2*E+2*T+1),_[2*E+2*T+1]+=w*ee,I(_,2*E+2*T+1),_[2*E+2*T+2]+=A*ee,I(_,2*E+2*T+2)}for(E=0;E<v;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=v;E<2*v;E++)_[E]=0;return new o(_,0)};function I(R,v){for(;(R[v]&65535)!=R[v];)R[v+1]+=R[v]>>>16,R[v]&=65535,v++}function C(R,v){this.g=R,this.h=v}function k(R,v){if(b(v))throw Error("division by zero");if(b(R))return new C(f,f);if(x(R))return v=k(D(R),v),new C(D(v.g),D(v.h));if(x(v))return v=k(R,D(v)),new C(D(v.g),v.h);if(30<R.g.length){if(x(R)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=v;0>=E.l(R);)_=V(_),E=V(E);var T=j(_,1),A=j(E,1);for(E=j(E,2),_=j(_,2);!b(E);){var w=A.add(E);0>=w.l(R)&&(T=T.add(_),A=w),E=j(E,1),_=j(_,1)}return v=L(R,T.j(v)),new C(T,v)}for(T=f;0<=R.l(v);){for(_=Math.max(1,Math.floor(R.m()/v.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),A=u(_),w=A.j(v);x(w)||0<w.l(R);)_-=E,A=u(_),w=A.j(v);b(A)&&(A=m),T=T.add(A),R=L(R,w)}return new C(T,R)}t.A=function(R){return k(this,R).h},t.and=function(R){for(var v=Math.max(this.g.length,R.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)&R.i(E);return new o(_,this.h&R.h)},t.or=function(R){for(var v=Math.max(this.g.length,R.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)|R.i(E);return new o(_,this.h|R.h)},t.xor=function(R){for(var v=Math.max(this.g.length,R.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)^R.i(E);return new o(_,this.h^R.h)};function V(R){for(var v=R.g.length+1,_=[],E=0;E<v;E++)_[E]=R.i(E)<<1|R.i(E-1)>>>31;return new o(_,R.h)}function j(R,v){var _=v>>5;v%=32;for(var E=R.g.length-_,T=[],A=0;A<E;A++)T[A]=0<v?R.i(A+_)>>>v|R.i(A+_+1)<<32-v:R.i(A+_);return new o(T,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Pg=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,qr=o}).apply(typeof Pf<"u"?Pf:typeof self<"u"?self:typeof window<"u"?window:{});var Mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xg,gi,kg,Ko,$c,Dg,Og,Lg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,p){return c==Array.prototype||c==Object.prototype||(c[h]=p.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mo=="object"&&Mo];for(var h=0;h<c.length;++h){var p=c[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(c,h){if(h)e:{var p=r;c=c.split(".");for(var y=0;y<c.length-1;y++){var O=c[y];if(!(O in p))break e;p=p[O]}c=c[c.length-1],y=p[c],h=h(y),h!=y&&h!=null&&e(p,c,{configurable:!0,writable:!0,value:h})}}function i(c,h){c instanceof String&&(c+="");var p=0,y=!1,O={next:function(){if(!y&&p<c.length){var F=p++;return{value:h(F,c[F]),done:!1}}return y=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(c){return c||function(){return i(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function u(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function d(c,h,p){return c.call.apply(c.bind,arguments)}function f(c,h,p){if(!c)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,y),c.apply(h,O)}}return function(){return c.apply(h,arguments)}}function m(c,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(c,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),c.apply(this,y)}}function b(c,h){function p(){}p.prototype=h.prototype,c.aa=h.prototype,c.prototype=new p,c.prototype.constructor=c,c.Qb=function(y,O,F){for(var Q=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Q[Fe-2]=arguments[Fe];return h.prototype[O].apply(y,Q)}}function x(c){const h=c.length;if(0<h){const p=Array(h);for(let y=0;y<h;y++)p[y]=c[y];return p}return[]}function D(c,h){for(let p=1;p<arguments.length;p++){const y=arguments[p];if(l(y)){const O=c.length||0,F=y.length||0;c.length=O+F;for(let Q=0;Q<F;Q++)c[O+Q]=y[Q]}else c.push(y)}}class L{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function I(c){return/^[\s\xa0]*$/.test(c)}function C(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var V=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function j(c,h,p){for(const y in c)h.call(p,c[y],y,c)}function R(c,h){for(const p in c)h.call(void 0,c[p],p,c)}function v(c){const h={};for(const p in c)h[p]=c[p];return h}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,h){let p,y;for(let O=1;O<arguments.length;O++){y=arguments[O];for(p in y)c[p]=y[p];for(let F=0;F<_.length;F++)p=_[F],Object.prototype.hasOwnProperty.call(y,p)&&(c[p]=y[p])}}function T(c){var h=1;c=c.split(":");const p=[];for(;0<h&&c.length;)p.push(c.shift()),h--;return c.length&&p.push(c.join(":")),p}function A(c){a.setTimeout(()=>{throw c},0)}function w(){var c=pt;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class ee{constructor(){this.h=this.g=null}add(h,p){const y=he.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var he=new L(()=>new ve,c=>c.reset());class ve{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,Te=!1,pt=new ee,kt=()=>{const c=a.Promise.resolve(void 0);pe=()=>{c.then(Dt)}};var Dt=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(p){A(p)}var h=he;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}Te=!1};function je(){this.s=this.s,this.C=this.C}je.prototype.s=!1,je.prototype.ma=function(){this.s||(this.s=!0,this.N())},je.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function He(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}He.prototype.h=function(){this.defaultPrevented=!0};var Un=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return c}();function nn(c,h){if(He.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var p=this.type=c.type,y=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(V){e:{try{k(h.nodeName);var O=!0;break e}catch{}O=!1}O||(h=null)}}else p=="mouseover"?h=c.fromElement:p=="mouseout"&&(h=c.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ot[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&nn.aa.h.call(this)}}b(nn,He);var Ot={2:"touch",3:"pen",4:"mouse"};nn.prototype.h=function(){nn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),te=0;function J(c,h,p,y,O){this.listener=c,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=O,this.key=++te,this.da=this.fa=!1}function se(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function be(c){this.src=c,this.g={},this.h=0}be.prototype.add=function(c,h,p,y,O){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var Q=S(c,h,y,O);return-1<Q?(h=c[Q],p||(h.fa=!1)):(h=new J(h,this.src,F,!!y,O),h.fa=p,c.push(h)),h};function Ve(c,h){var p=h.type;if(p in c.g){var y=c.g[p],O=Array.prototype.indexOf.call(y,h,void 0),F;(F=0<=O)&&Array.prototype.splice.call(y,O,1),F&&(se(h),c.g[p].length==0&&(delete c.g[p],c.h--))}}function S(c,h,p,y){for(var O=0;O<c.length;++O){var F=c[O];if(!F.da&&F.listener==h&&F.capture==!!p&&F.ha==y)return O}return-1}var P="closure_lm_"+(1e6*Math.random()|0),N={};function q(c,h,p,y,O){if(Array.isArray(h)){for(var F=0;F<h.length;F++)q(c,h[F],p,y,O);return null}return p=oe(p),c&&c[U]?c.K(h,p,u(y)?!!y.capture:!!y,O):B(c,h,p,!1,y,O)}function B(c,h,p,y,O,F){if(!h)throw Error("Invalid event type");var Q=u(O)?!!O.capture:!!O,Fe=ce(c);if(Fe||(c[P]=Fe=new be(c)),p=Fe.add(h,p,y,Q,F),p.proxy)return p;if(y=H(),p.proxy=y,y.src=c,y.listener=p,c.addEventListener)Un||(O=Q),O===void 0&&(O=!1),c.addEventListener(h.toString(),y,O);else if(c.attachEvent)c.attachEvent(W(h.toString()),y);else if(c.addListener&&c.removeListener)c.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function H(){function c(p){return h.call(c.src,c.listener,p)}const h=G;return c}function Y(c,h,p,y,O){if(Array.isArray(h))for(var F=0;F<h.length;F++)Y(c,h[F],p,y,O);else y=u(y)?!!y.capture:!!y,p=oe(p),c&&c[U]?(c=c.i,h=String(h).toString(),h in c.g&&(F=c.g[h],p=S(F,p,y,O),-1<p&&(se(F[p]),Array.prototype.splice.call(F,p,1),F.length==0&&(delete c.g[h],c.h--)))):c&&(c=ce(c))&&(h=c.g[h.toString()],c=-1,h&&(c=S(h,p,y,O)),(p=-1<c?h[c]:null)&&K(p))}function K(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[U])Ve(h.i,c);else{var p=c.type,y=c.proxy;h.removeEventListener?h.removeEventListener(p,y,c.capture):h.detachEvent?h.detachEvent(W(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=ce(h))?(Ve(p,c),p.h==0&&(p.src=null,h[P]=null)):se(c)}}}function W(c){return c in N?N[c]:N[c]="on"+c}function G(c,h){if(c.da)c=!0;else{h=new nn(h,this);var p=c.listener,y=c.ha||c.src;c.fa&&K(c),c=p.call(y,h)}return c}function ce(c){return c=c[P],c instanceof be?c:null}var X="__closure_events_fn_"+(1e9*Math.random()>>>0);function oe(c){return typeof c=="function"?c:(c[X]||(c[X]=function(h){return c.handleEvent(h)}),c[X])}function ie(){je.call(this),this.i=new be(this),this.M=this,this.F=null}b(ie,je),ie.prototype[U]=!0,ie.prototype.removeEventListener=function(c,h,p,y){Y(this,c,h,p,y)};function fe(c,h){var p,y=c.F;if(y)for(p=[];y;y=y.F)p.push(y);if(c=c.M,y=h.type||h,typeof h=="string")h=new He(h,c);else if(h instanceof He)h.target=h.target||c;else{var O=h;h=new He(y,c),E(h,O)}if(O=!0,p)for(var F=p.length-1;0<=F;F--){var Q=h.g=p[F];O=De(Q,y,!0,h)&&O}if(Q=h.g=c,O=De(Q,y,!0,h)&&O,O=De(Q,y,!1,h)&&O,p)for(F=0;F<p.length;F++)Q=h.g=p[F],O=De(Q,y,!1,h)&&O}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var p=c.g[h],y=0;y<p.length;y++)se(p[y]);delete c.g[h],c.h--}}this.F=null},ie.prototype.K=function(c,h,p,y){return this.i.add(String(c),h,!1,p,y)},ie.prototype.L=function(c,h,p,y){return this.i.add(String(c),h,!0,p,y)};function De(c,h,p,y){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,F=0;F<h.length;++F){var Q=h[F];if(Q&&!Q.da&&Q.capture==p){var Fe=Q.listener,ct=Q.ha||Q.src;Q.fa&&Ve(c.i,Q),O=Fe.call(ct,y)!==!1&&O}}return O&&!y.defaultPrevented}function xe(c,h,p){if(typeof c=="function")p&&(c=m(c,p));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function mt(c){c.g=xe(()=>{c.g=null,c.i&&(c.i=!1,mt(c))},c.l);const h=c.h;c.h=null,c.m.apply(null,h)}class nt extends je{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:mt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lt(c){je.call(this),this.h=c,this.g={}}b(lt,je);var gt=[];function $n(c){j(c.g,function(h,p){this.g.hasOwnProperty(p)&&K(h)},c),c.g={}}lt.prototype.N=function(){lt.aa.N.call(this),$n(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=a.JSON.stringify,It=a.JSON.parse,Ht=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function os(){}os.prototype.h=null;function Cd(c){return c.h||(c.h=c.i())}function Rd(){}var Js={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bl(){He.call(this,"d")}b(bl,He);function Cl(){He.call(this,"c")}b(Cl,He);var Rr={},Pd=null;function go(){return Pd=Pd||new ie}Rr.La="serverreachability";function xd(c){He.call(this,Rr.La,c)}b(xd,He);function Xs(c){const h=go();fe(h,new xd(h))}Rr.STAT_EVENT="statevent";function kd(c,h){He.call(this,Rr.STAT_EVENT,c),this.stat=h}b(kd,He);function bt(c){const h=go();fe(h,new kd(h,c))}Rr.Ma="timingevent";function Dd(c,h){He.call(this,Rr.Ma,c),this.size=h}b(Dd,He);function Zs(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function ei(){this.g=!0}ei.prototype.xa=function(){this.g=!1};function ry(c,h,p,y,O,F){c.info(function(){if(c.g)if(F)for(var Q="",Fe=F.split("&"),ct=0;ct<Fe.length;ct++){var ke=Fe[ct].split("=");if(1<ke.length){var _t=ke[0];ke=ke[1];var vt=_t.split("_");Q=2<=vt.length&&vt[1]=="type"?Q+(_t+"="+ke+"&"):Q+(_t+"=redacted&")}}else Q=null;else Q=F;return"XMLHTTP REQ ("+y+") [attempt "+O+"]: "+h+`
`+p+`
`+Q})}function sy(c,h,p,y,O,F,Q){c.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+O+"]: "+h+`
`+p+`
`+F+" "+Q})}function as(c,h,p,y){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+oy(c,p)+(y?" "+y:"")})}function iy(c,h){c.info(function(){return"TIMEOUT: "+h})}ei.prototype.info=function(){};function oy(c,h){if(!c.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(c=0;c<p.length;c++)if(Array.isArray(p[c])){var y=p[c];if(!(2>y.length)){var O=y[1];if(Array.isArray(O)&&!(1>O.length)){var F=O[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Q=1;Q<O.length;Q++)O[Q]=""}}}}return is(p)}catch{return h}}var _o={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Od={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rl;function vo(){}b(vo,os),vo.prototype.g=function(){return new XMLHttpRequest},vo.prototype.i=function(){return{}},Rl=new vo;function jn(c,h,p,y){this.j=c,this.i=h,this.l=p,this.R=y||1,this.U=new lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ld}function Ld(){this.i=null,this.g="",this.h=!1}var Md={},Pl={};function xl(c,h,p){c.L=1,c.v=To(_n(h)),c.m=p,c.P=!0,Nd(c,null)}function Nd(c,h){c.F=Date.now(),yo(c),c.A=_n(c.v);var p=c.A,y=c.R;Array.isArray(y)||(y=[String(y)]),Yd(p.i,"t",y),c.C=0,p=c.j.J,c.h=new Ld,c.g=ph(c.j,p?h:null,!c.m),0<c.O&&(c.M=new nt(m(c.Y,c,c.g),c.O)),h=c.U,p=c.g,y=c.ca;var O="readystatechange";Array.isArray(O)||(O&&(gt[0]=O.toString()),O=gt);for(var F=0;F<O.length;F++){var Q=q(p,O[F],y||h.handleEvent,!1,h.h||h);if(!Q)break;h.g[Q.key]=Q}h=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),Xs(),ry(c.i,c.u,c.A,c.l,c.R,c.m)}jn.prototype.ca=function(c){c=c.target;const h=this.M;h&&vn(c)==3?h.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{const vt=vn(this.g);var h=this.g.Ba();const us=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||rh(this.g)))){this.J||vt!=4||h==7||(h==8||0>=us?Xs(3):Xs(2)),kl(this);var p=this.g.Z();this.X=p;t:if(Vd(this)){var y=rh(this.g);c="";var O=y.length,F=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pr(this),ti(this);var Q="";break t}this.h.i=new a.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,c+=this.h.i.decode(y[h],{stream:!(F&&h==O-1)});y.length=0,this.h.g+=c,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=p==200,sy(this.i,this.u,this.A,this.l,this.R,vt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,ct=this.g;if((Fe=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Fe)){var ke=Fe;break t}}ke=null}if(p=ke)as(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dl(this,p);else{this.o=!1,this.s=3,bt(12),Pr(this),ti(this);break e}}if(this.P){p=!0;let Yt;for(;!this.J&&this.C<Q.length;)if(Yt=ay(this,Q),Yt==Pl){vt==4&&(this.s=4,bt(14),p=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Md){this.s=4,bt(15),as(this.i,this.l,Q,"[Invalid Chunk]"),p=!1;break}else as(this.i,this.l,Yt,null),Dl(this,Yt);if(Vd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||Q.length!=0||this.h.h||(this.s=1,bt(16),p=!1),this.o=this.o&&p,!p)as(this.i,this.l,Q,"[Invalid Chunked Response]"),Pr(this),ti(this);else if(0<Q.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Fl(_t),_t.M=!0,bt(11))}}else as(this.i,this.l,Q,null),Dl(this,Q);vt==4&&Pr(this),this.o&&!this.J&&(vt==4?uh(this.j,this):(this.o=!1,yo(this)))}else Sy(this.g),p==400&&0<Q.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),Pr(this),ti(this)}}}catch{}finally{}};function Vd(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ay(c,h){var p=c.C,y=h.indexOf(`
`,p);return y==-1?Pl:(p=Number(h.substring(p,y)),isNaN(p)?Md:(y+=1,y+p>h.length?Pl:(h=h.slice(y,y+p),c.C=y+p,h)))}jn.prototype.cancel=function(){this.J=!0,Pr(this)};function yo(c){c.S=Date.now()+c.I,Fd(c,c.I)}function Fd(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Zs(m(c.ba,c),h)}function kl(c){c.B&&(a.clearTimeout(c.B),c.B=null)}jn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(iy(this.i,this.A),this.L!=2&&(Xs(),bt(17)),Pr(this),this.s=2,ti(this)):Fd(this,this.S-c)};function ti(c){c.j.G==0||c.J||uh(c.j,c)}function Pr(c){kl(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,$n(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function Dl(c,h){try{var p=c.j;if(p.G!=0&&(p.g==c||Ol(p.h,c))){if(!c.K&&Ol(p.h,c)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var O=y;if(O[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<c.F)Ro(p),bo(p);else break e;Vl(p),bt(18)}}else p.za=O[1],0<p.za-p.T&&37500>O[2]&&p.F&&p.v==0&&!p.C&&(p.C=Zs(m(p.Za,p),6e3));if(1>=$d(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else kr(p,11)}else if((c.K||p.g==c)&&Ro(p),!I(h))for(O=p.Da.g.parse(h),h=0;h<O.length;h++){let ke=O[h];if(p.T=ke[0],ke=ke[1],p.G==2)if(ke[0]=="c"){p.K=ke[1],p.ia=ke[2];const _t=ke[3];_t!=null&&(p.la=_t,p.j.info("VER="+p.la));const vt=ke[4];vt!=null&&(p.Aa=vt,p.j.info("SVER="+p.Aa));const us=ke[5];us!=null&&typeof us=="number"&&0<us&&(y=1.5*us,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;const Yt=c.g;if(Yt){const xo=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xo){var F=y.h;F.g||xo.indexOf("spdy")==-1&&xo.indexOf("quic")==-1&&xo.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ll(F,F.h),F.h=null))}if(y.D){const Bl=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;Bl&&(y.ya=Bl,qe(y.I,y.D,Bl))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-c.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var Q=c;if(y.qa=fh(y,y.J?y.ia:null,y.W),Q.K){jd(y.h,Q);var Fe=Q,ct=y.L;ct&&(Fe.I=ct),Fe.B&&(kl(Fe),yo(Fe)),y.g=Q}else lh(y);0<p.i.length&&Co(p)}else ke[0]!="stop"&&ke[0]!="close"||kr(p,7);else p.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?kr(p,7):Nl(p):ke[0]!="noop"&&p.l&&p.l.ta(ke),p.v=0)}}Xs(4)}catch{}}var ly=class{constructor(c,h){this.g=c,this.map=h}};function Bd(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ud(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $d(c){return c.h?1:c.g?c.g.size:0}function Ol(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function Ll(c,h){c.g?c.g.add(h):c.h=h}function jd(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}Bd.prototype.cancel=function(){if(this.i=qd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qd(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(const p of c.g.values())h=h.concat(p.D);return h}return x(c.i)}function cy(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var h=[],p=c.length,y=0;y<p;y++)h.push(c[y]);return h}h=[],p=0;for(y in c)h[p++]=c[y];return h}function uy(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var h=[];c=c.length;for(var p=0;p<c;p++)h.push(p);return h}h=[],p=0;for(const y in c)h[p++]=y;return h}}}function zd(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var p=uy(c),y=cy(c),O=y.length,F=0;F<O;F++)h.call(void 0,y[F],p&&p[F],c)}var Hd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dy(c,h){if(c){c=c.split("&");for(var p=0;p<c.length;p++){var y=c[p].indexOf("="),O=null;if(0<=y){var F=c[p].substring(0,y);O=c[p].substring(y+1)}else F=c[p];h(F,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function xr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xr){this.h=c.h,wo(this,c.j),this.o=c.o,this.g=c.g,Eo(this,c.s),this.l=c.l;var h=c.i,p=new si;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),Gd(this,p),this.m=c.m}else c&&(h=String(c).match(Hd))?(this.h=!1,wo(this,h[1]||"",!0),this.o=ni(h[2]||""),this.g=ni(h[3]||"",!0),Eo(this,h[4]),this.l=ni(h[5]||"",!0),Gd(this,h[6]||"",!0),this.m=ni(h[7]||"")):(this.h=!1,this.i=new si(null,this.h))}xr.prototype.toString=function(){var c=[],h=this.j;h&&c.push(ri(h,Wd,!0),":");var p=this.g;return(p||h=="file")&&(c.push("//"),(h=this.o)&&c.push(ri(h,Wd,!0),"@"),c.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&c.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&c.push("/"),c.push(ri(p,p.charAt(0)=="/"?py:fy,!0))),(p=this.i.toString())&&c.push("?",p),(p=this.m)&&c.push("#",ri(p,gy)),c.join("")};function _n(c){return new xr(c)}function wo(c,h,p){c.j=p?ni(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function Eo(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function Gd(c,h,p){h instanceof si?(c.i=h,_y(c.i,c.h)):(p||(h=ri(h,my)),c.i=new si(h,c.h))}function qe(c,h,p){c.i.set(h,p)}function To(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ni(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ri(c,h,p){return typeof c=="string"?(c=encodeURI(c).replace(h,hy),p&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hy(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wd=/[#\/\?@]/g,fy=/[#\?:]/g,py=/[#\?]/g,my=/[#\?@]/g,gy=/#/g;function si(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function qn(c){c.g||(c.g=new Map,c.h=0,c.i&&dy(c.i,function(h,p){c.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=si.prototype,t.add=function(c,h){qn(this),this.i=null,c=ls(this,c);var p=this.g.get(c);return p||this.g.set(c,p=[]),p.push(h),this.h+=1,this};function Kd(c,h){qn(c),h=ls(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function Qd(c,h){return qn(c),h=ls(c,h),c.g.has(h)}t.forEach=function(c,h){qn(this),this.g.forEach(function(p,y){p.forEach(function(O){c.call(h,O,y,this)},this)},this)},t.na=function(){qn(this);const c=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){const O=c[y];for(let F=0;F<O.length;F++)p.push(h[y])}return p},t.V=function(c){qn(this);let h=[];if(typeof c=="string")Qd(this,c)&&(h=h.concat(this.g.get(ls(this,c))));else{c=Array.from(this.g.values());for(let p=0;p<c.length;p++)h=h.concat(c[p])}return h},t.set=function(c,h){return qn(this),this.i=null,c=ls(this,c),Qd(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},t.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function Yd(c,h,p){Kd(c,h),0<p.length&&(c.i=null,c.g.set(ls(c,h),x(p)),c.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];const F=encodeURIComponent(String(y)),Q=this.V(y);for(y=0;y<Q.length;y++){var O=F;Q[y]!==""&&(O+="="+encodeURIComponent(String(Q[y]))),c.push(O)}}return this.i=c.join("&")};function ls(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function _y(c,h){h&&!c.j&&(qn(c),c.i=null,c.g.forEach(function(p,y){var O=y.toLowerCase();y!=O&&(Kd(this,y),Yd(this,O,p))},c)),c.j=h}function vy(c,h){const p=new ei;if(a.Image){const y=new Image;y.onload=g(zn,p,"TestLoadImage: loaded",!0,h,y),y.onerror=g(zn,p,"TestLoadImage: error",!1,h,y),y.onabort=g(zn,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=g(zn,p,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=c}else h(!1)}function yy(c,h){const p=new ei,y=new AbortController,O=setTimeout(()=>{y.abort(),zn(p,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:y.signal}).then(F=>{clearTimeout(O),F.ok?zn(p,"TestPingServer: ok",!0,h):zn(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),zn(p,"TestPingServer: error",!1,h)})}function zn(c,h,p,y,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),y(p)}catch{}}function wy(){this.g=new Ht}function Ey(c,h,p){const y=p||"";try{zd(c,function(O,F){let Q=O;u(O)&&(Q=is(O)),h.push(y+F+"="+encodeURIComponent(Q))})}catch(O){throw h.push(y+"type="+encodeURIComponent("_badmap")),O}}function Ao(c){this.l=c.Ub||null,this.j=c.eb||!1}b(Ao,os),Ao.prototype.g=function(){return new So(this.l,this.j)},Ao.prototype.i=function(c){return function(){return c}}({});function So(c,h){ie.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(So,ie),t=So.prototype,t.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,oi(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jd(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jd(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?ii(this):oi(this),this.readyState==3&&Jd(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},t.Qa=function(c){this.g&&(this.response=c,ii(this))},t.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oi(c)}t.setRequestHeader=function(c,h){this.u.append(c,h)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,c.push(p[0]+": "+p[1]),p=h.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(So.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xd(c){let h="";return j(c,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function Ml(c,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=Xd(p),typeof c=="string"?p!=null&&encodeURIComponent(String(p)):qe(c,h,p))}function We(c){ie.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(We,ie);var Ty=/^https?$/i,Ay=["POST","PUT"];t=We.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rl.g(),this.v=this.o?Cd(this.o):Cd(Rl),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(F){Zd(this,F);return}if(c=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var O in y)p.set(O,y[O]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const F of y.keys())p.set(F,y.get(F));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(F=>F.toLowerCase()=="content-type"),O=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ay,h,void 0))||y||O||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Q]of p)this.g.setRequestHeader(F,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nh(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Zd(this,F)}};function Zd(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,eh(c),Io(c)}function eh(c){c.A||(c.A=!0,fe(c,"complete"),fe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,fe(this,"complete"),fe(this,"abort"),Io(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Io(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?th(this):this.bb())},t.bb=function(){th(this)};function th(c){if(c.h&&typeof o<"u"&&(!c.v[1]||vn(c)!=4||c.Z()!=2)){if(c.u&&vn(c)==4)xe(c.Ea,0,c);else if(fe(c,"readystatechange"),vn(c)==4){c.h=!1;try{const Q=c.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=Q===0){var O=String(c.D).match(Hd)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),y=!Ty.test(O?O.toLowerCase():"")}p=y}if(p)fe(c,"complete"),fe(c,"success");else{c.m=6;try{var F=2<vn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",eh(c)}}finally{Io(c)}}}}function Io(c,h){if(c.g){nh(c);const p=c.g,y=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||fe(c,"ready");try{p.onreadystatechange=y}catch{}}}function nh(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function vn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),It(h)}};function rh(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sy(c){const h={};c=(c.g&&2<=vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<c.length;y++){if(I(c[y]))continue;var p=T(c[y]);const O=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const F=h[O]||[];h[O]=F,F.push(p)}R(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ai(c,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[c]||h}function sh(c){this.Aa=0,this.i=[],this.j=new ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ai("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ai("baseRetryDelayMs",5e3,c),this.cb=ai("retryDelaySeedMs",1e4,c),this.Wa=ai("forwardChannelMaxRetries",2,c),this.wa=ai("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Bd(c&&c.concurrentRequestLimit),this.Da=new wy,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sh.prototype,t.la=8,t.G=1,t.connect=function(c,h,p,y){bt(0),this.W=c,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=fh(this,null,this.W),Co(this)};function Nl(c){if(ih(c),c.G==3){var h=c.U++,p=_n(c.I);if(qe(p,"SID",c.K),qe(p,"RID",h),qe(p,"TYPE","terminate"),li(c,p),h=new jn(c,c.j,h),h.L=2,h.v=To(_n(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=ph(h.j,null),h.g.ea(h.v)),h.F=Date.now(),yo(h)}hh(c)}function bo(c){c.g&&(Fl(c),c.g.cancel(),c.g=null)}function ih(c){bo(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ro(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Co(c){if(!Ud(c.h)&&!c.s){c.s=!0;var h=c.Ga;pe||kt(),Te||(pe(),Te=!0),pt.add(h,c),c.B=0}}function Iy(c,h){return $d(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Zs(m(c.Ga,c,h),dh(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const O=new jn(this,this.j,c);let F=this.o;if(this.S&&(F?(F=v(F),E(F,this.S)):F=this.S),this.m!==null||this.O||(O.H=F,F=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=ah(this,O,h),p=_n(this.I),qe(p,"RID",c),qe(p,"CVER",22),this.D&&qe(p,"X-HTTP-Session-Id",this.D),li(this,p),F&&(this.O?h="headers="+encodeURIComponent(String(Xd(F)))+"&"+h:this.m&&Ml(p,this.m,F)),Ll(this.h,O),this.Ua&&qe(p,"TYPE","init"),this.P?(qe(p,"$req",h),qe(p,"SID","null"),O.T=!0,xl(O,p,null)):xl(O,p,h),this.G=2}}else this.G==3&&(c?oh(this,c):this.i.length==0||Ud(this.h)||oh(this))};function oh(c,h){var p;h?p=h.l:p=c.U++;const y=_n(c.I);qe(y,"SID",c.K),qe(y,"RID",p),qe(y,"AID",c.T),li(c,y),c.m&&c.o&&Ml(y,c.m,c.o),p=new jn(c,c.j,p,c.B+1),c.m===null&&(p.H=c.o),h&&(c.i=h.D.concat(c.i)),h=ah(c,p,1e3),p.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ll(c.h,p),xl(p,y,h)}function li(c,h){c.H&&j(c.H,function(p,y){qe(h,y,p)}),c.l&&zd({},function(p,y){qe(h,y,p)})}function ah(c,h,p){p=Math.min(c.i.length,p);var y=c.l?m(c.l.Na,c.l,c):null;e:{var O=c.i;let F=-1;for(;;){const Q=["count="+p];F==-1?0<p?(F=O[0].g,Q.push("ofs="+F)):F=0:Q.push("ofs="+F);let Fe=!0;for(let ct=0;ct<p;ct++){let ke=O[ct].g;const _t=O[ct].map;if(ke-=F,0>ke)F=Math.max(0,O[ct].g-100),Fe=!1;else try{Ey(_t,Q,"req"+ke+"_")}catch{y&&y(_t)}}if(Fe){y=Q.join("&");break e}}}return c=c.i.splice(0,p),h.D=c,y}function lh(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;pe||kt(),Te||(pe(),Te=!0),pt.add(h,c),c.v=0}}function Vl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Zs(m(c.Fa,c),dh(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ch(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Zs(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),bo(this),ch(this))};function Fl(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function ch(c){c.g=new jn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=_n(c.qa);qe(h,"RID","rpc"),qe(h,"SID",c.K),qe(h,"AID",c.T),qe(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(h,"TO",c.ja),qe(h,"TYPE","xmlhttp"),li(c,h),c.m&&c.o&&Ml(h,c.m,c.o),c.L&&(c.g.I=c.L);var p=c.g;c=c.ia,p.L=1,p.v=To(_n(h)),p.m=null,p.P=!0,Nd(p,c)}t.Za=function(){this.C!=null&&(this.C=null,bo(this),Vl(this),bt(19))};function Ro(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function uh(c,h){var p=null;if(c.g==h){Ro(c),Fl(c),c.g=null;var y=2}else if(Ol(c.h,h))p=h.D,jd(c.h,h),y=1;else return;if(c.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var O=c.B;y=go(),fe(y,new Dd(y,p)),Co(c)}else lh(c);else if(O=h.s,O==3||O==0&&0<h.X||!(y==1&&Iy(c,h)||y==2&&Vl(c)))switch(p&&0<p.length&&(h=c.h,h.i=h.i.concat(p)),O){case 1:kr(c,5);break;case 4:kr(c,10);break;case 3:kr(c,6);break;default:kr(c,2)}}}function dh(c,h){let p=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(p*=2),p*h}function kr(c,h){if(c.j.info("Error code "+h),h==2){var p=m(c.fb,c),y=c.Xa;const O=!y;y=new xr(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||wo(y,"https"),To(y),O?vy(y.toString(),p):yy(y.toString(),p)}else bt(2);c.G=0,c.l&&c.l.sa(h),hh(c),ih(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function hh(c){if(c.G=0,c.ka=[],c.l){const h=qd(c.h);(h.length!=0||c.i.length!=0)&&(D(c.ka,h),D(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function fh(c,h,p){var y=p instanceof xr?_n(p):new xr(p);if(y.g!="")h&&(y.g=h+"."+y.g),Eo(y,y.s);else{var O=a.location;y=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var F=new xr(null);y&&wo(F,y),h&&(F.g=h),O&&Eo(F,O),p&&(F.l=p),y=F}return p=c.D,h=c.ya,p&&h&&qe(y,p,h),qe(y,"VER",c.la),li(c,y),y}function ph(c,h,p){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new We(new Ao({eb:p})):new We(c.pa),h.Ha(c.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mh(){}t=mh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Po(){}Po.prototype.g=function(c,h){return new Vt(c,h)};function Vt(c,h){ie.call(this),this.g=new sh(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!I(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!I(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new cs(this)}b(Vt,ie),Vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){Nl(this.g)},Vt.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var p={};p.__data__=c,c=p}else this.u&&(p={},p.__data__=is(c),c=p);h.i.push(new ly(h.Ya++,c)),h.G==3&&Co(h)},Vt.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,Vt.aa.N.call(this)};function gh(c){bl.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(const p in h){c=p;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}b(gh,bl);function _h(){Cl.call(this),this.status=1}b(_h,Cl);function cs(c){this.g=c}b(cs,mh),cs.prototype.ua=function(){fe(this.g,"a")},cs.prototype.ta=function(c){fe(this.g,new gh(c))},cs.prototype.sa=function(c){fe(this.g,new _h)},cs.prototype.ra=function(){fe(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,Lg=function(){return new Po},Og=function(){return go()},Dg=Rr,$c={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_o.NO_ERROR=0,_o.TIMEOUT=8,_o.HTTP_ERROR=6,Ko=_o,Od.COMPLETE="complete",kg=Od,Rd.EventType=Js,Js.OPEN="a",Js.CLOSE="b",Js.ERROR="c",Js.MESSAGE="d",ie.prototype.listen=ie.prototype.K,gi=Rd,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,xg=We}).apply(typeof Mo<"u"?Mo:typeof self<"u"?self:typeof window<"u"?window:{});const xf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Ou("@firebase/firestore");function ms(){return Gr.logLevel}function ne(t,...e){if(Gr.logLevel<=Ae.DEBUG){const n=e.map(Nu);Gr.debug(`Firestore (${qs}): ${t}`,...n)}}function Ln(t,...e){if(Gr.logLevel<=Ae.ERROR){const n=e.map(Nu);Gr.error(`Firestore (${qs}): ${t}`,...n)}}function Ms(t,...e){if(Gr.logLevel<=Ae.WARN){const n=e.map(Nu);Gr.warn(`Firestore (${qs}): ${t}`,...n)}}function Nu(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t="Unexpected state"){const e=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: `+t;throw Ln(e),new Error(e)}function Le(t,e){t||_e()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class zT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HT{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new hr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new hr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new Mg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new wt(e)}}class GT{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class WT{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new GT(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Le(this.o===void 0);const r=i=>{i.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new KT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=YT(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function Ns(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new tt(0,0))}static max(){return new ye(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends qi{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const JT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends qi{construct(e,n,r){return new dt(e,n,r)}static isValidIdentifier(e){return JT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new le(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new le(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new le(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(ze.fromString(e))}static fromName(e){return new de(ze.fromString(e).popFirst(5))}static empty(){return new de(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new ze(e.slice()))}}function XT(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ye.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new gr(s,de.empty(),e)}function ZT(t){return new gr(t.readTime,t.key,-1)}class gr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gr(ye.min(),de.empty(),-1)}static max(){return new gr(ye.max(),de.empty(),-1)}}function eA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==tA)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function rA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}el.oe=-1;function tl(t){return t==null}function va(t){return t===0&&1/t==-1/0}function sA(t){return typeof t=="number"&&Number.isInteger(t)&&!va(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kf(e)),e=oA(t.get(n),e);return kf(e)}function oA(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function kf(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||ut.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ut.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new No(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new No(this.root,e,this.comparator,!1)}getReverseIterator(){return new No(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new No(this.root,e,this.comparator,!0)}}class No{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ut{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ut.RED,this.left=s??ut.EMPTY,this.right=i??ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ut(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}ut.EMPTY=null,ut.RED=!0,ut.BLACK=!1;ut.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Of(this.data.getIterator())}getIteratorFrom(e){return new Of(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class Of{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new jt([])}unionWith(e){let n=new at(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ns(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Fg("Invalid base64 string: "+i):i}}(e);return new ft(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const aA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(t){if(Le(!!t),typeof t=="string"){let e=0;const n=aA.exec(t);if(Le(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vr(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nl(t){const e=t.mapValue.fields.__previous_value__;return Vu(e)?nl(e):e}function zi(t){const e=_r(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Hi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vu(t)?4:uA(t)?9007199254740991:cA(t)?10:11:_e()}function mn(t,e){if(t===e)return!0;const n=yr(t);if(n!==yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zi(t).isEqual(zi(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=_r(s.timestampValue),a=_r(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return vr(s.bytesValue).isEqual(vr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ke(s.geoPointValue.latitude)===Ke(i.geoPointValue.latitude)&&Ke(s.geoPointValue.longitude)===Ke(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ke(s.integerValue)===Ke(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ke(s.doubleValue),a=Ke(i.doubleValue);return o===a?va(o)===va(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ns(t.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Df(o)!==Df(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!mn(o[l],a[l])))return!1;return!0}(t,e);default:return _e()}}function Gi(t,e){return(t.values||[]).find(n=>mn(n,e))!==void 0}function Vs(t,e){if(t===e)return 0;const n=yr(t),r=yr(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ke(i.integerValue||i.doubleValue),l=Ke(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Lf(t.timestampValue,e.timestampValue);case 4:return Lf(zi(t),zi(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(i,o){const a=vr(i),l=vr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Re(a[u],l[u]);if(d!==0)return d}return Re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Re(Ke(i.latitude),Ke(o.latitude));return a!==0?a:Re(Ke(i.longitude),Ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Mf(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,d;const f=i.fields||{},m=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,b=(l=m.value)===null||l===void 0?void 0:l.arrayValue,x=Re(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:Mf(g,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Vo.mapValue&&o===Vo.mapValue)return 0;if(i===Vo.mapValue)return 1;if(o===Vo.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const m=Re(l[f],d[f]);if(m!==0)return m;const g=Vs(a[l[f]],u[d[f]]);if(g!==0)return g}return Re(l.length,d.length)}(t.mapValue,e.mapValue);default:throw _e()}}function Lf(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=_r(t),r=_r(e),s=Re(n.seconds,r.seconds);return s!==0?s:Re(n.nanos,r.nanos)}function Mf(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Vs(n[s],r[s]);if(i)return i}return Re(n.length,r.length)}function Fs(t){return jc(t)}function jc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_r(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=jc(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${jc(n.fields[o])}`;return s+"}"}(t.mapValue):_e()}function Qo(t){switch(yr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nl(t);return e?16+Qo(e):16;case 5:return 2*t.stringValue.length;case 6:return vr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Qo(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Sr(r.fields,(i,o)=>{s+=i.length+Qo(o)}),s}(t.mapValue);default:throw _e()}}function qc(t){return!!t&&"integerValue"in t}function Fu(t){return!!t&&"arrayValue"in t}function Nf(t){return!!t&&"nullValue"in t}function Vf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yo(t){return!!t&&"mapValue"in t}function cA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ci(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Sr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ci(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ci(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ci(n)}setAll(e){let n=dt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ci(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Yo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Yo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Sr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Nt(Ci(this.value))}}function Bg(t){const e=[];return Sr(t.fields,(n,r)=>{const s=new dt([n]);if(Yo(r)){const i=Bg(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new At(e,0,ye.min(),ye.min(),ye.min(),Nt.empty(),0)}static newFoundDocument(e,n,r,s){return new At(e,1,n,ye.min(),r,s,0)}static newNoDocument(e,n){return new At(e,2,n,ye.min(),ye.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,ye.min(),ye.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this.position=e,this.inclusive=n}}function Ff(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=Vs(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n="asc"){this.field=e,this.dir=n}}function dA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{}class et extends Ug{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fA(e,n,r):n==="array-contains"?new gA(e,r):n==="in"?new _A(e,r):n==="not-in"?new vA(e,r):n==="array-contains-any"?new yA(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pA(e,r):new mA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vs(n,this.value)):n!==null&&yr(this.value)===yr(n)&&this.matchesComparison(Vs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gn extends Ug{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new gn(e,n)}matches(e){return $g(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $g(t){return t.op==="and"}function jg(t){return hA(t)&&$g(t)}function hA(t){for(const e of t.filters)if(e instanceof gn)return!1;return!0}function zc(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+Fs(t.value);if(jg(t))return t.filters.map(e=>zc(e)).join(",");{const e=t.filters.map(n=>zc(n)).join(",");return`${t.op}(${e})`}}function qg(t,e){return t instanceof et?function(r,s){return s instanceof et&&r.op===s.op&&r.field.isEqual(s.field)&&mn(r.value,s.value)}(t,e):t instanceof gn?function(r,s){return s instanceof gn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&qg(o,s.filters[a]),!0):!1}(t,e):void _e()}function zg(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${Fs(n.value)}`}(t):t instanceof gn?function(n){return n.op.toString()+" {"+n.getFilters().map(zg).join(" ,")+"}"}(t):"Filter"}class fA extends et{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class pA extends et{constructor(e,n){super(e,"in",n),this.keys=Hg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mA extends et{constructor(e,n){super(e,"not-in",n),this.keys=Hg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Hg(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class gA extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fu(n)&&Gi(n.arrayValue,this.value)}}class _A extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gi(this.value.arrayValue,n)}}class vA extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Gi(this.value.arrayValue,n)}}class yA extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gi(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Uf(t,e=null,n=[],r=[],s=null,i=null,o=null){return new wA(t,e,n,r,s,i,o)}function Bu(t){const e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fs(r)).join(",")),e.ue=n}return e.ue}function Uu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qg(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bf(t.startAt,e.startAt)&&Bf(t.endAt,e.endAt)}function Hc(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function EA(t,e,n,r,s,i,o,a){return new rl(t,e,n,r,s,i,o,a)}function Gg(t){return new rl(t)}function $f(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TA(t){return t.collectionGroup!==null}function Ri(t){const e=Ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new at(dt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new wa(i,r))}),n.has(dt.keyField().canonicalString())||e.ce.push(new wa(dt.keyField(),r))}return e.ce}function un(t){const e=Ee(t);return e.le||(e.le=AA(e,Ri(t))),e.le}function AA(t,e){if(t.limitType==="F")return Uf(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new wa(s.field,i)});const n=t.endAt?new ya(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ya(t.startAt.position,t.startAt.inclusive):null;return Uf(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gc(t,e,n){return new rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sl(t,e){return Uu(un(t),un(e))&&t.limitType===e.limitType}function Wg(t){return`${Bu(un(t))}|lt:${t.limitType}`}function gs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>zg(s)).join(", ")}]`),tl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Fs(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Fs(s)).join(",")),`Target(${r})`}(un(t))}; limitType=${t.limitType})`}function il(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):de.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ri(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=Ff(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ri(r),s)||r.endAt&&!function(o,a,l){const u=Ff(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ri(r),s))}(t,e)}function SA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Kg(t){return(e,n)=>{let r=!1;for(const s of Ri(t)){const i=IA(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function IA(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Vs(l,u):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Vg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new Ge(de.comparator);function Mn(){return bA}const Qg=new Ge(de.comparator);function _i(...t){let e=Qg;for(const n of t)e=e.insert(n.key,n);return e}function Yg(t){let e=Qg;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ur(){return Pi()}function Jg(){return Pi()}function Pi(){return new ts(t=>t.toString(),(t,e)=>t.isEqual(e))}const CA=new Ge(de.comparator),RA=new at(de.comparator);function Se(...t){let e=RA;for(const n of t)e=e.add(n);return e}const PA=new at(Re);function xA(){return PA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:va(e)?"-0":e}}function Xg(t){return{integerValue:""+t}}function kA(t,e){return sA(e)?Xg(e):$u(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this._=void 0}}function DA(t,e,n){return t instanceof Ea?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Vu(i)&&(i=nl(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Wi?e_(t,e):t instanceof Ki?t_(t,e):function(s,i){const o=Zg(s,i),a=jf(o)+jf(s.Pe);return qc(o)&&qc(s.Pe)?Xg(a):$u(s.serializer,a)}(t,e)}function OA(t,e,n){return t instanceof Wi?e_(t,e):t instanceof Ki?t_(t,e):n}function Zg(t,e){return t instanceof Ta?function(r){return qc(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ea extends ol{}class Wi extends ol{constructor(e){super(),this.elements=e}}function e_(t,e){const n=n_(e);for(const r of t.elements)n.some(s=>mn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ki extends ol{constructor(e){super(),this.elements=e}}function t_(t,e){let n=n_(e);for(const r of t.elements)n=n.filter(s=>!mn(s,r));return{arrayValue:{values:n}}}class Ta extends ol{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function jf(t){return Ke(t.integerValue||t.doubleValue)}function n_(t){return Fu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function LA(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Wi&&s instanceof Wi||r instanceof Ki&&s instanceof Ki?Ns(r.elements,s.elements,mn):r instanceof Ta&&s instanceof Ta?mn(r.Pe,s.Pe):r instanceof Ea&&s instanceof Ea}(t.transform,e.transform)}class MA{constructor(e,n){this.version=e,this.transformResults=n}}class Kt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kt}static exists(e){return new Kt(void 0,e)}static updateTime(e){return new Kt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class al{}function r_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ju(t.key,Kt.none()):new oo(t.key,t.data,Kt.none());{const n=t.data,r=Nt.empty();let s=new at(dt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ir(t.key,r,new jt(s.toArray()),Kt.none())}}function NA(t,e,n){t instanceof oo?function(s,i,o){const a=s.value.clone(),l=zf(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ir?function(s,i,o){if(!Jo(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=zf(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(s_(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function xi(t,e,n,r){return t instanceof oo?function(i,o,a,l){if(!Jo(i.precondition,o))return a;const u=i.value.clone(),d=Hf(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ir?function(i,o,a,l){if(!Jo(i.precondition,o))return a;const u=Hf(i.fieldTransforms,l,o),d=o.data;return d.setAll(s_(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Jo(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function VA(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Zg(r.transform,s||null);i!=null&&(n===null&&(n=Nt.empty()),n.set(r.field,i))}return n||null}function qf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ns(r,s,(i,o)=>LA(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class oo extends al{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ir extends al{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function s_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zf(t,e,n){const r=new Map;Le(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,OA(o,a,n[s]))}return r}function Hf(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,DA(i,o,e))}return r}class ju extends al{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FA extends al{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&NA(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Jg();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=r_(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&Ns(this.mutations,e.mutations,(n,r)=>qf(n,r))&&Ns(this.baseMutations,e.baseMutations,(n,r)=>qf(n,r))}}class qu{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Le(e.mutations.length===r.length);let s=function(){return CA}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new qu(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,Ce;function jA(t){switch(t){default:return _e();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function i_(t){if(t===void 0)return Ln("GRPC error has no .code"),z.UNKNOWN;switch(t){case Je.OK:return z.OK;case Je.CANCELLED:return z.CANCELLED;case Je.UNKNOWN:return z.UNKNOWN;case Je.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Je.INTERNAL:return z.INTERNAL;case Je.UNAVAILABLE:return z.UNAVAILABLE;case Je.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Je.NOT_FOUND:return z.NOT_FOUND;case Je.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Je.ABORTED:return z.ABORTED;case Je.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Je.DATA_LOSS:return z.DATA_LOSS;default:return _e()}}(Ce=Je||(Je={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new qr([4294967295,4294967295],0);function Gf(t){const e=qA().encode(t),n=new Pg;return n.update(e),new Uint8Array(n.digest())}function Wf(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new qr([n,r],0),new qr([s,i],0)]}class zu{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vi(`Invalid padding: ${n}`);if(r<0)throw new vi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=qr.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(qr.fromNumber(r)));return s.compare(zA)===1&&(s=new qr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Gf(e),[r,s]=Wf(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new zu(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Gf(e),[r,s]=Wf(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ao.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ll(ye.min(),s,new Ge(Re),Mn(),Se())}}class ao{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ao(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class o_{constructor(e,n){this.targetId=e,this.me=n}}class a_{constructor(e,n,r=ft.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Kf{constructor(){this.fe=0,this.ge=Yf(),this.pe=ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Se(),n=Se(),r=Se();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:_e()}}),new ao(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Yf()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class HA{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mn(),this.qe=Qf(),this.Qe=new Ge(Re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Hc(i))if(r===0){const o=new de(i.path);this.Ue(n,o,At.newNoDocument(o,ye.min()))}else Le(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=vr(r).toUint8Array()}catch(l){if(l instanceof Fg)return Ms("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new zu(o,s,i)}catch(l){return Ms(l instanceof vi?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Hc(a.target)){const l=new de(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,At.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Se();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new ll(e,n,this.Qe,this.ke,r);return this.ke=Mn(),this.qe=Qf(),this.Qe=new Ge(Re),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Kf,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new at(Re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Kf),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Qf(){return new Ge(de.comparator)}function Yf(){return new Ge(de.comparator)}const GA={asc:"ASCENDING",desc:"DESCENDING"},WA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KA={and:"AND",or:"OR"};class QA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wc(t,e){return t.useProto3Json||tl(e)?e:{value:e}}function Aa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YA(t,e){return Aa(t,e.toTimestamp())}function dn(t){return Le(!!t),ye.fromTimestamp(function(n){const r=_r(n);return new tt(r.seconds,r.nanos)}(t))}function Hu(t,e){return Kc(t,e).canonicalString()}function Kc(t,e){const n=function(s){return new ze(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function c_(t){const e=ze.fromString(t);return Le(p_(e)),e}function Qc(t,e){return Hu(t.databaseId,e.path)}function oc(t,e){const n=c_(e);if(n.get(1)!==t.databaseId.projectId)throw new le(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(d_(n))}function u_(t,e){return Hu(t.databaseId,e)}function JA(t){const e=c_(t);return e.length===4?ze.emptyPath():d_(e)}function Yc(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function d_(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Jf(t,e,n){return{name:Qc(t,e),fields:n.value.mapValue.fields}}function XA(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Le(d===void 0||typeof d=="string"),ft.fromBase64String(d||"")):(Le(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ft.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?z.UNKNOWN:i_(u.code);return new le(d,u.message||"")}(o);n=new a_(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=oc(t,r.document.name),i=dn(r.document.updateTime),o=r.document.createTime?dn(r.document.createTime):ye.min(),a=new Nt({mapValue:{fields:r.document.fields}}),l=At.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Xo(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=oc(t,r.document),i=r.readTime?dn(r.readTime):ye.min(),o=At.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Xo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=oc(t,r.document),i=r.removedTargetIds||[];n=new Xo([],i,s,null)}else{if(!("filter"in e))return _e();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new $A(s,i),a=r.targetId;n=new o_(a,o)}}return n}function ZA(t,e){let n;if(e instanceof oo)n={update:Jf(t,e.key,e.value)};else if(e instanceof ju)n={delete:Qc(t,e.key)};else if(e instanceof Ir)n={update:Jf(t,e.key,e.data),updateMask:lS(e.fieldMask)};else{if(!(e instanceof FA))return _e();n={verify:Qc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ea)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ki)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ta)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:YA(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:_e()}(t,e.precondition)),n}function eS(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?dn(s.updateTime):dn(i);return o.isEqual(ye.min())&&(o=dn(i)),new MA(o,s.transformResults||[])}(n,e))):[]}function tS(t,e){return{documents:[u_(t,e.path)]}}function nS(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=u_(t,s);const i=function(u){if(u.length!==0)return f_(gn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:_s(m.field),direction:iS(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Wc(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function rS(t){let e=JA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Le(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=h_(f);return m instanceof gn&&jg(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(b){return new wa(vs(b.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,tl(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,g=f.values||[];return new ya(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,g=f.values||[];return new ya(g,m)}(n.endAt)),EA(e,s,o,i,a,"F",l,u)}function sS(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function h_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vs(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=vs(n.unaryFilter.field);return et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=vs(n.unaryFilter.field);return et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vs(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return et.create(vs(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gn.create(n.compositeFilter.filters.map(r=>h_(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function iS(t){return GA[t]}function oS(t){return WA[t]}function aS(t){return KA[t]}function _s(t){return{fieldPath:t.canonicalString()}}function vs(t){return dt.fromServerFormat(t.fieldPath)}function f_(t){return t instanceof et?function(n){if(n.op==="=="){if(Vf(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NAN"}};if(Nf(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vf(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NAN"}};if(Nf(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(n.field),op:oS(n.op),value:n.value}}}(t):t instanceof gn?function(n){const r=n.getFilters().map(s=>f_(s));return r.length===1?r[0]:{compositeFilter:{op:aS(n.op),filters:r}}}(t):_e()}function lS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function p_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n,r,s,i=ye.min(),o=ye.min(),a=ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.ct=e}}function uS(t){const e=rS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.un=new hS}addToCollectionParentIndex(e,n){return this.un.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(gr.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class hS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new at(ze.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new at(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Lt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Lt(e,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lt.DEFAULT_COLLECTION_PERCENTILE=10,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lt.DEFAULT=new Lt(41943040,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lt.DISABLED=new Lt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Bs(0)}static kn(){return new Bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf([t,e],[n,r]){const s=Re(t,n);return s===0?Re(e,r):s}class fS{constructor(e){this.Un=e,this.buffer=new at(Zf),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Zf(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pS{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hs(n)?ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await zs(n)}await this.Hn(3e5)})}}class mS{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(el.oe);const r=new fS(n);return this.Jn.forEachTarget(e,s=>r.zn(s.sequenceNumber)).next(()=>this.Jn.Zn(e,s=>r.zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Xf)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xf):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ms()<=Ae.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function gS(t,e){return new mS(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.changes=new ts(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&xi(r.mutation,s,jt.empty(),tt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const s=Ur();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=_i();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ur();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Mn();const o=Pi(),a=function(){return Pi()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Ir)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),xi(d.mutation,u,d.mutation.getFieldMask(),tt.now())):o.set(u.key,jt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new vS(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Pi();let s=new Ge((o,a)=>o-a),i=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||jt.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(s.get(a.batchId)||Se()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=Jg();d.forEach(m=>{if(!i.has(m)){const g=r_(n.get(m),r.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Ur());let a=-1,l=i;return o.next(u=>$.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Se())).next(d=>({batchId:a,changes:Yg(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let s=_i();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=_i();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const u=function(f,m){return new rl(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,At.newInvalidDocument(d)))});let a=_i();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&xi(d.mutation,u,jt.empty(),tt.now()),il(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:dn(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:uS(s.bundledQuery),readTime:dn(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.overlays=new Ge(de.comparator),this.Ir=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ur();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Ur(),i=n.length+1,o=new de(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ge((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Ur(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ur(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return $.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new UA(n,r));let i=this.Ir.get(n);i===void 0&&(i=Se(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this.Tr=new at(rt.Er),this.dr=new at(rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new rt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new rt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new de(new ze([])),r=new rt(n,e),s=new rt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new de(new ze([])),r=new rt(n,e),s=new rt(n,e+1);let i=Se();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new rt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return de.comparator(e.key,n.key)||Re(e.wr,n.wr)}static Ar(e,n){return Re(e.wr,n.wr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new at(rt.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new BA(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new rt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),s=new rt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(Re);return n.forEach(s=>{const i=new rt(s,0),o=new rt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;de.isDocumentKey(i)||(i=i.child(""));const o=new rt(new de(i),0);let a=new at(Re);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.wr)),!0)},o),$.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Le(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(n.mutations,s=>{const i=new rt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new rt(n,0),s=this.br.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.Mr=e,this.docs=function(){return new Ge(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=Mn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():At.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Mn();const o=n.path,a=new de(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||eA(ZT(d),r)<=0||(s.has(d.key)||il(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){_e()}Or(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new IS(this)}getSize(e){return $.resolve(this.size)}}class IS extends _S{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.persistence=e,this.Nr=new ts(n=>Bu(n),Uu),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Gu,this.targetCount=0,this.kr=Bs.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Bs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Kn(n),$.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n){this.qr={},this.overlays={},this.Qr=new el(0),this.Kr=!1,this.Kr=!0,this.$r=new TS,this.referenceDelegate=e(this),this.Ur=new bS(this),this.indexManager=new dS,this.remoteDocumentCache=function(s){return new SS(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new cS(n),this.Gr=new wS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ES,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new AS(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const s=new CS(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class CS extends nA{constructor(e){super(),this.currentSequenceNumber=e}}class Wu{constructor(e){this.persistence=e,this.Jr=new Gu,this.Yr=null}static Zr(e){return new Wu(e)}get Xr(){if(this.Yr)return this.Yr;throw _e()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const s=de.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ye.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $.or([()=>$.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Sa{constructor(e,n){this.persistence=e,this.ti=new ts(r=>iA(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=gS(this,n)}static Zr(e,n){return new Sa(e,n)}zr(){}jr(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return $.forEach(this.ti,(r,s)=>this.nr(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Or(e,o=>this.nr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ye.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),$.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qo(e.data.value)),n}nr(e,n,r){return $.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ti.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Se(),s=Se();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ku(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return bE()?8:rA(St())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new RS;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(ms()<=Ae.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(ms()<=Ae.DEBUG&&ne("QueryEngine","Query:",gs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(ms()<=Ae.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(n))):$.resolve())}Yi(e,n){if($f(n))return $.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Gc(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Se(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Gc(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,s){return $f(n)||s.isEqual(ye.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?$.resolve(null):(ms()<=Ae.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),gs(n)),this.rs(e,o,n,XT(s,-1)).next(a=>a))})}ts(e,n){let r=new at(Kg(e));return n.forEach((s,i)=>{il(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return ms()<=Ae.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",gs(n)),this.Ji.getDocumentsMatchingQuery(e,n,gr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Ge(Re),this._s=new ts(i=>Bu(i),Uu),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yS(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function kS(t,e,n,r){return new xS(t,e,n,r)}async function g_(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Se();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function DS(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,m=f.keys();let g=$.resolve();return m.forEach(b=>{g=g.next(()=>d.getEntry(l,b)).next(x=>{const D=u.docVersions.get(b);Le(D!==null),x.version.compareTo(D)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function __(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function OS(t,e){const n=Ee(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(ft.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(x,D,L){return x.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(m,g,d)&&a.push(n.Ur.updateTargetData(i,g))});let l=Mn(),u=Se();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(LS(i,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(ye.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.os=s,i))}function LS(t,e,n){let r=Se(),s=Se();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Mn();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function MS(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function NS(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new sr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Jc(t,e,n){const r=Ee(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Hs(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function ep(t,e,n){const r=Ee(t);let s=ye.min(),i=Se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=Ee(l),m=f._s.get(d);return m!==void 0?$.resolve(f.os.get(m)):f.Ur.getTargetData(u,d)}(r,o,un(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ye.min(),n?i:Se())).next(a=>(VS(r,SA(e),a),{documents:a,Ts:i})))}function VS(t,e,n){let r=t.us.get(e)||ye.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class tp{constructor(){this.activeTargetIds=xA()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FS{constructor(){this.so=new tp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new tp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo=null;function ac(){return Fo===null?Fo=function(){return 268435456+Math.round(2147483648*Math.random())}():Fo++,"0x"+Fo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt="WebChannelConnection";class jS extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=ac(),l=this.xo(n,r.toUriEncodedString());ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,l,u,s).then(d=>(ne("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ms("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=US[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=ac();return new Promise((o,a)=>{const l=new xg;l.setWithCredentials(!0),l.listenOnce(kg.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ko.NO_ERROR:const d=l.getResponseJson();ne(yt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Ko.TIMEOUT:ne(yt,`RPC '${e}' ${i} timed out`),a(new le(z.DEADLINE_EXCEEDED,"Request time out"));break;case Ko.HTTP_ERROR:const f=l.getStatus();if(ne(yt,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const b=function(D){const L=D.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(L)>=0?L:z.UNKNOWN}(g.status);a(new le(b,g.message))}else a(new le(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new le(z.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ne(yt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);ne(yt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=ac(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Lg(),a=Og(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");ne(yt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let m=!1,g=!1;const b=new $S({Io:D=>{g?ne(yt,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(m||(ne(yt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),ne(yt,`RPC '${e}' stream ${s} sending:`,D),f.send(D))},To:()=>f.close()}),x=(D,L,I)=>{D.listen(L,C=>{try{I(C)}catch(k){setTimeout(()=>{throw k},0)}})};return x(f,gi.EventType.OPEN,()=>{g||(ne(yt,`RPC '${e}' stream ${s} transport opened.`),b.yo())}),x(f,gi.EventType.CLOSE,()=>{g||(g=!0,ne(yt,`RPC '${e}' stream ${s} transport closed`),b.So())}),x(f,gi.EventType.ERROR,D=>{g||(g=!0,Ms(yt,`RPC '${e}' stream ${s} transport errored:`,D),b.So(new le(z.UNAVAILABLE,"The operation could not be completed")))}),x(f,gi.EventType.MESSAGE,D=>{var L;if(!g){const I=D.data[0];Le(!!I);const C=I,k=C.error||((L=C[0])===null||L===void 0?void 0:L.error);if(k){ne(yt,`RPC '${e}' stream ${s} received error:`,k);const V=k.status;let j=function(_){const E=Je[_];if(E!==void 0)return i_(E)}(V),R=k.message;j===void 0&&(j=z.INTERNAL,R="Unknown error status: "+V+" with message "+k.message),g=!0,b.So(new le(j,R)),f.close()}else ne(yt,`RPC '${e}' stream ${s} received:`,I),b.bo(I)}}),x(a,Dg.STAT_EVENT,D=>{D.stat===$c.PROXY?ne(yt,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===$c.NOPROXY&&ne(yt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function lc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){return new QA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new v_(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Ln(n.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new le(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qS extends y_{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=XA(this.serializer,e),r=function(i){if(!("targetChange"in i))return ye.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?dn(o.readTime):ye.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Yc(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Hc(l)?{documents:tS(i,l)}:{query:nS(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=l_(i,o.resumeToken);const u=Wc(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ye.min())>0){a.readTime=Aa(i,o.snapshotVersion.toTimestamp());const u=Wc(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=sS(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Yc(this.serializer),n.removeTarget=e,this.a_(n)}}class zS extends y_{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Le(!!e.streamToken),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=eS(e.writeResults,e.commitTime),r=dn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Yc(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ZA(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new le(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Kc(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new le(z.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Kc(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class GS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ln(n),this.D_=!1):ne("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{ns(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ee(l);u.L_.add(4),await lo(u),u.q_.set("Unknown"),u.L_.delete(4),await ul(u)}(this))})}),this.q_=new GS(r,s)}}async function ul(t){if(ns(t))for(const e of t.B_)await e(!0)}async function lo(t){for(const e of t.B_)await e(!1)}function w_(t,e){const n=Ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Xu(n)?Ju(n):Gs(n).r_()&&Yu(n,e))}function Qu(t,e){const n=Ee(t),r=Gs(n);n.N_.delete(e),r.r_()&&E_(n,e),n.N_.size===0&&(r.r_()?r.o_():ns(n)&&n.q_.set("Unknown"))}function Yu(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gs(t).A_(e)}function E_(t,e){t.Q_.xe(e),Gs(t).R_(e)}function Ju(t){t.Q_=new HA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Gs(t).start(),t.q_.v_()}function Xu(t){return ns(t)&&!Gs(t).n_()&&t.N_.size>0}function ns(t){return Ee(t).L_.size===0}function T_(t){t.Q_=void 0}async function KS(t){t.q_.set("Online")}async function QS(t){t.N_.forEach((e,n)=>{Yu(t,e)})}async function YS(t,e){T_(t),Xu(t)?(t.q_.M_(e),Ju(t)):t.q_.set("Unknown")}async function JS(t,e,n){if(t.q_.set("Online"),e instanceof a_&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ia(t,r)}else if(e instanceof Xo?t.Q_.Ke(e):e instanceof o_?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ye.min()))try{const r=await __(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.N_.get(u);d&&i.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.N_.get(l);if(!d)return;i.N_.set(l,d.withResumeToken(ft.EMPTY_BYTE_STRING,d.snapshotVersion)),E_(i,l);const f=new sr(d.target,l,u,d.sequenceNumber);Yu(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await Ia(t,r)}}async function Ia(t,e,n){if(!Hs(e))throw e;t.L_.add(1),await lo(t),t.q_.set("Offline"),n||(n=()=>__(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ul(t)})}function A_(t,e){return e().catch(n=>Ia(t,n,e))}async function dl(t){const e=Ee(t),n=wr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;XS(e);)try{const s=await MS(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,ZS(e,s)}catch(s){await Ia(e,s)}S_(e)&&I_(e)}function XS(t){return ns(t)&&t.O_.length<10}function ZS(t,e){t.O_.push(e);const n=wr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function S_(t){return ns(t)&&!wr(t).n_()&&t.O_.length>0}function I_(t){wr(t).start()}async function eI(t){wr(t).p_()}async function tI(t){const e=wr(t);for(const n of t.O_)e.m_(n.mutations)}async function nI(t,e,n){const r=t.O_.shift(),s=qu.from(r,e,n);await A_(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await dl(t)}async function rI(t,e){e&&wr(t).V_&&await async function(r,s){if(function(o){return jA(o)&&o!==z.ABORTED}(s.code)){const i=r.O_.shift();wr(r).s_(),await A_(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await dl(r)}}(t,e),S_(t)&&I_(t)}async function rp(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=ns(n);n.L_.add(3),await lo(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ul(n)}async function sI(t,e){const n=Ee(t);e?(n.L_.delete(2),await ul(n)):e||(n.L_.add(2),await lo(n),n.q_.set("Unknown"))}function Gs(t){return t.K_||(t.K_=function(n,r,s){const i=Ee(n);return i.w_(),new qS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:KS.bind(null,t),Ro:QS.bind(null,t),mo:YS.bind(null,t),d_:JS.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Xu(t)?Ju(t):t.q_.set("Unknown")):(await t.K_.stop(),T_(t))})),t.K_}function wr(t){return t.U_||(t.U_=function(n,r,s){const i=Ee(n);return i.w_(),new zS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:eI.bind(null,t),mo:rI.bind(null,t),f_:tI.bind(null,t),g_:nI.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await dl(t)):(await t.U_.stop(),t.O_.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Zu(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ed(t,e){if(Ln("AsyncQueue",`${e}: ${t}`),Hs(t))return new le(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=_i(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new Cs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this.W_=new Ge(de.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):_e():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Us{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Us(e,n,Cs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class oI{constructor(){this.queries=ip(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ee(n),i=s.queries;s.queries=ip(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new le(z.ABORTED,"Firestore shutting down"))}}function ip(){return new ts(t=>Wg(t),sl)}async function aI(t,e){const n=Ee(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new iI,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=ed(o,`Initialization of query '${gs(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&td(n)}async function lI(t,e){const n=Ee(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cI(t,e){const n=Ee(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&td(n)}function uI(t,e,n){const r=Ee(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function td(t){t.Y_.forEach(e=>{e.next()})}var Xc,op;(op=Xc||(Xc={})).ea="default",op.Cache="cache";class dI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Us(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Xc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){this.key=e}}class C_{constructor(e){this.key=e}}class hI{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Se(),this.mutatedKeys=Se(),this.Aa=Kg(e),this.Ra=new Cs(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new sp,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),g=il(this.query,f)?f:null,b=!!m&&this.mutatedKeys.has(m.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let D=!1;m&&g?m.data.isEqual(g.data)?b!==x&&(r.track({type:3,doc:g}),D=!0):this.ga(m,g)||(r.track({type:2,doc:g}),D=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),D=!0):m&&!g&&(r.track({type:1,doc:m}),D=!0,(l||u)&&(a=!0)),D&&(g?(o=o.add(g),i=x?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(g,b){const x=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return x(g)-x(b)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Us(this.query,e.Ra,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Se(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new C_(r))}),this.da.forEach(r=>{e.has(r)||n.push(new b_(r))}),n}ba(e){this.Ta=e.Ts,this.da=Se();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Us.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class fI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pI{constructor(e){this.key=e,this.va=!1}}class mI{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ts(a=>Wg(a),sl),this.Ma=new Map,this.xa=new Set,this.Oa=new Ge(de.comparator),this.Na=new Map,this.La=new Gu,this.Ba={},this.ka=new Map,this.qa=Bs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function gI(t,e,n=!0){const r=O_(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await R_(r,e,n,!0),s}async function _I(t,e){const n=O_(t);await R_(n,e,!0,!1)}async function R_(t,e,n,r){const s=await NS(t.localStore,un(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await vI(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&w_(t.remoteStore,s),a}async function vI(t,e,n,r,s){t.Ka=(f,m,g)=>async function(x,D,L,I){let C=D.view.ma(L);C.ns&&(C=await ep(x.localStore,D.query,!1).then(({documents:R})=>D.view.ma(R,C)));const k=I&&I.targetChanges.get(D.targetId),V=I&&I.targetMismatches.get(D.targetId)!=null,j=D.view.applyChanges(C,x.isPrimaryClient,k,V);return lp(x,D.targetId,j.wa),j.snapshot}(t,f,m,g);const i=await ep(t.localStore,e,!0),o=new hI(e,i.Ts),a=o.ma(i.documents),l=ao.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);lp(t,n,u.wa);const d=new fI(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function yI(t,e,n){const r=Ee(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!sl(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Jc(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Qu(r.remoteStore,s.targetId),Zc(r,s.targetId)}).catch(zs)):(Zc(r,s.targetId),await Jc(r.localStore,s.targetId,!0))}async function wI(t,e){const n=Ee(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qu(n.remoteStore,r.targetId))}async function EI(t,e,n){const r=RI(t);try{const s=await function(o,a){const l=Ee(o),u=tt.now(),d=a.reduce((g,b)=>g.add(b.key),Se());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=Mn(),x=Se();return l.cs.getEntries(g,d).next(D=>{b=D,b.forEach((L,I)=>{I.isValidDocument()||(x=x.add(L))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,b)).next(D=>{f=D;const L=[];for(const I of a){const C=VA(I,f.get(I.key).overlayedDocument);C!=null&&L.push(new Ir(I.key,C,Bg(C.value.mapValue),Kt.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,L,a)}).next(D=>{m=D;const L=D.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(g,D.batchId,L)})}).then(()=>({batchId:m.batchId,changes:Yg(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ge(Re)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await co(r,s.changes),await dl(r.remoteStore)}catch(s){const i=ed(s,"Failed to persist write");n.reject(i)}}async function P_(t,e){const n=Ee(t);try{const r=await OS(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Le(o.va):s.removedDocuments.size>0&&(Le(o.va),o.va=!1))}),await co(n,r,e)}catch(r){await zs(r)}}function ap(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ee(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const m of f.j_)m.Z_(a)&&(u=!0)}),u&&td(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TI(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Ge(de.comparator);o=o.insert(i,At.newNoDocument(i,ye.min()));const a=Se().add(i),l=new ll(ye.min(),new Map,new Ge(Re),o,a);await P_(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),nd(r)}else await Jc(r.localStore,e,!1).then(()=>Zc(r,e,n)).catch(zs)}async function AI(t,e){const n=Ee(t),r=e.batch.batchId;try{const s=await DS(n.localStore,e);k_(n,r,null),x_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await co(n,s)}catch(s){await zs(s)}}async function SI(t,e,n){const r=Ee(t);try{const s=await function(o,a){const l=Ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Le(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);k_(r,e,n),x_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await co(r,s)}catch(s){await zs(s)}}function x_(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function k_(t,e,n){const r=Ee(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Zc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||D_(t,r)})}function D_(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Qu(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),nd(t))}function lp(t,e,n){for(const r of n)r instanceof b_?(t.La.addReference(r.key,e),II(t,r)):r instanceof C_?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||D_(t,r.key)):_e()}function II(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.xa.add(r),nd(t))}function nd(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new de(ze.fromString(e)),r=t.qa.next();t.Na.set(r,new pI(n)),t.Oa=t.Oa.insert(n,r),w_(t.remoteStore,new sr(un(Gg(n.path)),r,"TargetPurposeLimboResolution",el.oe))}}async function co(t,e,n){const r=Ee(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Ku.Wi(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,u){const d=Ee(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(u,m=>$.forEach(m.$i,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>$.forEach(m.Ui,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Hs(f))throw f;ne("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const g=d.os.get(m),b=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(b);d.os=d.os.insert(m,x)}}}(r.localStore,i))}async function bI(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await g_(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new le(z.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await co(n,r.hs)}}function CI(t,e){const n=Ee(t),r=n.Na.get(e);if(r&&r.va)return Se().add(r.key);{let s=Se();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function O_(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TI.bind(null,e),e.Ca.d_=cI.bind(null,e.eventManager),e.Ca.$a=uI.bind(null,e.eventManager),e}function RI(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SI.bind(null,e),e}class ba{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cl(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return kS(this.persistence,new PS,e.initialUser,this.serializer)}Ga(e){return new m_(Wu.Zr,this.serializer)}Wa(e){return new FS}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ba.provider={build:()=>new ba};class PI extends ba{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Le(this.persistence.referenceDelegate instanceof Sa);const r=this.persistence.referenceDelegate.garbageCollector;return new pS(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?Lt.withCacheSize(this.cacheSizeBytes):Lt.DEFAULT;return new m_(r=>Sa.Zr(r,n),this.serializer)}}class eu{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ap(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bI.bind(null,this.syncEngine),await sI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oI}()}createDatastore(e){const n=cl(e.databaseInfo.databaseId),r=function(i){return new jS(i)}(e.databaseInfo);return function(i,o,a,l){return new HS(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new WS(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ap(this.syncEngine,n,0),function(){return np.D()?new np:new BS}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const f=new mI(s,i,o,a,l,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ee(s);ne("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await lo(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}eu.provider={build:()=>new eu};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ln("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=wt.UNAUTHENTICATED,this.clientId=Ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ne("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ne("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ed(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cc(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await g_(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DI(t);ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>rp(e.remoteStore,s)),t._onlineComponents=e}async function DI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await cc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ms("Error using user provided cache. Falling back to memory cache: "+n),await cc(t,new ba)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),await cc(t,new PI(void 0));return t._offlineComponents}async function L_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),await cp(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),await cp(t,new eu))),t._onlineComponents}function OI(t){return L_(t).then(e=>e.syncEngine)}async function LI(t){const e=await L_(t),n=e.eventManager;return n.onListen=gI.bind(null,e.syncEngine),n.onUnlisten=yI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_I.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wI.bind(null,e.syncEngine),n}function MI(t,e,n={}){const r=new hr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new xI({next:m=>{d.Za(),o.enqueueAndForget(()=>lI(i,f)),m.fromCache&&l.source==="server"?u.reject(new le(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new dI(a,d,{includeMetadataChanges:!0,_a:!0});return aI(i,f)}(await LI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t,e,n){if(!n)throw new le(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NI(t,e,n,r){if(e===!0&&r===!0)throw new le(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dp(t){if(!de.isDocumentKey(t))throw new le(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hp(t){if(de.isDocumentKey(t))throw new le(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function Nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rd(t);throw new le(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new le(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new le(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new le(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hl{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qT;switch(r.type){case"firstParty":return new WT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=up.get(n);r&&(ne("ComponentProvider","Removing Datastore"),up.delete(n),r.terminate())}(this),Promise.resolve()}}function VI(t,e,n,r={}){var s;const i=(t=Nn(t,hl))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=wt.MOCK_USER;else{a=yE(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new le(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new wt(u)}t._authCredentials=new zT(new Mg(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fl(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}}class fr extends fl{constructor(e,n,r){super(e,n,Gg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new de(e))}withConverter(e){return new fr(this.firestore,e,this._path)}}function uo(t,e,...n){if(t=ht(t),N_("collection","path",e),t instanceof hl){const r=ze.fromString(e,...n);return hp(r),new fr(t,null,r)}{if(!(t instanceof qt||t instanceof fr))throw new le(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return hp(r),new fr(t.firestore,null,r)}}function Wr(t,e,...n){if(t=ht(t),arguments.length===1&&(e=Ng.newId()),N_("doc","path",e),t instanceof hl){const r=ze.fromString(e,...n);return dp(r),new qt(t,null,new de(r))}{if(!(t instanceof qt||t instanceof fr))throw new le(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return dp(r),new qt(t.firestore,t instanceof fr?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new v_(this,"async_queue_retry"),this.Vu=()=>{const r=lc();r&&ne("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=lc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=lc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new hr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Hs(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ln("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Zu.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&_e()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Ws extends hl{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new pp,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pp(e),this._firestoreClient=void 0,await e}}}function Kr(t,e){const n=typeof t=="object"?t:bg(),r=typeof t=="string"?t:"(default)",s=Mu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=_E("firestore");i&&VI(s,...i)}return s}function V_(t){if(t._terminated)throw new le(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FI(t),t._firestoreClient}function FI(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,d){return new lA(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,M_(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new kI(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $s(ft.fromBase64String(e))}catch(n){throw new le(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $s(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=/^__.*__$/;class UI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms):new oo(e,this.data,n,this.fieldTransforms)}}class F_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function B_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class ad{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ad(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ca(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(B_(this.Cu)&&BI.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class $I{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cl(e)}Qu(e,n,r,s=!1){return new ad({Cu:e,methodName:n,qu:r,path:dt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ld(t){const e=t._freezeSettings(),n=cl(t._databaseId);return new $I(t._databaseId,!!e.ignoreUndefinedProperties,n)}function U_(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);cd("Data must be an object, but it was:",o,r);const a=$_(r,o);let l,u;if(i.merge)l=new jt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const m=tu(e,f,n);if(!o.contains(m))throw new le(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);q_(d,m)||d.push(m)}l=new jt(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new UI(new Nt(a),l,u)}class ml extends sd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ml}}function jI(t,e,n,r){const s=t.Qu(1,e,n);cd("Data must be an object, but it was:",s,r);const i=[],o=Nt.empty();Sr(r,(l,u)=>{const d=ud(e,l,n);u=ht(u);const f=s.Nu(d);if(u instanceof ml)i.push(d);else{const m=gl(u,f);m!=null&&(i.push(d),o.set(d,m))}});const a=new jt(i);return new F_(o,a,s.fieldTransforms)}function qI(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[tu(e,r,n)],l=[s];if(i.length%2!=0)throw new le(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(tu(e,i[m])),l.push(i[m+1]);const u=[],d=Nt.empty();for(let m=a.length-1;m>=0;--m)if(!q_(u,a[m])){const g=a[m];let b=l[m];b=ht(b);const x=o.Nu(g);if(b instanceof ml)u.push(g);else{const D=gl(b,x);D!=null&&(u.push(g),d.set(g,D))}}const f=new jt(u);return new F_(d,f,o.fieldTransforms)}function gl(t,e){if(j_(t=ht(t)))return cd("Unsupported field value:",e,t),$_(t,e);if(t instanceof sd)return function(r,s){if(!B_(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=gl(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kA(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=tt.fromDate(r);return{timestampValue:Aa(s.serializer,i)}}if(r instanceof tt){const i=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Aa(s.serializer,i)}}if(r instanceof id)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $s)return{bytesValue:l_(s.serializer,r._byteString)};if(r instanceof qt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Hu(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof od)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return $u(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${rd(r)}`)}(t,e)}function $_(t,e){const n={};return Vg(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(t,(r,s)=>{const i=gl(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function j_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof id||t instanceof $s||t instanceof qt||t instanceof sd||t instanceof od)}function cd(t,e,n){if(!j_(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=rd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function tu(t,e,n){if((e=ht(e))instanceof pl)return e._internalPath;if(typeof e=="string")return ud(t,e);throw Ca("Field path arguments must be of type string or ",t,!1,void 0,n)}const zI=new RegExp("[~\\*/\\[\\]]");function ud(t,e,n){if(e.search(zI)>=0)throw Ca(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pl(...e.split("."))._internalPath}catch{throw Ca(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ca(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new le(z.INVALID_ARGUMENT,a+t+l)}function q_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(H_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HI extends z_{data(){return super.data()}}function H_(t,e){return typeof e=="string"?ud(t,e):e instanceof pl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WI{convertValue(e,n="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Sr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ke(o.doubleValue));return new od(i)}convertGeoPoint(e){return new id(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nl(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zi(e));default:return null}}convertTimestamp(e){const n=_r(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);Le(p_(r));const s=new Hi(r.get(1),r.get(3)),i=new de(r.popFirst(5));return s.isEqual(n)||Ln(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KI extends z_{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(H_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zo extends KI{data(e={}){return super.data(e)}}class QI{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Bo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zo(this._firestore,this._userDataWriter,r.key,r,new Bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Zo(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Bo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Zo(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Bo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:YI(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}class JI extends WI{constructor(e){super(),this.firestore=e}convertBytes(e){return new $s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function dd(t){t=Nn(t,fl);const e=Nn(t.firestore,Ws),n=V_(e),r=new JI(e);return GI(t._query),MI(n,t._query).then(s=>new QI(e,r,t,s))}function XI(t,e,n){t=Nn(t,qt);const r=Nn(t.firestore,Ws),s=G_(t.converter,e);return _l(r,[U_(ld(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Kt.none())])}function W_(t,e,n,...r){t=Nn(t,qt);const s=Nn(t.firestore,Ws),i=ld(s);let o;return o=typeof(e=ht(e))=="string"||e instanceof pl?qI(i,"updateDoc",t._key,e,n,r):jI(i,"updateDoc",t._key,e),_l(s,[o.toMutation(t._key,Kt.exists(!0))])}function hd(t){return _l(Nn(t.firestore,Ws),[new ju(t._key,Kt.none())])}function K_(t,e){const n=Nn(t.firestore,Ws),r=Wr(t),s=G_(t.converter,e);return _l(n,[U_(ld(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Kt.exists(!1))]).then(()=>r)}function _l(t,e){return function(r,s){const i=new hr;return r.asyncQueue.enqueueAndForget(async()=>EI(await OI(r),s,i)),i.promise}(V_(t),e)}(function(e,n=!0){(function(s){qs=s})(js),Ls(new Hr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ws(new HT(r.getProvider("auth-internal")),new QT(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new le(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hi(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),dr(xf,"4.7.4",e),dr(xf,"4.7.4","esm2017")})();var ZI="firebase",eb="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(ZI,eb,"app");function fd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Q_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tb=Q_,Y_=new so("auth","Firebase",Q_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new Ou("@firebase/auth");function nb(t,...e){Ra.logLevel<=Ae.WARN&&Ra.warn(`Auth (${js}): ${t}`,...e)}function ea(t,...e){Ra.logLevel<=Ae.ERROR&&Ra.error(`Auth (${js}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,...e){throw pd(t,...e)}function hn(t,...e){return pd(t,...e)}function J_(t,e,n){const r=Object.assign(Object.assign({},tb()),{[e]:n});return new so("auth","Firebase",r).create(e,{appName:t.name})}function xn(t){return J_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pd(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Y_.create(t,...e)}function me(t,e,...n){if(!t)throw pd(e,...n)}function bn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ea(e),new Error(e)}function Vn(t,e){t||bn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rb(){return mp()==="http:"||mp()==="https:"}function mp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rb()||AE()||"connection"in navigator)?navigator.onLine:!0}function ib(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vn(n>e,"Short delay should be less than long delay!"),this.isMobile=wE()||SE()}get(){return sb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t,e){Vn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=new ho(3e4,6e4);function br(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cr(t,e,n,r,s={}){return Z_(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=io(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return TE()||(u.referrerPolicy="no-referrer"),X_.fetch()(ev(t,t.config.apiHost,n,a),u)})}async function Z_(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ob),e);try{const s=new cb(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Uo(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uo(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Uo(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Uo(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw J_(t,d,u);tn(t,d)}}catch(s){if(s instanceof Bn)throw s;tn(t,"network-request-failed",{message:String(s)})}}async function fo(t,e,n,r,s={}){const i=await Cr(t,e,n,r,s);return"mfaPendingCredential"in i&&tn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function ev(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?md(t.config,s):`${t.config.apiScheme}://${s}`}function lb(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hn(this.auth,"network-request-failed")),ab.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uo(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=hn(t,e,r);return s.customData._tokenResponse=n,s}function gp(t){return t!==void 0&&t.enterprise!==void 0}class ub{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function db(t,e){return Cr(t,"GET","/v2/recaptchaConfig",br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb(t,e){return Cr(t,"POST","/v1/accounts:delete",e)}async function tv(t,e){return Cr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fb(t,e=!1){const n=ht(t),r=await n.getIdToken(e),s=gd(r);me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ki(uc(s.auth_time)),issuedAtTime:ki(uc(s.iat)),expirationTime:ki(uc(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function uc(t){return Number(t)*1e3}function gd(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ea("JWT malformed, contained fewer than 3 sections"),null;try{const s=yg(n);return s?JSON.parse(s):(ea("Failed to decode base64 JWT payload"),null)}catch(s){return ea("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _p(t){const e=gd(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bn&&pb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ki(this.lastLoginAt),this.creationTime=ki(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Qi(t,tv(n,{idToken:r}));me(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?nv(i.providerUserInfo):[],a=_b(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ru(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function gb(t){const e=ht(t);await Pa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _b(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function nv(t){return t.map(e=>{var{providerId:n}=e,r=fd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(t,e){const n=await Z_(t,{},async()=>{const r=io({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=ev(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",X_.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yb(t,e){return Cr(t,"POST","/v2/accounts:revokeToken",br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_p(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=_p(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await vb(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Rs;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(me(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(me(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rs,this.toJSON())}_performRefresh(){return bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=fd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ru(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Qi(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fb(this,e)}reload(){return gb(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pa(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(xn(this.auth));const e=await this.getIdToken();return await Qi(this,hb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,L=(u=n.createdAt)!==null&&u!==void 0?u:void 0,I=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:k,isAnonymous:V,providerData:j,stsTokenManager:R}=n;me(C&&R,e,"internal-error");const v=Rs.fromJSON(this.name,R);me(typeof C=="string",e,"internal-error"),Kn(f,e.name),Kn(m,e.name),me(typeof k=="boolean",e,"internal-error"),me(typeof V=="boolean",e,"internal-error"),Kn(g,e.name),Kn(b,e.name),Kn(x,e.name),Kn(D,e.name),Kn(L,e.name),Kn(I,e.name);const _=new Cn({uid:C,auth:e,email:m,emailVerified:k,displayName:f,isAnonymous:V,photoURL:b,phoneNumber:g,tenantId:x,stsTokenManager:v,createdAt:L,lastLoginAt:I});return j&&Array.isArray(j)&&(_.providerData=j.map(E=>Object.assign({},E))),D&&(_._redirectEventId=D),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Rs;s.updateFromServerResponse(n);const i=new Cn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Pa(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];me(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?nv(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Rs;a.updateFromIdToken(r);const l=new Cn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ru(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=new Map;function Rn(t){Vn(t instanceof Function,"Expected a class definition");let e=vp.get(t);return e?(Vn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vp.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rv.type="NONE";const yp=rv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t,e,n){return`firebase:${t}:${e}:${n}`}class Ps{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ta(this.userKey,s.apiKey,i),this.fullPersistenceKey=ta("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ps(Rn(yp),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Rn(yp);const o=ta(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const f=Cn._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ps(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Ps(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(av(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cv(e))return"Blackberry";if(uv(e))return"Webos";if(iv(e))return"Safari";if((e.includes("chrome/")||ov(e))&&!e.includes("edge/"))return"Chrome";if(lv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sv(t=St()){return/firefox\//i.test(t)}function iv(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ov(t=St()){return/crios\//i.test(t)}function av(t=St()){return/iemobile/i.test(t)}function lv(t=St()){return/android/i.test(t)}function cv(t=St()){return/blackberry/i.test(t)}function uv(t=St()){return/webos/i.test(t)}function _d(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wb(t=St()){var e;return _d(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Eb(){return IE()&&document.documentMode===10}function dv(t=St()){return _d(t)||lv(t)||uv(t)||cv(t)||/windows phone/i.test(t)||av(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t,e=[]){let n;switch(t){case"Browser":n=wp(St());break;case"Worker":n=`${wp(St())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${js}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(t,e={}){return Cr(t,"GET","/v2/passwordPolicy",br(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=6;class Ib{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Sb,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ep(this),this.idTokenSubscription=new Ep(this),this.beforeStateQueue=new Tb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ps.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tv(this,{idToken:e}),r=await Cn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(an(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pa(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ib()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(xn(this));const n=e?ht(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(xn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(xn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ab(this),n=new Ib(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new so("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rn(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await Ps.create(this,[Rn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&nb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rs(t){return ht(t)}class Ep{constructor(e){this.auth=e,this.observer=null,this.addObserver=OE(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cb(t){vl=t}function fv(t){return vl.loadJS(t)}function Rb(){return vl.recaptchaEnterpriseScript}function Pb(){return vl.gapiScript}function xb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class kb{constructor(){this.enterprise=new Db}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Db{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ob="recaptcha-enterprise",pv="NO_RECAPTCHA";class Lb{constructor(e){this.type=Ob,this.auth=rs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{db(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new ub(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;gp(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(pv)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kb().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&gp(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Rb();l.length!==0&&(l+=a),fv(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Tp(t,e,n,r=!1,s=!1){const i=new Lb(t);let o;if(s)o=pv;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function su(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Tp(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Tp(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t,e){const n=Mu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ga(i,e??{}))return s;tn(s,"already-initialized")}return n.initialize({options:e})}function Nb(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Vb(t,e,n){const r=rs(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=mv(e),{host:o,port:a}=Fb(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Bb()}function mv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Fb(t){const e=mv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Ap(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Ap(o)}}}function Ap(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Bb(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bn("not implemented")}_getIdTokenResponse(e){return bn("not implemented")}_linkToIdToken(e,n){return bn("not implemented")}_getReauthenticationResolver(e){return bn("not implemented")}}async function Ub(t,e){return Cr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(t,e){return fo(t,"POST","/v1/accounts:signInWithPassword",br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t,e){return fo(t,"POST","/v1/accounts:signInWithEmailLink",br(t,e))}async function qb(t,e){return fo(t,"POST","/v1/accounts:signInWithEmailLink",br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends vd{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Yi(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yi(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return su(e,n,"signInWithPassword",$b);case"emailLink":return jb(e,{email:this._email,oobCode:this._password});default:tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return su(e,r,"signUpPassword",Ub);case"emailLink":return qb(e,{idToken:n,email:this._email,oobCode:this._password});default:tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(t,e){return fo(t,"POST","/v1/accounts:signInWithIdp",br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="http://localhost";class Qr extends vd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=fd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Qr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xs(e,n)}buildRequest(){const e={requestUri:zb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=io(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Gb(t){const e=pi(mi(t)).link,n=e?pi(mi(e)).deep_link_id:null,r=pi(mi(t)).deep_link_id;return(r?pi(mi(r)).link:null)||r||n||e||t}class yd{constructor(e){var n,r,s,i,o,a;const l=pi(mi(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Hb((s=l.mode)!==null&&s!==void 0?s:null);me(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Gb(e);try{return new yd(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.providerId=Ks.PROVIDER_ID}static credential(e,n){return Yi._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yd.parseLink(n);return me(r,"argument-error"),Yi._fromEmailAndCode(e,r.code,r.tenantId)}}Ks.PROVIDER_ID="password";Ks.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ks.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends gv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends po{constructor(){super("facebook.com")}static credential(e){return Qr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends po{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends po{constructor(){super("github.com")}static credential(e){return Qr._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends po{constructor(){super("twitter.com")}static credential(e,n){return Qr._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rr.credential(n,r)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(t,e){return fo(t,"POST","/v1/accounts:signUp",br(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Cn._fromIdTokenResponse(e,r,s),o=Sp(r);return new Yr({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Sp(r);return new Yr({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Sp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Bn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,xa.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new xa(e,n,r,s)}}function _v(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?xa._fromErrorAndOperation(t,i,e,r):i})}async function Kb(t,e,n=!1){const r=await Qi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(t,e,n=!1){const{auth:r}=t;if(an(r.app))return Promise.reject(xn(r));const s="reauthenticate";try{const i=await Qi(t,_v(r,s,e,t),n);me(i.idToken,r,"internal-error");const o=gd(i.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),Yr._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&tn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vv(t,e,n=!1){if(an(t.app))return Promise.reject(xn(t));const r="signIn",s=await _v(t,r,e),i=await Yr._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Yb(t,e){return vv(rs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yv(t){const e=rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Jb(t,e,n){if(an(t.app))return Promise.reject(xn(t));const r=rs(t),o=await su(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wb).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&yv(t),l}),a=await Yr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Xb(t,e,n){return an(t.app)?Promise.reject(xn(t)):Yb(ht(t),Ks.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yv(t),r})}function Zb(t,e,n,r){return ht(t).onIdTokenChanged(e,n,r)}function eC(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function tC(t,e,n,r){return ht(t).onAuthStateChanged(e,n,r)}function nC(t){return ht(t).signOut()}const ka="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ka,"1"),this.storage.removeItem(ka),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1e3,sC=10;class Ev extends wv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Eb()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,sC):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ev.type="LOCAL";const iC=Ev;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends wv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Tv.type="SESSION";const Av=Tv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new yl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await oC(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=wd("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return window}function lC(t){fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(){return typeof fn().WorkerGlobalScope<"u"&&typeof fn().importScripts=="function"}async function cC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dC(){return Sv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="firebaseLocalStorageDb",hC=1,Da="firebaseLocalStorage",bv="fbase_key";class mo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wl(t,e){return t.transaction([Da],e?"readwrite":"readonly").objectStore(Da)}function fC(){const t=indexedDB.deleteDatabase(Iv);return new mo(t).toPromise()}function iu(){const t=indexedDB.open(Iv,hC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Da,{keyPath:bv})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Da)?e(r):(r.close(),await fC(),e(await iu()))})})}async function Ip(t,e,n){const r=wl(t,!0).put({[bv]:e,value:n});return new mo(r).toPromise()}async function pC(t,e){const n=wl(t,!1).get(e),r=await new mo(n).toPromise();return r===void 0?null:r.value}function bp(t,e){const n=wl(t,!0).delete(e);return new mo(n).toPromise()}const mC=800,gC=3;class Cv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yl._getInstance(dC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cC(),!this.activeServiceWorker)return;this.sender=new aC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iu();return await Ip(e,ka,"1"),await bp(e,ka),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ip(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bp(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wl(s,!1).getAll();return new mo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Cv.type="LOCAL";const _C=Cv;new ho(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e){return e?Rn(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends vd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yC(t){return vv(t.auth,new Ed(t),t.bypassAuthState)}function wC(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),Qb(n,new Ed(t),t.bypassAuthState)}async function EC(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),Kb(n,new Ed(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yC;case"linkViaPopup":case"linkViaRedirect":return EC;case"reauthViaPopup":case"reauthViaRedirect":return wC;default:tn(this.auth,"internal-error")}}resolve(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new ho(2e3,1e4);class ys extends Rv{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ys.currentPopupAction&&ys.currentPopupAction.cancel(),ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Vn(this.filter.length===1,"Popup operations only handle one event");const e=wd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TC.get())};e()}}ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="pendingRedirect",na=new Map;class SC extends Rv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=na.get(this.auth._key());if(!e){try{const r=await IC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}na.set(this.auth._key(),e)}return this.bypassAuthState||na.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IC(t,e){const n=RC(e),r=CC(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function bC(t,e){na.set(t._key(),e)}function CC(t){return Rn(t._redirectPersistence)}function RC(t){return ta(AC,t.config.apiKey,t.name)}async function PC(t,e,n=!1){if(an(t.app))return Promise.reject(xn(t));const r=rs(t),s=vC(r,e),o=await new SC(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=10*60*1e3;class kC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Pv(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cp(e))}saveEventToCache(e){this.cachedEventUids.add(Cp(e)),this.lastProcessedEventTime=Date.now()}}function Cp(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Pv({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pv(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(t,e={}){return Cr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MC=/^https?/;async function NC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OC(t);for(const n of e)try{if(VC(n))return}catch{}tn(t,"unauthorized-domain")}function VC(t){const e=nu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!MC.test(n))return!1;if(LC.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new ho(3e4,6e4);function Rp(){const t=fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BC(t){return new Promise((e,n)=>{var r,s,i;function o(){Rp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rp(),n(hn(t,"network-request-failed"))},timeout:FC.get()})}if(!((s=(r=fn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=fn().gapi)===null||i===void 0)&&i.load)o();else{const a=xb("iframefcb");return fn()[a]=()=>{gapi.load?o():n(hn(t,"network-request-failed"))},fv(`${Pb()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ra=null,e})}let ra=null;function UC(t){return ra=ra||BC(t),ra}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new ho(5e3,15e3),jC="__/auth/iframe",qC="emulator/auth/iframe",zC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GC(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?md(e,qC):`https://${t.config.authDomain}/${jC}`,r={apiKey:e.apiKey,appName:t.name,v:js},s=HC.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${io(r).slice(1)}`}async function WC(t){const e=await UC(t),n=fn().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:GC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zC,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=hn(t,"network-request-failed"),a=fn().setTimeout(()=>{i(o)},$C.get());function l(){fn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QC=500,YC=600,JC="_blank",XC="http://localhost";class Pp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZC(t,e,n,r=QC,s=YC){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},KC),{width:r.toString(),height:s.toString(),top:i,left:o}),u=St().toLowerCase();n&&(a=ov(u)?JC:n),sv(u)&&(e=e||XC,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[g,b])=>`${m}${g}=${b},`,"");if(wb(u)&&a!=="_self")return eR(e||"",a),new Pp(null);const f=window.open(e||"",a,d);me(f,t,"popup-blocked");try{f.focus()}catch{}return new Pp(f)}function eR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="__/auth/handler",nR="emulator/auth/handler",rR=encodeURIComponent("fac");async function xp(t,e,n,r,s,i){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:js,eventId:s};if(e instanceof gv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof po){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${rR}=${encodeURIComponent(l)}`:"";return`${sR(t)}?${io(a).slice(1)}${u}`}function sR({config:t}){return t.emulator?md(t,nR):`https://${t.authDomain}/${tR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc="webStorageSupport";class iR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Av,this._completeRedirectFn=PC,this._overrideRedirectResult=bC}async _openPopup(e,n,r,s){var i;Vn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await xp(e,n,r,nu(),s);return ZC(e,o,wd())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await xp(e,n,r,nu(),s);return lC(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Vn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await WC(e),r=new kC(e);return n.register("authEvent",s=>(me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dc,{type:dc},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[dc];o!==void 0&&n(!!o),tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dv()||iv()||_d()}}const oR=iR;var kp="@firebase/auth",Dp="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cR(t){Ls(new Hr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hv(t)},u=new bb(r,s,i,l);return Nb(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ls(new Hr("auth-internal",e=>{const n=rs(e.getProvider("auth").getImmediate());return(r=>new aR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(kp,Dp,lR(t)),dr(kp,Dp,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=5*60,dR=Tg("authIdTokenMaxAge")||uR;let Op=null;const hR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dR)return;const s=n==null?void 0:n.token;Op!==s&&(Op=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function fR(t=bg()){const e=Mu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Mb(t,{popupRedirectResolver:oR,persistence:[_C,iC,Av]}),r=Tg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=hR(i.toString());eC(n,o,()=>o(n.currentUser)),Zb(n,a=>o(a))}}const s=wg("auth");return s&&Vb(n,`http://${s}`),n}function pR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Cb({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=hn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",pR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cR("Browser");const mR={apiKey:"AIzaSyDexpnAOQQAW04zYfdS1M9u1Ldol41Kbk0",authDomain:"proyecto-final-lasalle-grupo-8.firebaseapp.com",projectId:"proyecto-final-lasalle-grupo-8",storageBucket:"proyecto-final-lasalle-grupo-8.appspot.com",messagingSenderId:"229500446718",appId:"1:229500446718:web:2b0c436e4adb92682882af"},Jr=Ig(mR),El=fR(Jr),xv=Kr(Jr),gR=t=>{tC(El,t)},Ne=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},_R={props:{usuario:{type:String,required:!0},nombreSerie:{type:String,required:!0},comentario:{type:String,required:!0},rating:{type:Number,required:!0},srcImg:{type:String,required:!0}},data(){return{modificar:!1,comentarioModificado:"",usuarioModificado:"",ratingModificado:""}},methods:{modificarDatos(){console.log("Modificando datos"),this.modificar=!0,console.log(this.modificar)},async guardarDatos(){const t=Kr(Jr);console.log(this.nombreSerie);try{const e=Wr(t,"all-reviews-series");await W_(e,{firstName:this.nuevoNombre,lastName:this.nuevoApellido}),this.modificar=!1,console.log("Datos del usuario actualizados")}catch(e){console.error(`ERROR AQUÍ: ${e}`)}},async eliminarDatos(){const t=Kr(Jr);console.log(this.email);try{const e=Wr(t,"db-usuarios-3",this.email);await hd(e),console.log("Eliminar datos")}catch(e){console.error(`ERROR AL ELIMINAR: ${e}`)}}}},vR={key:0},yR={class:"bg-secondaryBackground rounded-xl pr-5 mt-5 flex flex-row h-44 w-[900px]"},wR={class:"overflow-hidden rounded-xl w-36 h-44 pr-4 flex-shrink-0"},ER=["src"],TR={class:"py-2 flex flex-col justify-between"},AR={class:"flex flex-row justify-between mb-2"},SR={class:"text-sm"},IR={class:"text-gray-300 text-sm"},bR={class:"font-poppinsThin text-sm"},CR={class:"text-sm mt-2"},RR={key:1},PR={class:"card"},xR=["placeholder"],kR=["placeholder"],DR={class:"botones-update"};function OR(t,e,n,r,s,i){return s.modificar==!1?(Z(),re("div",vR,[M("div",yR,[M("div",wR,[M("img",{src:n.srcImg,alt:"",class:"object-cover rounded-xl w-full h-full"},null,8,ER)]),M("div",TR,[M("div",AR,[M("div",SR,Ie(n.nombreSerie),1),M("div",IR,Ie(n.usuario),1)]),M("div",bR,Ie(n.comentario),1),M("div",CR,"Nota: "+Ie(n.rating),1)]),e[3]||(e[3]=M("div",{class:"botones-update"},null,-1))])])):(Z(),re("div",RR,[M("div",PR,[Dn(M("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>t.nuevoNombre=o),placeholder:t.nombre},null,8,xR),[[mr,t.nuevoNombre]]),Dn(M("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>t.nuevoApellido=o),placeholder:t.apellido},null,8,kR),[[mr,t.nuevoApellido]]),M("div",DR,[M("button",{onClick:e[2]||(e[2]=o=>i.guardarDatos()),type:"submit"},"Grabar")])])]))}const LR=Ne(_R,[["render",OR]]),kv="/assets/loading2-BuDpxNtO.gif",Dv=Kr(Jr);async function MR(){const t=uo(Dv,"all-reviews-series");return(await dd(t)).docs.map(r=>({id:r.id,...r.data()}))}const NR={props:{},data(){return{allReviews:[],formData:{nombre:"",apellido:"",email:""},submitted:!1}},components:{CardReview:LR},created(){setTimeout(()=>{MR().then(t=>{this.allReviews=t,console.log(this.allReviews)})},1e3)},methods:{async agregarDatosFirebase(){try{await K_(uo(Dv,"usuario"),this.formData),console.log("DATOS OK"),this.submitted=!1}catch(t){console.error("ERROR FEO:",t)}},handleSubmit(){this.submitted=!0,this.agregarDatosFirebase()}}},VR={key:0},FR={key:1,class:"bg-primaryBackground h-screen flex justify-center items-center"};function BR(t,e,n,r,s,i){const o=ge("CardReview");return Z(),re("div",{class:ja(s.allReviews.length>0?"lg:px-5":"lg:px-0")},[s.allReviews.length>0?(Z(),re("div",VR,[(Z(!0),re(st,null,Zr(s.allReviews,(a,l)=>(Z(),es(o,{key:l.id,usuario:a.userEmail,nombreSerie:a.serieName,comentario:a.comment,rating:a.rating,srcImg:a.srcImage},null,8,["usuario","nombreSerie","comentario","rating","srcImg"]))),128))])):(Z(),re("div",FR,e[0]||(e[0]=[M("img",{src:kv,width:"30",alt:""},null,-1)])))],2)}const UR=Ne(NR,[["render",BR]]),$R={props:{}},jR={class:""};function qR(t,e,n,r,s,i){return Z(),re("div",jR,e[0]||(e[0]=[Xm('<svg width="140" height="31" viewBox="0 0 140 31" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.0246983 14.4827C0.451386 6.4117 7.06534 0 15.1618 0C23.5339 0 30.3208 6.85564 30.3208 15.3125C30.3208 23.6025 23.7991 30.3538 15.6555 30.617C15.4916 30.6223 15.327 30.625 15.1618 30.625C12.4663 30.625 9.9352 29.9144 7.74197 28.6684L-5.40018e-05 30.6236L1.29052 21.498C0.462629 19.6065 0.00281963 17.5137 0.00281963 15.3125C0.00281963 15.0341 0.0101733 14.7574 0.0246983 14.4827Z" fill="#69C9C5"></path><path d="M120.167 30V3.81818H125.613V13.6619H125.779C126.018 13.1335 126.363 12.5966 126.815 12.0511C127.275 11.4972 127.872 11.0369 128.605 10.6705C129.346 10.2955 130.267 10.108 131.366 10.108C132.798 10.108 134.119 10.4829 135.329 11.2329C136.539 11.9744 137.507 13.0952 138.231 14.5952C138.955 16.0866 139.318 17.9574 139.318 20.2074C139.318 22.3977 138.964 24.2472 138.257 25.7557C137.558 27.2557 136.603 28.3935 135.393 29.169C134.191 29.9361 132.845 30.3196 131.353 30.3196C130.296 30.3196 129.397 30.1449 128.656 29.7955C127.923 29.446 127.322 29.0071 126.853 28.4787C126.384 27.9418 126.026 27.4006 125.779 26.8551H125.536V30H120.167ZM125.498 20.1818C125.498 21.3494 125.66 22.3679 125.984 23.2372C126.308 24.1065 126.776 24.7841 127.39 25.2699C128.004 25.7472 128.75 25.9858 129.627 25.9858C130.514 25.9858 131.264 25.7429 131.877 25.2571C132.491 24.7628 132.955 24.081 133.271 23.2116C133.595 22.3338 133.757 21.3239 133.757 20.1818C133.757 19.0483 133.599 18.0511 133.284 17.1903C132.968 16.3295 132.504 15.6562 131.89 15.1704C131.276 14.6847 130.522 14.4418 129.627 14.4418C128.741 14.4418 127.991 14.6761 127.377 15.1449C126.772 15.6136 126.308 16.2784 125.984 17.1392C125.66 18 125.498 19.0142 125.498 20.1818Z" fill="#69C9C5"></path><path d="M108.381 30.3708C107.129 30.3708 106.012 30.1534 105.032 29.7188C104.052 29.2756 103.276 28.6236 102.705 27.7628C102.143 26.8935 101.862 25.8111 101.862 24.5156C101.862 23.4247 102.062 22.5085 102.462 21.7671C102.863 21.0256 103.408 20.429 104.099 19.9773C104.789 19.5256 105.573 19.1847 106.451 18.9546C107.337 18.7244 108.266 18.5625 109.238 18.4688C110.38 18.3494 111.3 18.2387 111.999 18.1364C112.698 18.0256 113.205 17.8637 113.521 17.6506C113.836 17.4375 113.994 17.1222 113.994 16.7046V16.6279C113.994 15.8182 113.738 15.1918 113.227 14.7486C112.724 14.3054 112.008 14.0838 111.079 14.0838C110.099 14.0838 109.319 14.3012 108.739 14.7358C108.16 15.1619 107.776 15.6989 107.589 16.3466L102.552 15.9375C102.808 14.7443 103.31 13.7131 104.06 12.8438C104.81 11.9659 105.778 11.2926 106.962 10.8239C108.156 10.3466 109.536 10.108 111.104 10.108C112.195 10.108 113.239 10.2358 114.237 10.4915C115.242 10.7472 116.133 11.1435 116.908 11.6804C117.693 12.2173 118.31 12.9077 118.762 13.7514C119.214 14.5867 119.44 15.5881 119.44 16.7557V30H114.275V27.277H114.122C113.806 27.8906 113.384 28.4318 112.856 28.9006C112.327 29.3608 111.693 29.723 110.951 29.9872C110.21 30.2429 109.353 30.3708 108.381 30.3708ZM109.941 26.6122C110.742 26.6122 111.45 26.4546 112.063 26.1392C112.677 25.8154 113.158 25.3807 113.508 24.8352C113.857 24.2898 114.032 23.6719 114.032 22.9815V20.8977C113.862 21.0085 113.627 21.1108 113.329 21.2046C113.039 21.2898 112.711 21.3708 112.345 21.4475C111.978 21.5156 111.612 21.5796 111.245 21.6392C110.879 21.6904 110.546 21.7372 110.248 21.7798C109.609 21.8736 109.05 22.0227 108.573 22.2273C108.096 22.4318 107.725 22.7088 107.461 23.0583C107.197 23.3992 107.065 23.8253 107.065 24.3367C107.065 25.0781 107.333 25.6449 107.87 26.0369C108.416 26.4205 109.106 26.6122 109.941 26.6122Z" fill="#69C9C5"></path><path d="M102.019 3.81818V30H96.5734V3.81818H102.019Z" fill="#69C9C5"></path><path d="M96.2966 15.9631L91.3108 16.2699C91.2256 15.8438 91.0424 15.4602 90.7611 15.1193C90.4799 14.7699 90.1091 14.4929 89.6489 14.2884C89.1972 14.0753 88.656 13.9688 88.0253 13.9688C87.1816 13.9688 86.4699 14.1477 85.8904 14.5057C85.3108 14.8551 85.021 15.3239 85.021 15.9119C85.021 16.3807 85.2085 16.777 85.5835 17.1009C85.9585 17.4247 86.602 17.6847 87.5139 17.8807L91.0679 18.5966C92.977 18.9887 94.4003 19.6193 95.3378 20.4887C96.2753 21.358 96.7441 22.5 96.7441 23.9148C96.7441 25.2017 96.3648 26.331 95.6063 27.3026C94.8563 28.2742 93.825 29.0327 92.5125 29.5781C91.2085 30.1151 89.7043 30.3835 87.9997 30.3835C85.4003 30.3835 83.3293 29.8423 81.7867 28.76C80.2526 27.6691 79.3534 26.1861 79.0892 24.3111L84.4458 24.0298C84.6077 24.8225 84.9997 25.4276 85.6219 25.8452C86.2441 26.2543 87.0409 26.4588 88.0125 26.4588C88.9671 26.4588 89.7341 26.2756 90.3137 25.9091C90.9017 25.5341 91.2 25.0526 91.2085 24.4645C91.2 23.9702 90.9912 23.5654 90.5821 23.25C90.173 22.9262 89.5424 22.679 88.6901 22.5085L85.2895 21.831C83.3719 21.4475 81.9443 20.7827 81.0068 19.8367C80.0779 18.8906 79.6134 17.6847 79.6134 16.2188C79.6134 14.9574 79.9543 13.8708 80.6361 12.9588C81.3264 12.0469 82.2938 11.3438 83.5381 10.8494C84.7909 10.3551 86.2568 10.108 87.9358 10.108C90.4159 10.108 92.3676 10.6321 93.7909 11.6804C95.2228 12.7287 96.058 14.1563 96.2966 15.9631Z" fill="white"></path><path d="M70.9918 30.3835C68.972 30.3835 67.2333 29.9744 65.7759 29.1563C64.3271 28.3296 63.2106 27.1619 62.4265 25.6534C61.6424 24.1364 61.2504 22.3423 61.2504 20.2713C61.2504 18.2514 61.6424 16.4787 62.4265 14.9531C63.2106 13.4276 64.3143 12.2387 65.7376 11.3864C67.1694 10.5341 68.8484 10.108 70.7745 10.108C72.07 10.108 73.2759 10.3168 74.3924 10.7344C75.5174 11.1435 76.4975 11.7614 77.3328 12.5881C78.1765 13.4148 78.8328 14.4546 79.3015 15.7074C79.7703 16.9517 80.0046 18.4091 80.0046 20.0796V21.5753H63.4237V18.2003H74.8782C74.8782 17.4162 74.7078 16.7216 74.3668 16.1165C74.0259 15.5114 73.5529 15.0384 72.9478 14.6975C72.3512 14.348 71.6566 14.1733 70.864 14.1733C70.0373 14.1733 69.3043 14.3651 68.6651 14.7486C68.0345 15.1236 67.5401 15.6307 67.1822 16.2699C66.8242 16.9006 66.641 17.6037 66.6325 18.3793V21.5881C66.6325 22.5597 66.8114 23.3992 67.1694 24.1065C67.5359 24.8139 68.0515 25.3594 68.7163 25.7429C69.3811 26.1264 70.1694 26.3182 71.0813 26.3182C71.6864 26.3182 72.2404 26.233 72.7433 26.0625C73.2461 25.8921 73.6765 25.6364 74.0345 25.2955C74.3924 24.9546 74.6651 24.5369 74.8526 24.0426L79.8896 24.375C79.6339 25.5852 79.1097 26.6421 78.3171 27.5455C77.533 28.4404 76.5188 29.1392 75.2745 29.6421C74.0387 30.1364 72.6112 30.3835 70.9918 30.3835Z" fill="white"></path><path d="M55.8343 30V10.3636H61.2803V30H55.8343ZM58.5701 7.83239C57.7604 7.83239 57.0658 7.56393 56.4863 7.02699C55.9153 6.48154 55.6298 5.82955 55.6298 5.07103C55.6298 4.32103 55.9153 3.67756 56.4863 3.14063C57.0658 2.59518 57.7604 2.32245 58.5701 2.32245C59.3798 2.32245 60.0701 2.59518 60.6411 3.14063C61.2207 3.67756 61.5104 4.32103 61.5104 5.07103C61.5104 5.82955 61.2207 6.48154 60.6411 7.02699C60.0701 7.56393 59.3798 7.83239 58.5701 7.83239Z" fill="white"></path><path d="M44.7039 30V10.3636H49.9837V13.7898H50.1882C50.5462 12.571 51.147 11.6506 51.9908 11.0284C52.8345 10.3977 53.8061 10.0824 54.9056 10.0824C55.1783 10.0824 55.4723 10.0994 55.7877 10.1335C56.103 10.1676 56.38 10.2145 56.6186 10.2742V15.1065C56.363 15.0298 56.0093 14.9617 55.5576 14.902C55.1058 14.8423 54.6925 14.8125 54.3175 14.8125C53.5164 14.8125 52.8005 14.9872 52.1698 15.3367C51.5476 15.6776 51.0533 16.1548 50.6868 16.7685C50.3289 17.3821 50.1499 18.0895 50.1499 18.8906V30H44.7039Z" fill="white"></path><path d="M35.7371 30.3835C33.7172 30.3835 31.9786 29.9744 30.5212 29.1563C29.0723 28.3296 27.9558 27.1619 27.1717 25.6534C26.3877 24.1364 25.9956 22.3423 25.9956 20.2713C25.9956 18.2514 26.3877 16.4787 27.1717 14.9531C27.9558 13.4276 29.0595 12.2387 30.4828 11.3864C31.9146 10.5341 33.5936 10.108 35.5198 10.108C36.8152 10.108 38.0212 10.3168 39.1377 10.7344C40.2627 11.1435 41.2428 11.7614 42.078 12.5881C42.9217 13.4148 43.578 14.4546 44.0467 15.7074C44.5155 16.9517 44.7499 18.4091 44.7499 20.0796V21.5753H28.1689V18.2003H39.6234C39.6234 17.4162 39.453 16.7216 39.1121 16.1165C38.7712 15.5114 38.2982 15.0384 37.693 14.6975C37.0965 14.348 36.4019 14.1733 35.6092 14.1733C34.7825 14.1733 34.0496 14.3651 33.4104 14.7486C32.7797 15.1236 32.2854 15.6307 31.9274 16.2699C31.5695 16.9006 31.3862 17.6037 31.3777 18.3793V21.5881C31.3777 22.5597 31.5567 23.3992 31.9146 24.1065C32.2811 24.8139 32.7967 25.3594 33.4615 25.7429C34.1263 26.1264 34.9146 26.3182 35.8266 26.3182C36.4317 26.3182 36.9857 26.233 37.4885 26.0625C37.9913 25.8921 38.4217 25.6364 38.7797 25.2955C39.1377 24.9546 39.4104 24.5369 39.5979 24.0426L44.6348 24.375C44.3791 25.5852 43.855 26.6421 43.0624 27.5455C42.2783 28.4404 41.2641 29.1392 40.0198 29.6421C38.784 30.1364 37.3564 30.3835 35.7371 30.3835Z" fill="white"></path><path d="M26.5115 15.9631L21.5257 16.2699C21.4404 15.8438 21.2572 15.4602 20.976 15.1193C20.6947 14.7699 20.324 14.4929 19.8637 14.2884C19.412 14.0753 18.8708 13.9688 18.2402 13.9688C17.3964 13.9688 16.6848 14.1477 16.1052 14.5057C15.5257 14.8551 15.2359 15.3239 15.2359 15.9119C15.2359 16.3807 15.4234 16.777 15.7984 17.1009C16.1734 17.4247 16.8169 17.6847 17.7288 17.8807L21.2828 18.5966C23.1919 18.9887 24.6152 19.6193 25.5527 20.4887C26.4902 21.358 26.9589 22.5 26.9589 23.9148C26.9589 25.2017 26.5796 26.331 25.8211 27.3026C25.0711 28.2742 24.0399 29.0327 22.7274 29.5781C21.4234 30.1151 19.9191 30.3835 18.2146 30.3835C15.6152 30.3835 13.5441 29.8423 12.0015 28.76C10.4674 27.6691 9.56828 26.1861 9.30408 24.3111L14.6606 24.0298C14.8225 24.8225 15.2146 25.4276 15.8367 25.8452C16.4589 26.2543 17.2558 26.4588 18.2274 26.4588C19.1819 26.4588 19.949 26.2756 20.5285 25.9091C21.1166 25.5341 21.4149 25.0526 21.4234 24.4645C21.4149 23.9702 21.2061 23.5654 20.797 23.25C20.3879 22.9262 19.7572 22.679 18.9049 22.5085L15.5044 21.831C13.5867 21.4475 12.1592 20.7827 11.2217 19.8367C10.2927 18.8906 9.82822 17.6847 9.82822 16.2188C9.82822 14.9574 10.1691 13.8708 10.851 12.9588C11.5413 12.0469 12.5086 11.3438 13.7529 10.8494C15.0058 10.3551 16.4717 10.108 18.1507 10.108C20.6308 10.108 22.5825 10.6321 24.0058 11.6804C25.4376 12.7287 26.2728 14.1563 26.5115 15.9631Z" fill="white"></path></svg>',1)]))}const ss=Ne($R,[["render",qR]]),zR={data(){return{serie:{id:12,name:"The Wire",desc:"David Simon, creador y co-guionista de la mini- serie de HBO tres veces ganadora del premio Emmy The Corner, este sencillo y extremadamente realista drama sigue una caótica y controvertida investigación de drogas ...",srcUrl:"https://static.hbo.com/content/dam/hbodata/series/the-wire/ka/the-wire-ka-1920.jpg"}}},props:{},components:{LogoSeriesLab:ss}},HR={class:"lg:px-20 px-5 lg:h-24 h-24 bg-gradient-to-r from-backgroundColor to-transparent pt-6 flex flex-col"};function GR(t,e,n,r,s,i){const o=ge("LogoSeriesLab");return Z(),re("div",{style:Xi({backgroundImage:`url(${s.serie.srcUrl})`}),class:"w-full bg-cover bg-center bg-no-repeat mb-0 hidden lg:block"},[M("div",HR,[ae(o),e[0]||(e[0]=M("div",{class:"py-5 lg:flex flex-row justify-between gap-5 mt-5 hidden"},[M("div",{class:"flex flex-row gap-2"})],-1))])],4)}const Ov=Ne(zR,[["render",GR]]),WR={props:{}},KR={src:kv,width:"30",alt:""};function QR(t,e,n,r,s,i){return Z(),re("img",KR)}const Tl=Ne(WR,[["render",QR]]);function Lp(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Td(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:Lp(e[n])&&Lp(t[n])&&Object.keys(e[n]).length>0&&Td(t[n],e[n])})}const Lv={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Qs(){const t=typeof document<"u"?document:{};return Td(t,Lv),t}const YR={document:Lv,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function zt(){const t=typeof window<"u"?window:{};return Td(t,YR),t}function JR(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function XR(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function ou(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Oa(){return Date.now()}function ZR(t){const e=zt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function eP(t,e){e===void 0&&(e="x");const n=zt();let r,s,i;const o=ZR(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function $o(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function tP(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Bt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!tP(r)){const s=Object.keys(Object(r)).filter(i=>e.indexOf(i)<0);for(let i=0,o=s.length;i<o;i+=1){const a=s[i],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&($o(t[a])&&$o(r[a])?r[a].__swiper__?t[a]=r[a]:Bt(t[a],r[a]):!$o(t[a])&&$o(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:Bt(t[a],r[a])):t[a]=r[a])}}}return t}function jo(t,e,n){t.style.setProperty(e,n)}function Mv(t){let{swiper:e,targetPosition:n,side:r}=t;const s=zt(),i=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const u=n>i?"next":"prev",d=(m,g)=>u==="next"&&m>=g||u==="prev"&&m<=g,f=()=>{a=new Date().getTime(),o===null&&(o=a);const m=Math.max(Math.min((a-o)/l,1),0),g=.5-Math.cos(m*Math.PI)/2;let b=i+g*(n-i);if(d(b,n)&&(b=n),e.wrapperEl.scrollTo({[r]:b}),d(b,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:b})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(f)};f()}function ln(t,e){e===void 0&&(e="");const n=[...t.children];return t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(r=>r.matches(e)):n}function nP(t,e){const n=e.contains(t);return!n&&e instanceof HTMLSlotElement?[...e.assignedElements()].includes(t):n}function La(t){try{console.warn(t);return}catch{}}function Ma(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:JR(e)),n}function rP(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function sP(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function ir(t,e){return zt().getComputedStyle(t,null).getPropertyValue(e)}function Na(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function Nv(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function au(t,e,n){const r=zt();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function En(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let hc;function iP(){const t=zt(),e=Qs();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Vv(){return hc||(hc=iP()),hc}let fc;function oP(t){let{userAgent:e}=t===void 0?{}:t;const n=Vv(),r=zt(),s=r.navigator.platform,i=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,u=i.match(/(Android);?[\s\/]+([\d.]+)?/);let d=i.match(/(iPad).*OS\s([\d_]+)/);const f=i.match(/(iPod)(.*OS\s([\d_]+))?/),m=!d&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=s==="Win32";let b=s==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&b&&n.touch&&x.indexOf(`${a}x${l}`)>=0&&(d=i.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),b=!1),u&&!g&&(o.os="android",o.android=!0),(d||m||f)&&(o.os="ios",o.ios=!0),o}function Fv(t){return t===void 0&&(t={}),fc||(fc=oP(t)),fc}let pc;function aP(){const t=zt(),e=Fv();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,u]=a.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=l<16||l===16&&u<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=r(),o=i||s&&e.ios;return{isSafari:n||i,needPerspectiveFix:n,need3dFix:o,isWebView:s}}function lP(){return pc||(pc=aP()),pc}function cP(t){let{swiper:e,on:n,emit:r}=t;const s=zt();let i=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(f=>{o=s.requestAnimationFrame(()=>{const{width:m,height:g}=e;let b=m,x=g;f.forEach(D=>{let{contentBoxSize:L,contentRect:I,target:C}=D;C&&C!==e.el||(b=I?I.width:(L[0]||L).inlineSize,x=I?I.height:(L[0]||L).blockSize)}),(b!==m||x!==g)&&a()})}),i.observe(e.el))},u=()=>{o&&s.cancelAnimationFrame(o),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},d=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){l();return}s.addEventListener("resize",a),s.addEventListener("orientationchange",d)}),n("destroy",()=>{u(),s.removeEventListener("resize",a),s.removeEventListener("orientationchange",d)})}function uP(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i=[],o=zt(),a=function(d,f){f===void 0&&(f={});const m=o.MutationObserver||o.WebkitMutationObserver,g=new m(b=>{if(e.__preventObserver__)return;if(b.length===1){s("observerUpdate",b[0]);return}const x=function(){s("observerUpdate",b[0])};o.requestAnimationFrame?o.requestAnimationFrame(x):o.setTimeout(x,0)});g.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),i.push(g)},l=()=>{if(e.params.observer){if(e.params.observeParents){const d=Nv(e.hostEl);for(let f=0;f<d.length;f+=1)a(d[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},u=()=>{i.forEach(d=>{d.disconnect()}),i.splice(0,i.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",u)}var dP={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];e.apply(r,o)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],n=i.slice(1,i.length),r=t):(e=i[0].events,n=i[0].data,r=i[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(r,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(u=>{u.apply(r,n)})}),t}};function hP(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(ir(r,"padding-left")||0,10)-parseInt(ir(r,"padding-right")||0,10),n=n-parseInt(ir(r,"padding-top")||0,10)-parseInt(ir(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function fP(){const t=this;function e(E,T){return parseFloat(E.getPropertyValue(t.getDirectionLabel(T))||0)}const n=t.params,{wrapperEl:r,slidesEl:s,size:i,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,u=l?t.virtual.slides.length:t.slides.length,d=ln(s,`.${t.params.slideClass}, swiper-slide`),f=l?t.virtual.slides.length:d.length;let m=[];const g=[],b=[];let x=n.slidesOffsetBefore;typeof x=="function"&&(x=n.slidesOffsetBefore.call(t));let D=n.slidesOffsetAfter;typeof D=="function"&&(D=n.slidesOffsetAfter.call(t));const L=t.snapGrid.length,I=t.slidesGrid.length;let C=n.spaceBetween,k=-x,V=0,j=0;if(typeof i>"u")return;typeof C=="string"&&C.indexOf("%")>=0?C=parseFloat(C.replace("%",""))/100*i:typeof C=="string"&&(C=parseFloat(C)),t.virtualSize=-C,d.forEach(E=>{o?E.style.marginLeft="":E.style.marginRight="",E.style.marginBottom="",E.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(jo(r,"--swiper-centered-offset-before",""),jo(r,"--swiper-centered-offset-after",""));const R=n.grid&&n.grid.rows>1&&t.grid;R?t.grid.initSlides(d):t.grid&&t.grid.unsetSlides();let v;const _=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(E=>typeof n.breakpoints[E].slidesPerView<"u").length>0;for(let E=0;E<f;E+=1){v=0;let T;if(d[E]&&(T=d[E]),R&&t.grid.updateSlide(E,T,d),!(d[E]&&ir(T,"display")==="none")){if(n.slidesPerView==="auto"){_&&(d[E].style[t.getDirectionLabel("width")]="");const A=getComputedStyle(T),w=T.style.transform,ee=T.style.webkitTransform;if(w&&(T.style.transform="none"),ee&&(T.style.webkitTransform="none"),n.roundLengths)v=t.isHorizontal()?au(T,"width"):au(T,"height");else{const he=e(A,"width"),ve=e(A,"padding-left"),pe=e(A,"padding-right"),Te=e(A,"margin-left"),pt=e(A,"margin-right"),kt=A.getPropertyValue("box-sizing");if(kt&&kt==="border-box")v=he+Te+pt;else{const{clientWidth:Dt,offsetWidth:je}=T;v=he+ve+pe+Te+pt+(je-Dt)}}w&&(T.style.transform=w),ee&&(T.style.webkitTransform=ee),n.roundLengths&&(v=Math.floor(v))}else v=(i-(n.slidesPerView-1)*C)/n.slidesPerView,n.roundLengths&&(v=Math.floor(v)),d[E]&&(d[E].style[t.getDirectionLabel("width")]=`${v}px`);d[E]&&(d[E].swiperSlideSize=v),b.push(v),n.centeredSlides?(k=k+v/2+V/2+C,V===0&&E!==0&&(k=k-i/2-C),E===0&&(k=k-i/2-C),Math.abs(k)<1/1e3&&(k=0),n.roundLengths&&(k=Math.floor(k)),j%n.slidesPerGroup===0&&m.push(k),g.push(k)):(n.roundLengths&&(k=Math.floor(k)),(j-Math.min(t.params.slidesPerGroupSkip,j))%t.params.slidesPerGroup===0&&m.push(k),g.push(k),k=k+v+C),t.virtualSize+=v+C,V=v,j+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+D,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+C}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+C}px`),R&&t.grid.updateWrapperSize(v,m),!n.centeredSlides){const E=[];for(let T=0;T<m.length;T+=1){let A=m[T];n.roundLengths&&(A=Math.floor(A)),m[T]<=t.virtualSize-i&&E.push(A)}m=E,Math.floor(t.virtualSize-i)-Math.floor(m[m.length-1])>1&&m.push(t.virtualSize-i)}if(l&&n.loop){const E=b[0]+C;if(n.slidesPerGroup>1){const T=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),A=E*n.slidesPerGroup;for(let w=0;w<T;w+=1)m.push(m[m.length-1]+A)}for(let T=0;T<t.virtual.slidesBefore+t.virtual.slidesAfter;T+=1)n.slidesPerGroup===1&&m.push(m[m.length-1]+E),g.push(g[g.length-1]+E),t.virtualSize+=E}if(m.length===0&&(m=[0]),C!==0){const E=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");d.filter((T,A)=>!n.cssMode||n.loop?!0:A!==d.length-1).forEach(T=>{T.style[E]=`${C}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let E=0;b.forEach(A=>{E+=A+(C||0)}),E-=C;const T=E>i?E-i:0;m=m.map(A=>A<=0?-x:A>T?T+D:A)}if(n.centerInsufficientSlides){let E=0;b.forEach(A=>{E+=A+(C||0)}),E-=C;const T=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(E+T<i){const A=(i-E-T)/2;m.forEach((w,ee)=>{m[ee]=w-A}),g.forEach((w,ee)=>{g[ee]=w+A})}}if(Object.assign(t,{slides:d,snapGrid:m,slidesGrid:g,slidesSizesGrid:b}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){jo(r,"--swiper-centered-offset-before",`${-m[0]}px`),jo(r,"--swiper-centered-offset-after",`${t.size/2-b[b.length-1]/2}px`);const E=-t.snapGrid[0],T=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(A=>A+E),t.slidesGrid=t.slidesGrid.map(A=>A+T)}if(f!==u&&t.emit("slidesLengthChange"),m.length!==L&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==I&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const E=`${n.containerModifierClass}backface-hidden`,T=t.el.classList.contains(E);f<=n.maxBackfaceHiddenSlides?T||t.el.classList.add(E):T&&t.el.classList.remove(E)}}function pP(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const a=e.activeIndex+i;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;s=a>s?a:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function mP(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const Mp=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function gP(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const u=r[l];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const f=(o+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+a),m=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+a),g=-(o-d),b=g+e.slidesSizesGrid[l],x=g>=0&&g<=e.size-e.slidesSizesGrid[l],D=g>=0&&g<e.size-1||b>1&&b<=e.size||g<=0&&b>=e.size;D&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(l)),Mp(u,D,n.slideVisibleClass),Mp(u,x,n.slideFullyVisibleClass),u.progress=s?-f:f,u.originalProgress=s?-m:m}}function _P(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:a}=e;const l=i,u=o;if(r===0)s=0,i=!0,o=!0;else{s=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;i=d||s<=0,o=f||s>=1,d&&(s=0),f&&(s=1)}if(n.loop){const d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),m=e.slidesGrid[d],g=e.slidesGrid[f],b=e.slidesGrid[e.slidesGrid.length-1],x=Math.abs(t);x>=m?a=(x-m)/b:a=(x+b-g)/b,a>1&&(a-=1)}Object.assign(e,{progress:s,progressLoop:a,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!l&&e.emit("reachBeginning toEdge"),o&&!u&&e.emit("reachEnd toEdge"),(l&&!i||u&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}const mc=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function vP(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:s}=t,i=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=f=>ln(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let l,u,d;if(i)if(n.loop){let f=s-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${f}"]`)}else l=a(`[data-swiper-slide-index="${s}"]`);else o?(l=e.filter(f=>f.column===s)[0],d=e.filter(f=>f.column===s+1)[0],u=e.filter(f=>f.column===s-1)[0]):l=e[s];l&&(o||(d=sP(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),u=rP(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(f=>{mc(f,f===l,n.slideActiveClass),mc(f,f===d,n.slideNextClass),mc(f,f===u,n.slidePrevClass)}),t.emitSlidesClasses()}const sa=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let s=r.querySelector(`.${t.params.lazyPreloaderClass}`);!s&&t.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},gc=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},lu=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),s=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=s,a=[o-e];a.push(...Array.from({length:e}).map((l,u)=>o+r+u)),t.slides.forEach((l,u)=>{a.includes(l.column)&&gc(t,u)});return}const i=s+r-1;if(t.params.rewind||t.params.loop)for(let o=s-e;o<=i+e;o+=1){const a=(o%n+n)%n;(a<s||a>i)&&gc(t,a)}else for(let o=Math.max(s-e,0);o<=Math.min(i+e,n-1);o+=1)o!==s&&(o>i||o<s)&&gc(t,o)};function yP(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?r>=e[i]&&r<e[i+1]-(e[i+1]-e[i])/2?s=i:r>=e[i]&&r<e[i+1]&&(s=i+1):r>=e[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function wP(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:o,snapIndex:a}=e;let l=t,u;const d=g=>{let b=g-e.virtual.slidesBefore;return b<0&&(b=e.virtual.slides.length+b),b>=e.virtual.slides.length&&(b-=e.virtual.slides.length),b};if(typeof l>"u"&&(l=yP(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const g=Math.min(s.slidesPerGroupSkip,l);u=g+Math.floor((l-g)/s.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),l===i&&!e.params.loop){u!==a&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(l===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(l);return}const f=e.grid&&s.grid&&s.grid.rows>1;let m;if(e.virtual&&s.virtual.enabled&&s.loop)m=d(l);else if(f){const g=e.slides.filter(x=>x.column===l)[0];let b=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(b)&&(b=Math.max(e.slides.indexOf(g),0)),m=Math.floor(b/s.grid.rows)}else if(e.slides[l]){const g=e.slides[l].getAttribute("data-swiper-slide-index");g?m=parseInt(g,10):m=l}else m=l;Object.assign(e,{previousSnapIndex:a,snapIndex:u,previousRealIndex:o,realIndex:m,previousIndex:i,activeIndex:l}),e.initialized&&lu(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==m&&e.emit("realIndexChange"),e.emit("slideChange"))}function EP(t,e){const n=this,r=n.params;let s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!s&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(s=a)});let i=!1,o;if(s){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===s){i=!0,o=a;break}}if(s&&i)n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var TP={updateSize:hP,updateSlides:fP,updateAutoHeight:pP,updateSlidesOffset:mP,updateSlidesProgress:gP,updateProgress:_P,updateSlidesClasses:vP,updateActiveIndex:wP,updateClickedSlide:EP};function AP(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:s,wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=eP(i,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function SP(t,e){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:o}=n;let a=0,l=0;const u=0;n.isHorizontal()?a=r?-t:t:l=t,s.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:s.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${a}px, ${l}px, ${u}px)`);let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(t-n.minTranslate())/f,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function IP(){return-this.snapGrid[0]}function bP(){return-this.snapGrid[this.snapGrid.length-1]}function CP(t,e,n,r,s){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const l=i.minTranslate(),u=i.maxTranslate();let d;if(r&&t>l?d=l:r&&t<u?d=u:d=t,i.updateProgress(d),o.cssMode){const f=i.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return Mv({swiper:i,targetPosition:-d,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(m){!i||i.destroyed||m.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var RP={getTranslate:AP,setTranslate:SP,minTranslate:IP,maxTranslate:bP,translateTo:CP};function PP(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Bv(t){let{swiper:e,runCallbacks:n,direction:r,step:s}=t;const{activeIndex:i,previousIndex:o}=e;let a=r;if(a||(i>o?a="next":i<o?a="prev":a="reset"),e.emit(`transition${s}`),n&&i!==o){if(a==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),a==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function xP(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Bv({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function kP(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),Bv({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var DP={setTransition:PP,transitionStart:xP,transitionEnd:kP};function OP(t,e,n,r,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:u,previousIndex:d,activeIndex:f,rtlTranslate:m,wrapperEl:g,enabled:b}=i;if(!b&&!r&&!s||i.destroyed||i.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const x=Math.min(i.params.slidesPerGroupSkip,o);let D=x+Math.floor((o-x)/i.params.slidesPerGroup);D>=l.length&&(D=l.length-1);const L=-l[D];if(a.normalizeSlideIndex)for(let V=0;V<u.length;V+=1){const j=-Math.floor(L*100),R=Math.floor(u[V]*100),v=Math.floor(u[V+1]*100);typeof u[V+1]<"u"?j>=R&&j<v-(v-R)/2?o=V:j>=R&&j<v&&(o=V+1):j>=R&&(o=V)}if(i.initialized&&o!==f&&(!i.allowSlideNext&&(m?L>i.translate&&L>i.minTranslate():L<i.translate&&L<i.minTranslate())||!i.allowSlidePrev&&L>i.translate&&L>i.maxTranslate()&&(f||0)!==o))return!1;o!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(L);let I;o>f?I="next":o<f?I="prev":I="reset";const C=i.virtual&&i.params.virtual.enabled;if(!(C&&s)&&(m&&-L===i.translate||!m&&L===i.translate))return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(L),I!=="reset"&&(i.transitionStart(n,I),i.transitionEnd(n,I)),!1;if(a.cssMode){const V=i.isHorizontal(),j=m?L:-L;if(e===0)C&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),C&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[V?"scrollLeft":"scrollTop"]=j})):g[V?"scrollLeft":"scrollTop"]=j,C&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return Mv({swiper:i,targetPosition:j,side:V?"left":"top"}),!0;g.scrollTo({[V?"left":"top"]:j,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(L),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,I),e===0?i.transitionEnd(n,I):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(j){!i||i.destroyed||j.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,I))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function LP(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=t;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let a;if(i){const m=o*s.params.grid.rows;a=s.slides.filter(g=>g.getAttribute("data-swiper-slide-index")*1===m)[0].column}else a=s.getSlideIndexByData(o);const l=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:u}=s.params;let d=s.params.slidesPerView;d==="auto"?d=s.slidesPerViewDynamic():(d=Math.ceil(parseFloat(s.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let f=l-a<d;if(u&&(f=f||a<Math.ceil(d/2)),r&&u&&s.params.slidesPerView!=="auto"&&!i&&(f=!1),f){const m=u?a<s.activeIndex?"prev":"next":a-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:m,slideTo:!0,activeSlideIndex:m==="next"?a+1:a-l+1,slideRealIndex:m==="next"?s.realIndex:void 0})}if(i){const m=o*s.params.grid.rows;o=s.slides.filter(g=>g.getAttribute("data-swiper-slide-index")*1===m)[0].column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,n,r)}),s}function MP(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:s,params:i,animating:o}=r;if(!s||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<i.slidesPerGroupSkip?1:a,u=r.virtual&&i.virtual.enabled;if(i.loop){if(o&&!u&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function NP(t,e,n){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:a,enabled:l,animating:u}=r;if(!l||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const d=r.virtual&&s.virtual.enabled;if(s.loop){if(u&&!d&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=a?r.translate:-r.translate;function m(L){return L<0?-Math.floor(Math.abs(L)):Math.floor(L)}const g=m(f),b=i.map(L=>m(L));let x=i[b.indexOf(g)-1];if(typeof x>"u"&&s.cssMode){let L;i.forEach((I,C)=>{g>=I&&(L=C)}),typeof L<"u"&&(x=i[L>0?L-1:L])}let D=0;if(typeof x<"u"&&(D=o.indexOf(x),D<0&&(D=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(D=D-r.slidesPerViewDynamic("previous",!0)+1,D=Math.max(D,0))),s.rewind&&r.isBeginning){const L=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(L,t,e,n)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(D,t,e,n)}),!0;return r.slideTo(D,t,e,n)}function VP(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function FP(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const u=s.snapGrid[a],d=s.snapGrid[a+1];l-u>(d-u)*r&&(i+=s.params.slidesPerGroup)}else{const u=s.snapGrid[a-1],d=s.snapGrid[a];l-u<=(d-u)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function BP(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=t.getSlideIndex(ln(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),ou(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=t.getSlideIndex(ln(n,`${o}[data-swiper-slide-index="${i}"]`)[0]),ou(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}var UP={slideTo:OP,slideToLoop:LP,slideNext:MP,slidePrev:NP,slideReset:VP,slideToClosest:FP,slideToClickedSlide:BP};function $P(t){const e=this,{params:n,slidesEl:r}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{ln(r,`.${n.slideClass}, swiper-slide`).forEach((f,m)=>{f.setAttribute("data-swiper-slide-index",m)})},i=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(i?n.grid.rows:1),a=e.slides.length%o!==0,l=i&&e.slides.length%n.grid.rows!==0,u=d=>{for(let f=0;f<d;f+=1){const m=e.isElement?Ma("swiper-slide",[n.slideBlankClass]):Ma("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(m)}};if(a){if(n.loopAddBlankSlides){const d=o-e.slides.length%o;u(d),e.recalcSlides(),e.updateSlides()}else La("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(l){if(n.loopAddBlankSlides){const d=n.grid.rows-e.slides.length%n.grid.rows;u(d),e.recalcSlides(),e.updateSlides()}else La("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function jP(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:s,activeSlideIndex:i,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:f,slidesEl:m,params:g}=l,{centeredSlides:b}=g;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&g.virtual.enabled){n&&(!g.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):g.centeredSlides&&l.snapIndex<g.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=f,l.emit("loopFix");return}let x=g.slidesPerView;x==="auto"?x=l.slidesPerViewDynamic():(x=Math.ceil(parseFloat(g.slidesPerView,10)),b&&x%2===0&&(x=x+1));const D=g.slidesPerGroupAuto?x:g.slidesPerGroup;let L=D;L%D!==0&&(L+=D-L%D),L+=g.loopAdditionalSlides,l.loopedSlides=L;const I=l.grid&&g.grid&&g.grid.rows>1;u.length<x+L?La("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):I&&g.grid.fill==="row"&&La("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const C=[],k=[];let V=l.activeIndex;typeof i>"u"?i=l.getSlideIndex(u.filter(w=>w.classList.contains(g.slideActiveClass))[0]):V=i;const j=r==="next"||!r,R=r==="prev"||!r;let v=0,_=0;const E=I?Math.ceil(u.length/g.grid.rows):u.length,A=(I?u[i].column:i)+(b&&typeof s>"u"?-x/2+.5:0);if(A<L){v=Math.max(L-A,D);for(let w=0;w<L-A;w+=1){const ee=w-Math.floor(w/E)*E;if(I){const he=E-ee-1;for(let ve=u.length-1;ve>=0;ve-=1)u[ve].column===he&&C.push(ve)}else C.push(E-ee-1)}}else if(A+x>E-L){_=Math.max(A-(E-L*2),D);for(let w=0;w<_;w+=1){const ee=w-Math.floor(w/E)*E;I?u.forEach((he,ve)=>{he.column===ee&&k.push(ve)}):k.push(ee)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),R&&C.forEach(w=>{u[w].swiperLoopMoveDOM=!0,m.prepend(u[w]),u[w].swiperLoopMoveDOM=!1}),j&&k.forEach(w=>{u[w].swiperLoopMoveDOM=!0,m.append(u[w]),u[w].swiperLoopMoveDOM=!1}),l.recalcSlides(),g.slidesPerView==="auto"?l.updateSlides():I&&(C.length>0&&R||k.length>0&&j)&&l.slides.forEach((w,ee)=>{l.grid.updateSlide(ee,w,l.slides)}),g.watchSlidesProgress&&l.updateSlidesOffset(),n){if(C.length>0&&R){if(typeof e>"u"){const w=l.slidesGrid[V],he=l.slidesGrid[V+v]-w;a?l.setTranslate(l.translate-he):(l.slideTo(V+Math.ceil(v),0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-he,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-he))}else if(s){const w=I?C.length/g.grid.rows:C.length;l.slideTo(l.activeIndex+w,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(k.length>0&&j)if(typeof e>"u"){const w=l.slidesGrid[V],he=l.slidesGrid[V-_]-w;a?l.setTranslate(l.translate-he):(l.slideTo(V-_,0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-he,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-he))}else{const w=I?k.length/g.grid.rows:k.length;l.slideTo(l.activeIndex-w,0,!1,!0)}}if(l.allowSlidePrev=d,l.allowSlideNext=f,l.controller&&l.controller.control&&!o){const w={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:i,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(ee=>{!ee.destroyed&&ee.params.loop&&ee.loopFix({...w,slideTo:ee.params.slidesPerView===g.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...w,slideTo:l.controller.control.params.slidesPerView===g.slidesPerView?n:!1})}l.emit("loopFix")}function qP(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(s=>{const i=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[i]=s}),t.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{n.append(s)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var zP={loopCreate:$P,loopFix:jP,loopDestroy:qP};function HP(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function GP(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var WP={setGrabCursor:HP,unsetGrabCursor:GP};function KP(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Qs()||r===zt())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function Np(t,e,n){const r=zt(),{params:s}=t,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return i&&(n<=o||n>=r.innerWidth-o)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function QP(t){const e=this,n=Qs();let r=t;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Np(e,r,r.targetTouches[0].pageX);return}const{params:i,touches:o,enabled:a}=e;if(!a||!i.simulateTouch&&r.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let l=r.target;if(i.touchEventsTarget==="wrapper"&&!nP(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(l=d[0]);const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,m=!!(r.target&&r.target.shadowRoot);if(i.noSwiping&&(m?KP(f,l):l.closest(f))){e.allowClick=!0;return}if(i.swipeHandler&&!l.closest(i.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const g=o.currentX,b=o.currentY;if(!Np(e,r,g))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=g,o.startY=b,s.touchStartTime=Oa(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let x=!0;l.matches(s.focusableElements)&&(x=!1,l.nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(s.focusableElements))&&n.activeElement.blur();const D=x&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||D)&&!l.isContentEditable&&r.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function YP(t){const e=Qs(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:a}=n;if(!a||!s.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let u;if(l.type==="touchmove"){if(u=[...l.changedTouches].filter(j=>j.identifier===r.touchId)[0],!u||u.identifier!==r.touchId)return}else u=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const d=u.pageX,f=u.pageY;if(l.preventedByNestedSwiper){i.startX=d,i.startY=f;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f}),r.touchStartTime=Oa());return}if(s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(f<i.startY&&n.translate<=n.maxTranslate()||f>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=f;const m=i.currentX-i.startX,g=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(m**2+g**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let j;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:m*m+g*g>=25&&(j=Math.atan2(Math.abs(g),Math.abs(m))*180/Math.PI,r.isScrolling=n.isHorizontal()?j>s.touchAngle:90-j>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let b=n.isHorizontal()?m:g,x=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(b=Math.abs(b)*(o?1:-1),x=Math.abs(x)*(o?1:-1)),i.diff=b,b*=s.touchRatio,o&&(b=-b,x=-x);const D=n.touchesDirection;n.swipeDirection=b>0?"prev":"next",n.touchesDirection=x>0?"prev":"next";const L=n.params.loop&&!s.cssMode,I=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(L&&I&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(j)}r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let C;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&D!==n.touchesDirection&&L&&I&&Math.abs(b)>=1){Object.assign(i,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=b+r.startTranslate;let k=!0,V=s.resistanceRatio;if(s.touchReleaseOnEdges&&(V=0),b>0?(L&&I&&!C&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(k=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+b)**V))):b<0&&(L&&I&&!C&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(s.slidesPerView!=="auto"&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(s.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(k=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-b)**V))),k&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(b)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function JP(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].filter(V=>V.identifier===n.touchId)[0],!s||s.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:u,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=Oa(),m=f-n.touchStartTime;if(e.allowClick){const V=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(V&&V[0]||r.target,V),e.emit("tap click",r),m<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Oa(),ou(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let g;if(o.followFinger?g=l?e.translate:-e.translate:g=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const b=g>=-e.maxTranslate()&&!e.params.loop;let x=0,D=e.slidesSizesGrid[0];for(let V=0;V<u.length;V+=V<o.slidesPerGroupSkip?1:o.slidesPerGroup){const j=V<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof u[V+j]<"u"?(b||g>=u[V]&&g<u[V+j])&&(x=V,D=u[V+j]-u[V]):(b||g>=u[V])&&(x=V,D=u[u.length-1]-u[u.length-2])}let L=null,I=null;o.rewind&&(e.isBeginning?I=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(L=0));const C=(g-u[x])/D,k=x<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(m>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(C>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?L:x+k):e.slideTo(x)),e.swipeDirection==="prev"&&(C>1-o.longSwipesRatio?e.slideTo(x+k):I!==null&&C<0&&Math.abs(C)>o.longSwipesRatio?e.slideTo(I):e.slideTo(x))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(x+k):e.slideTo(x):(e.swipeDirection==="next"&&e.slideTo(L!==null?L:x+k),e.swipeDirection==="prev"&&e.slideTo(I!==null?I:x))}}function Vp(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function XP(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function ZP(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function e2(t){const e=this;sa(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function t2(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Uv=(t,e)=>{const n=Qs(),{params:r,el:s,wrapperEl:i,device:o}=t,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",u=e;!s||typeof s=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),s[l]("touchstart",t.onTouchStart,{passive:!1}),s[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[l]("click",t.onClick,!0),r.cssMode&&i[l]("scroll",t.onScroll),r.updateOnWindowResize?t[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Vp,!0):t[u]("observerUpdate",Vp,!0),s[l]("load",t.onLoad,{capture:!0}))};function n2(){const t=this,{params:e}=t;t.onTouchStart=QP.bind(t),t.onTouchMove=YP.bind(t),t.onTouchEnd=JP.bind(t),t.onDocumentTouchStart=t2.bind(t),e.cssMode&&(t.onScroll=ZP.bind(t)),t.onClick=XP.bind(t),t.onLoad=e2.bind(t),Uv(t,"on")}function r2(){Uv(this,"off")}var s2={attachEvents:n2,detachEvents:r2};const Fp=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function i2(){const t=this,{realIndex:e,initialized:n,params:r,el:s}=t,i=r.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const o=t.getBreakpoint(i,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const l=(o in i?i[o]:void 0)||t.originalParams,u=Fp(t,r),d=Fp(t,l),f=t.params.grabCursor,m=l.grabCursor,g=r.enabled;u&&!d?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&d&&(s.classList.add(`${r.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),f&&!m?t.unsetGrabCursor():!f&&m&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(C=>{if(typeof l[C]>"u")return;const k=r[C]&&r[C].enabled,V=l[C]&&l[C].enabled;k&&!V&&t[C].disable(),!k&&V&&t[C].enable()});const b=l.direction&&l.direction!==r.direction,x=r.loop&&(l.slidesPerView!==r.slidesPerView||b),D=r.loop;b&&n&&t.changeDirection(),Bt(t.params,l);const L=t.params.enabled,I=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),g&&!L?t.disable():!g&&L&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",l),n&&(x?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!D&&I?(t.loopCreate(e),t.updateSlides()):D&&!I&&t.loopDestroy()),t.emit("breakpoint",l)}function o2(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const s=zt(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:i*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:u}=o[a];e==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(r=l):u<=n.clientWidth&&(r=l)}return r||"max"}var a2={setBreakpoint:i2,getBreakpoint:o2};function l2(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function c2(){const t=this,{classNames:e,params:n,rtl:r,el:s,device:i}=t,o=l2(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),s.classList.add(...e),t.emitContainerClasses()}function u2(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var d2={addClasses:c2,removeClasses:u2};function h2(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var f2={checkOverflow:h2},cu={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function p2(t,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Bt(e,r);return}if(t[s]===!0&&(t[s]={enabled:!0}),s==="navigation"&&t[s]&&t[s].enabled&&!t[s].prevEl&&!t[s].nextEl&&(t[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&t[s]&&t[s].enabled&&!t[s].el&&(t[s].auto=!0),!(s in t&&"enabled"in i)){Bt(e,r);return}typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Bt(e,r)}}const _c={eventsEmitter:dP,update:TP,translate:RP,transition:DP,slide:UP,loop:zP,grabCursor:WP,events:s2,breakpoints:a2,checkOverflow:f2,classes:d2},vc={};let Ad=class Tn{constructor(){let e,n;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?n=s[0]:[e,n]=s,n||(n={}),n=Bt({},n),e&&!n.el&&(n.el=e);const o=Qs();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const d=[];return o.querySelectorAll(n.el).forEach(f=>{const m=Bt({},n,{el:f});d.push(new Tn(m))}),d}const a=this;a.__swiper__=!0,a.support=Vv(),a.device=Fv({userAgent:n.userAgent}),a.browser=lP(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(d=>{d({params:n,swiper:a,extendParams:p2(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const u=Bt({},cu,l);return a.params=Bt({},u,vc,n),a.originalParams=Bt({},a.params),a.passedParams=Bt({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,s=ln(n,`.${r.slideClass}, swiper-slide`),i=Na(s[0]);return Na(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=ln(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:u}=r;let d=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let f=i[u]?Math.ceil(i[u].swiperSlideSize):0,m;for(let g=u+1;g<i.length;g+=1)i[g]&&!m&&(f+=Math.ceil(i[g].swiperSlideSize),d+=1,f>l&&(m=!0));for(let g=u-1;g>=0;g-=1)i[g]&&!m&&(f+=i[g].swiperSlideSize,d+=1,f>l&&(m=!0))}else if(e==="current")for(let f=u+1;f<i.length;f+=1)(n?o[f]+a[f]-o[u]<l:o[f]-o[u]<l)&&(d+=1);else for(let f=u-1;f>=0;f-=1)o[u]-o[f]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&sa(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(o.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||s()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):ln(r,s())[0];return!o&&n.params.createElements&&(o=Ma("div",n.params.wrapperClass),r.append(o),ln(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||ir(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||ir(r,"direction")==="rtl"),wrongRTL:ir(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const s=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&s.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(i=>{i.complete?sa(n,i):i.addEventListener("load",o=>{sa(n,o.target)})}),lu(n),n.initialized=!0,lu(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:s,el:i,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),XR(r)),r.destroyed=!0),null}static extendDefaults(e){Bt(vc,e)}static get extendedDefaults(){return vc}static get defaults(){return cu}static installModule(e){Tn.prototype.__modules__||(Tn.prototype.__modules__=[]);const n=Tn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Tn.installModule(n)),Tn):(Tn.installModule(e),Tn)}};Object.keys(_c).forEach(t=>{Object.keys(_c[t]).forEach(e=>{Ad.prototype[e]=_c[t][e]})});Ad.use([cP,uP]);const $v=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Xr(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function ks(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Xr(e[r])&&Xr(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:ks(t[r],e[r]):t[r]=e[r]})}function jv(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function qv(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function zv(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Hv(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function m2(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function g2(t){let{swiper:e,slides:n,passedParams:r,changedParams:s,nextEl:i,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const u=s.filter(_=>_!=="children"&&_!=="direction"&&_!=="wrapperClass"),{params:d,pagination:f,navigation:m,scrollbar:g,virtual:b,thumbs:x}=e;let D,L,I,C,k,V,j,R;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(D=!0),s.includes("controller")&&r.controller&&r.controller.control&&d.controller&&!d.controller.control&&(L=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(d.pagination||d.pagination===!1)&&f&&!f.el&&(I=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(d.scrollbar||d.scrollbar===!1)&&g&&!g.el&&(C=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||i)&&(d.navigation||d.navigation===!1)&&m&&!m.prevEl&&!m.nextEl&&(k=!0);const v=_=>{e[_]&&(e[_].destroy(),_==="navigation"?(e.isElement&&(e[_].prevEl.remove(),e[_].nextEl.remove()),d[_].prevEl=void 0,d[_].nextEl=void 0,e[_].prevEl=void 0,e[_].nextEl=void 0):(e.isElement&&e[_].el.remove(),d[_].el=void 0,e[_].el=void 0))};s.includes("loop")&&e.isElement&&(d.loop&&!r.loop?V=!0:!d.loop&&r.loop?j=!0:R=!0),u.forEach(_=>{if(Xr(d[_])&&Xr(r[_]))Object.assign(d[_],r[_]),(_==="navigation"||_==="pagination"||_==="scrollbar")&&"enabled"in r[_]&&!r[_].enabled&&v(_);else{const E=r[_];(E===!0||E===!1)&&(_==="navigation"||_==="pagination"||_==="scrollbar")?E===!1&&v(_):d[_]=r[_]}}),u.includes("controller")&&!L&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),s.includes("children")&&n&&b&&d.virtual.enabled?(b.slides=n,b.update(!0)):s.includes("virtual")&&b&&d.virtual.enabled&&(n&&(b.slides=n),b.update(!0)),s.includes("children")&&n&&d.loop&&(R=!0),D&&x.init()&&x.update(!0),L&&(e.controller.control=d.controller.control),I&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(d.pagination.el=l),f.init(),f.render(),f.update()),C&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(d.scrollbar.el=a),g.init(),g.updateSize(),g.setTranslate()),k&&(e.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),i.innerHTML=e.hostEl.constructor.nextButtonSvg,i.part.add("button-next"),e.el.appendChild(i)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),i&&(d.navigation.nextEl=i),o&&(d.navigation.prevEl=o),m.init(),m.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(V||R)&&e.loopDestroy(),(j||R)&&e.loopCreate(),e.update()}function Bp(t,e){t===void 0&&(t={});const n={on:{}},r={},s={};ks(n,cu),n._emitClasses=!0,n.init=!1;const i={},o=$v.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?Xr(t[l])?(n[l]={},s[l]={},ks(n[l],t[l]),ks(s[l],t[l])):(n[l]=t[l],s[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:i[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:i,events:r}}function _2(t,e){let{el:n,nextEl:r,prevEl:s,paginationEl:i,scrollbarEl:o,swiper:a}=t;jv(e)&&r&&s&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=s,a.originalParams.navigation.prevEl=s),qv(e)&&i&&(a.params.pagination.el=i,a.originalParams.pagination.el=i),zv(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function v2(t,e,n,r,s){const i=[];if(!e)return i;const o=l=>{i.indexOf(l)<0&&i.push(l)};if(n&&r){const l=r.map(s),u=n.map(s);l.join("")!==u.join("")&&o("children"),r.length!==n.length&&o("children")}return $v.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Xr(t[l])&&Xr(e[l])){const u=Object.keys(t[l]),d=Object.keys(e[l]);u.length!==d.length?o(l):(u.forEach(f=>{t[l][f]!==e[l][f]&&o(l)}),d.forEach(f=>{t[l][f]!==e[l][f]&&o(l)}))}else t[l]!==e[l]&&o(l)}),i}const y2=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function yc(t,e,n){t===void 0&&(t={});const r=[],s={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},i=(o,a)=>{Array.isArray(o)&&o.forEach(l=>{const u=typeof l.type=="symbol";a==="default"&&(a="container-end"),u&&l.children?i(l.children,a):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")||l.componentOptions&&l.componentOptions.tag==="SwiperSlide"?r.push(l):s[a]&&s[a].push(l)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();i(a,o)}),n.value=e.value,e.value=r,{slides:r,slots:s}}function w2(t,e,n){if(!n)return null;const r=d=>{let f=d;return d<0?f=e.length+d:f>=e.length&&(f=f-e.length),f},s=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:i,to:o}=n,a=t.value.params.loop?-e.length:0,l=t.value.params.loop?e.length*2:e.length,u=[];for(let d=a;d<l;d+=1)d>=i&&d<=o&&u.length<e.length&&u.push(e[r(d)]);return u.map(d=>{if(d.props||(d.props={}),d.props.style||(d.props.style={}),d.props.swiperRef=t,d.props.style=s,d.type)return it(d.type,{...d.props},d.children);if(d.componentOptions)return it(d.componentOptions.Ctor,{...d.props},d.componentOptions.children)})}const E2={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:r}=e;const{tag:s,wrapperTag:i}=t,o=Ze("swiper"),a=Ze(null),l=Ze(!1),u=Ze(!1),d=Ze(null),f=Ze(null),m=Ze(null),g={value:[]},b={value:[]},x=Ze(null),D=Ze(null),L=Ze(null),I=Ze(null),{params:C,passedParams:k}=Bp(t);yc(n,g,b),m.value=k,b.value=g.value;const V=()=>{yc(n,g,b),l.value=!0};C.onAny=function(v){for(var _=arguments.length,E=new Array(_>1?_-1:0),T=1;T<_;T++)E[T-1]=arguments[T];r(v,...E)},Object.assign(C.on,{_beforeBreakpoint:V,_containerClasses(v,_){o.value=_}});const j={...C};if(delete j.wrapperClass,f.value=new Ad(j),f.value.virtual&&f.value.params.virtual.enabled){f.value.virtual.slides=g.value;const v={cache:!1,slides:g.value,renderExternal:_=>{a.value=_},renderExternalUpdate:!1};ks(f.value.params.virtual,v),ks(f.value.originalParams.virtual,v)}bu(()=>{!u.value&&f.value&&(f.value.emitSlidesClasses(),u.value=!0);const{passedParams:v}=Bp(t),_=v2(v,m.value,g.value,b.value,E=>E.props&&E.props.key);m.value=v,(_.length||l.value)&&f.value&&!f.value.destroyed&&g2({swiper:f.value,slides:g.value,passedParams:v,changedParams:_,nextEl:x.value,prevEl:D.value,scrollbarEl:I.value,paginationEl:L.value}),l.value=!1}),Is("swiper",f),lr(a,()=>{to(()=>{y2(f.value)})}),no(()=>{d.value&&(_2({el:d.value,nextEl:x.value,prevEl:D.value,paginationEl:L.value,scrollbarEl:I.value,swiper:f.value},C),r("swiper",f.value))}),Ka(()=>{f.value&&!f.value.destroyed&&f.value.destroy(!0,!1)});function R(v){return C.virtual?w2(f,v,a.value):(v.forEach((_,E)=>{_.props||(_.props={}),_.props.swiperRef=f,_.props.swiperSlideIndex=E}),v)}return()=>{const{slides:v,slots:_}=yc(n,g,b);return it(s,{ref:d,class:Hv(o.value)},[_["container-start"],it(i,{class:m2(C.wrapperClass)},[_["wrapper-start"],R(v),_["wrapper-end"]]),jv(t)&&[it("div",{ref:D,class:"swiper-button-prev"}),it("div",{ref:x,class:"swiper-button-next"})],zv(t)&&it("div",{ref:I,class:"swiper-scrollbar"}),qv(t)&&it("div",{ref:L,class:"swiper-pagination"}),_["container-end"]])}}},T2={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,r=!1;const{swiperRef:s}=t,i=Ze(null),o=Ze("swiper-slide"),a=Ze(!1);function l(f,m,g){m===i.value&&(o.value=g)}no(()=>{!s||!s.value||(s.value.on("_slideClass",l),r=!0)}),km(()=>{r||!s||!s.value||(s.value.on("_slideClass",l),r=!0)}),bu(()=>{!i.value||!s||!s.value||(typeof t.swiperSlideIndex<"u"&&(i.value.swiperSlideIndex=t.swiperSlideIndex),s.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),Ka(()=>{!s||!s.value||s.value.off("_slideClass",l)});const u=Ut(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));Is("swiperSlide",u);const d=()=>{a.value=!0};return()=>it(t.tag,{class:Hv(`${o.value}`),ref:i,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&s&&s.value&&s.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:d},t.zoom?it("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(u.value),t.lazy&&!a.value&&it("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(u.value),t.lazy&&!a.value&&it("div",{class:"swiper-lazy-preloader"})])}};function A2(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&n.auto===!0){let i=ln(t.el,`.${r[s]}`)[0];i||(i=Ma("div",r[s]),i.className=r[s],t.el.append(i)),n[s]=i,e[s]=i}}),n}function hi(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function S2(t){let{swiper:e,extendParams:n,on:r,emit:s}=t;const i="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:I=>I,formatFractionTotal:I=>I,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(I,C){const{bulletActiveClass:k}=e.params.pagination;I&&(I=I[`${C==="prev"?"previous":"next"}ElementSibling`],I&&(I.classList.add(`${k}-${C}`),I=I[`${C==="prev"?"previous":"next"}ElementSibling`],I&&I.classList.add(`${k}-${C}-${C}`)))}function d(I,C,k){if(I=I%k,C=C%k,C===I+1)return"next";if(C===I-1)return"previous"}function f(I){const C=I.target.closest(hi(e.params.pagination.bulletClass));if(!C)return;I.preventDefault();const k=Na(C)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===k)return;const V=d(e.realIndex,k,e.slides.length);V==="next"?e.slideNext():V==="previous"?e.slidePrev():e.slideToLoop(k)}else e.slideTo(k)}function m(){const I=e.rtl,C=e.params.pagination;if(l())return;let k=e.pagination.el;k=En(k);let V,j;const R=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,v=e.params.loop?Math.ceil(R/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(j=e.previousRealIndex||0,V=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(V=e.snapIndex,j=e.previousSnapIndex):(j=e.previousIndex||0,V=e.activeIndex||0),C.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const _=e.pagination.bullets;let E,T,A;if(C.dynamicBullets&&(o=au(_[0],e.isHorizontal()?"width":"height"),k.forEach(w=>{w.style[e.isHorizontal()?"width":"height"]=`${o*(C.dynamicMainBullets+4)}px`}),C.dynamicMainBullets>1&&j!==void 0&&(a+=V-(j||0),a>C.dynamicMainBullets-1?a=C.dynamicMainBullets-1:a<0&&(a=0)),E=Math.max(V-a,0),T=E+(Math.min(_.length,C.dynamicMainBullets)-1),A=(T+E)/2),_.forEach(w=>{const ee=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(he=>`${C.bulletActiveClass}${he}`)].map(he=>typeof he=="string"&&he.includes(" ")?he.split(" "):he).flat();w.classList.remove(...ee)}),k.length>1)_.forEach(w=>{const ee=Na(w);ee===V?w.classList.add(...C.bulletActiveClass.split(" ")):e.isElement&&w.setAttribute("part","bullet"),C.dynamicBullets&&(ee>=E&&ee<=T&&w.classList.add(...`${C.bulletActiveClass}-main`.split(" ")),ee===E&&u(w,"prev"),ee===T&&u(w,"next"))});else{const w=_[V];if(w&&w.classList.add(...C.bulletActiveClass.split(" ")),e.isElement&&_.forEach((ee,he)=>{ee.setAttribute("part",he===V?"bullet-active":"bullet")}),C.dynamicBullets){const ee=_[E],he=_[T];for(let ve=E;ve<=T;ve+=1)_[ve]&&_[ve].classList.add(...`${C.bulletActiveClass}-main`.split(" "));u(ee,"prev"),u(he,"next")}}if(C.dynamicBullets){const w=Math.min(_.length,C.dynamicMainBullets+4),ee=(o*w-o)/2-A*o,he=I?"right":"left";_.forEach(ve=>{ve.style[e.isHorizontal()?he:"top"]=`${ee}px`})}}k.forEach((_,E)=>{if(C.type==="fraction"&&(_.querySelectorAll(hi(C.currentClass)).forEach(T=>{T.textContent=C.formatFractionCurrent(V+1)}),_.querySelectorAll(hi(C.totalClass)).forEach(T=>{T.textContent=C.formatFractionTotal(v)})),C.type==="progressbar"){let T;C.progressbarOpposite?T=e.isHorizontal()?"vertical":"horizontal":T=e.isHorizontal()?"horizontal":"vertical";const A=(V+1)/v;let w=1,ee=1;T==="horizontal"?w=A:ee=A,_.querySelectorAll(hi(C.progressbarFillClass)).forEach(he=>{he.style.transform=`translate3d(0,0,0) scaleX(${w}) scaleY(${ee})`,he.style.transitionDuration=`${e.params.speed}ms`})}C.type==="custom"&&C.renderCustom?(_.innerHTML=C.renderCustom(e,V+1,v),E===0&&s("paginationRender",_)):(E===0&&s("paginationRender",_),s("paginationUpdate",_)),e.params.watchOverflow&&e.enabled&&_.classList[e.isLocked?"add":"remove"](C.lockClass)})}function g(){const I=e.params.pagination;if(l())return;const C=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let k=e.pagination.el;k=En(k);let V="";if(I.type==="bullets"){let j=e.params.loop?Math.ceil(C/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&j>C&&(j=C);for(let R=0;R<j;R+=1)I.renderBullet?V+=I.renderBullet.call(e,R,I.bulletClass):V+=`<${I.bulletElement} ${e.isElement?'part="bullet"':""} class="${I.bulletClass}"></${I.bulletElement}>`}I.type==="fraction"&&(I.renderFraction?V=I.renderFraction.call(e,I.currentClass,I.totalClass):V=`<span class="${I.currentClass}"></span> / <span class="${I.totalClass}"></span>`),I.type==="progressbar"&&(I.renderProgressbar?V=I.renderProgressbar.call(e,I.progressbarFillClass):V=`<span class="${I.progressbarFillClass}"></span>`),e.pagination.bullets=[],k.forEach(j=>{I.type!=="custom"&&(j.innerHTML=V||""),I.type==="bullets"&&e.pagination.bullets.push(...j.querySelectorAll(hi(I.bulletClass)))}),I.type!=="custom"&&s("paginationRender",k[0])}function b(){e.params.pagination=A2(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const I=e.params.pagination;if(!I.el)return;let C;typeof I.el=="string"&&e.isElement&&(C=e.el.querySelector(I.el)),!C&&typeof I.el=="string"&&(C=[...document.querySelectorAll(I.el)]),C||(C=I.el),!(!C||C.length===0)&&(e.params.uniqueNavElements&&typeof I.el=="string"&&Array.isArray(C)&&C.length>1&&(C=[...e.el.querySelectorAll(I.el)],C.length>1&&(C=C.filter(k=>Nv(k,".swiper")[0]===e.el)[0])),Array.isArray(C)&&C.length===1&&(C=C[0]),Object.assign(e.pagination,{el:C}),C=En(C),C.forEach(k=>{I.type==="bullets"&&I.clickable&&k.classList.add(...(I.clickableClass||"").split(" ")),k.classList.add(I.modifierClass+I.type),k.classList.add(e.isHorizontal()?I.horizontalClass:I.verticalClass),I.type==="bullets"&&I.dynamicBullets&&(k.classList.add(`${I.modifierClass}${I.type}-dynamic`),a=0,I.dynamicMainBullets<1&&(I.dynamicMainBullets=1)),I.type==="progressbar"&&I.progressbarOpposite&&k.classList.add(I.progressbarOppositeClass),I.clickable&&k.addEventListener("click",f),e.enabled||k.classList.add(I.lockClass)}))}function x(){const I=e.params.pagination;if(l())return;let C=e.pagination.el;C&&(C=En(C),C.forEach(k=>{k.classList.remove(I.hiddenClass),k.classList.remove(I.modifierClass+I.type),k.classList.remove(e.isHorizontal()?I.horizontalClass:I.verticalClass),I.clickable&&(k.classList.remove(...(I.clickableClass||"").split(" ")),k.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(k=>k.classList.remove(...I.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const I=e.params.pagination;let{el:C}=e.pagination;C=En(C),C.forEach(k=>{k.classList.remove(I.horizontalClass,I.verticalClass),k.classList.add(e.isHorizontal()?I.horizontalClass:I.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?L():(b(),g(),m())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&m()}),r("snapIndexChange",()=>{m()}),r("snapGridLengthChange",()=>{g(),m()}),r("destroy",()=>{x()}),r("enable disable",()=>{let{el:I}=e.pagination;I&&(I=En(I),I.forEach(C=>C.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{m()}),r("click",(I,C)=>{const k=C.target,V=En(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&V&&V.length>0&&!k.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&k===e.navigation.nextEl||e.navigation.prevEl&&k===e.navigation.prevEl))return;const j=V[0].classList.contains(e.params.pagination.hiddenClass);s(j===!0?"paginationShow":"paginationHide"),V.forEach(R=>R.classList.toggle(e.params.pagination.hiddenClass))}});const D=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:I}=e.pagination;I&&(I=En(I),I.forEach(C=>C.classList.remove(e.params.pagination.paginationDisabledClass))),b(),g(),m()},L=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:I}=e.pagination;I&&(I=En(I),I.forEach(C=>C.classList.add(e.params.pagination.paginationDisabledClass))),x()};Object.assign(e.pagination,{enable:D,disable:L,render:g,update:m,init:b,destroy:x})}const I2={props:{arrayFromFirestore:{type:Array}},setup(){return{modules:[S2]}},components:{LoadingSpinner:Tl,Swiper:E2,SwiperSlide:T2},data(){return{pathBaseSrcImg:"https://image.tmdb.org/t/p/w200/",pathUrl:"/review-serie/",currentIndex:0,slidesToShow:5}},methods:{nextSlide(){this.arrayFromFirestore.length-this.slidesToShow,console.log(`Index actual:${this.currentIndex+1}`),this.currentIndex<this.arrayFromFirestore.length-1?this.currentIndex++:this.currentIndex=0},prevSlide(){console.log(`Index actual:${this.currentIndex+1}`),this.currentIndex>0?this.currentIndex--:this.currentIndex=0},updateSlidesToShow(){const t=window.innerWidth;t<640?(this.slidesToShow=2,console.log(this.slidesToShow)):t<1024?(this.slidesToShow=4,console.log(this.slidesToShow)):(this.slidesToShow=5,console.log(this.slidesToShow))}},mounted(){this.updateSlidesToShow(),window.addEventListener("resize",this.updateSlidesToShow)},beforeDestroy(){window.removeEventListener("resize",this.updateSlidesToShow)}},b2={class:"font-poppinsLight text-white flex flex-col"},C2={key:0,class:"text-lg lg:pl-20 pl-5"},R2={class:"flex flex-row gap-4 w-full h-auto"},P2={key:0,class:"relative"},x2={class:"relative overflow-hidden w-full h-auto"},k2=["src","alt"],D2={key:1,class:"flex h-80 flex-col justify-center items-center w-full"};function O2(t,e,n,r,s,i){const o=ge("RouterLink"),a=ge("LoadingSpinner");return Z(),re("div",b2,[n.arrayFromFirestore.length>0?(Z(),re("h2",C2,"Top Reviews ")):Pn("",!0),M("div",R2,[n.arrayFromFirestore.length>0?(Z(),re("div",P2,[M("div",x2,[M("div",{class:"flex flex-row justify-between transition-transform duration-500 ease-in-out lg:pl-20 pl-5 py-5 relative",style:Xi({transform:`translateX(-${s.currentIndex*(100/s.slidesToShow)}%)`})},[(Z(!0),re(st,null,Zr(n.arrayFromFirestore,(l,u)=>(Z(),es(o,{key:l.serieId,to:s.pathUrl+l.serieId,class:"flex-shrink-0 mr-7 shadow-lg shadow-black rounded-2xl"},{default:kn(()=>[M("img",{src:l.srcImage,alt:l.serieName,class:"w-full h-full object-cover rounded-2xl hover:scale-105 transition-all ease-in-out duration-100"},null,8,k2)]),_:2},1032,["to"]))),128))],4)]),s.currentIndex>0?(Z(),re("button",{key:0,class:"absolute top-[183px] left-0 h-[310px] hover:opacity-100 opacity-0 transition-all duration-500 ease-in-out flex justify-center items-center transform -translate-y-1/2 bg-gradient-to-r from-gray-900 to-transparent bg-opacity-50 text-white text-5xl px-4",onClick:e[0]||(e[0]=(...l)=>i.prevSlide&&i.prevSlide(...l))}," ‹ ")):Pn("",!0),s.currentIndex<n.arrayFromFirestore.length-s.slidesToShow?(Z(),re("button",{key:1,class:"absolute top-[183px] right-0 transform hover:opacity-100 opacity-0 h-[310px] -translate-y-1/2 transition-all duration-500 ease-in-out text-white p-2 text-5xl px-4 bg-gradient-to-l from-gray-900 to-transparent bg-opacity-50",onClick:e[1]||(e[1]=(...l)=>i.nextSlide&&i.nextSlide(...l))}," › ")):Pn("",!0)])):(Z(),re("div",D2,[ae(a)]))])])}const L2=Ne(I2,[["render",O2]]);/**
 * @license lucide-vue-next v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=({size:t,strokeWidth:e=2,absoluteStrokeWidth:n,color:r,iconNode:s,name:i,class:o,...a},{slots:l})=>it("svg",{...qo,width:t||qo.width,height:t||qo.height,stroke:r||qo.stroke,"stroke-width":n?Number(e)*24/Number(t):e,class:["lucide",`lucide-${M2(i??"icon")}`],...a},[...s.map(u=>it(...u)),...l.default?[l.default()]:[]]);/**
 * @license lucide-vue-next v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=(t,e)=>(n,{slots:r})=>it(N2,{...n,iconNode:e,name:t},r);/**
 * @license lucide-vue-next v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=Ys("CircleXIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-vue-next v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Ys("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=Ys("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-vue-next v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Ys("StarIcon",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-vue-next v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Ys("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-vue-next v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Ys("UserRoundIcon",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]),$2={props:{idSerie:{type:Number},nombreSerie:{type:String},srcImg:{type:String},rating:{type:Number},anyoEmision:{type:String},descripcionSerie:{type:String}},data(){return{}},components:{LogoSeriesLab:ss,Star:Al},methods:{}},j2={class:"h-72 bg-secondaryBackground flex flex-col pb-5 rounded-2xl hover:scale-105 transition-all ease-in-out duration-100"},q2=["src"],z2={class:"flex flex-col px-2"},H2={class:"flex flex-row justify-between align-middle items-center mt-2"},G2={class:"flex flex-row items-center"},W2={class:"pl-1 text-sm text-gray-400 font-poppinsRegular"},K2={class:"text-sm text-gray-400 font-poppinsRegular"},Q2={class:"w-full text-xs font-poppinsRegular pt-2 h-16"};function Y2(t,e,n,r,s,i){const o=ge("Star");return Z(),re("div",j2,[M("img",{src:n.srcImg,alt:"",class:"overflow-hidden rounded-t-2xl object-cover"},null,8,q2),M("div",z2,[M("div",H2,[M("div",G2,[ae(o,{color:"#dcd62e",strokeWidth:"{3}",fill:"#dcd62e",width:"15px"}),M("div",W2,Ie(parseFloat(n.rating.toFixed(1))),1)]),M("div",K2,Ie(n.anyoEmision),1)]),M("div",Q2,Ie(n.nombreSerie.slice(0,35)),1)])])}const Wv=Ne($2,[["render",Y2]]),J2={props:{arrayFromData:{type:Array}},components:{CardResults:Wv,LoadingSpinner:Tl},data(){return{pathBaseSrcImg:"https://image.tmdb.org/t/p/w200/",pathUrl:"/review-serie/"}}},X2={class:"lg:px-20 px-5 font-poppinsLight text-white flex flex-col pb-8"},Z2={key:0,class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-4 lg:grid-cols-6 gap-2 lg:gap-3"},ex={key:1,class:"flex h-80 flex-col justify-center items-center w-full"};function tx(t,e,n,r,s,i){const o=ge("CardResults"),a=ge("RouterLink"),l=ge("LoadingSpinner");return Z(),re("div",X2,[e[0]||(e[0]=M("h2",{class:"text-lg pb-6"},"Top Rated series",-1)),n.arrayFromData.length>0?(Z(),re("div",Z2,[(Z(!0),re(st,null,Zr(n.arrayFromData,u=>(Z(),re("div",{key:u.id},[ae(a,{to:s.pathUrl+u.id,class:""},{default:kn(()=>[ae(o,{idSerie:u.id,nombreSerie:u.name,srcImg:s.pathBaseSrcImg+u.poster_path,rating:u.vote_average,anyoEmision:u.first_air_date.slice(0,4),descripcionSerie:u.overview},null,8,["idSerie","nombreSerie","srcImg","rating","anyoEmision","descripcionSerie"])]),_:2},1032,["to"])]))),128))])):(Z(),re("div",ex,[ae(l)]))])}const nx=Ne(J2,[["render",tx]]),rx="https://api.themoviedb.org/3/tv/top_rated?api_key=",sx="de4b6461e071a300a503b91fb095113d",ix="es-ES",ox=`${rx}${sx}&language=${ix}`,ax=Kr(Jr);async function lx(){const t=uo(ax,"all-reviews-series");return(await dd(t)).docs.map(r=>({id:r.id,...r.data()}))}const cx={data(){return{arrayTopRated:[],allReviewsFirestore:[],filteredReviewsFirestore:[],top10filteredReviews:[]}},props:{},components:{TopReviewsSeries:L2,TopRatedSeries:nx},methods:{},created(){fetch(ox).then(t=>t.json()).then(t=>{setTimeout(()=>{this.arrayTopRated=t.results.slice(0,6)},1e3)}),setTimeout(()=>{lx().then(t=>{this.allReviewsFirestore=t.slice(0,30);const e={};this.allReviewsFirestore.forEach(r=>{e[r.serieId]=(e[r.serieId]||0)+1});const n=new Set;for(const r of this.allReviewsFirestore)n.has(r.serieId)||(n.add(r.serieId),this.filteredReviewsFirestore.push(r));this.top10filteredReviews=this.filteredReviewsFirestore.slice(0,10),console.log(this.top10filteredReviews)})},1e3)}},ux={class:"min-h-[calc(100vh-14rem)] flex flex-col justify-between align-middle w-full"};function dx(t,e,n,r,s,i){const o=ge("TopReviewsSeries"),a=ge("TopRatedSeries");return Z(),re("div",ux,[ae(o,{arrayFromFirestore:s.top10filteredReviews},null,8,["arrayFromFirestore"]),ae(a,{arrayFromData:s.arrayTopRated},null,8,["arrayFromData"])])}const Kv=Ne(cx,[["render",dx]]),hx={props:{},components:{Main:Kv,BannerSerie:Ov}},fx={class:"min-h-[calc(100vh-14rem)] flex flex-col gap-4 justify-center align-middle w-full"};function px(t,e,n,r,s,i){const o=ge("BannerSerie"),a=ge("Main");return Z(),re("div",fx,[ae(o),ae(a)])}const mx=Ne(hx,[["render",px]]);var gx=!1;/*!
 * pinia v2.2.6
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Qv;const Sl=t=>Qv=t,Yv=Symbol();function uu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Di;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Di||(Di={}));function _x(){const t=Jp(!0),e=t.run(()=>Ze({}));let n=[],r=[];const s=Su({install(i){Sl(s),s._a=i,i.provide(Yv,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!gx?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const Jv=()=>{};function Up(t,e,n,r=Jv){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&Xp()&&Uy(s),s}function hs(t,...e){t.slice().forEach(n=>{n(...e)})}const vx=t=>t(),$p=Symbol(),wc=Symbol();function du(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];uu(s)&&uu(r)&&t.hasOwnProperty(n)&&!Qe(r)&&!ar(r)?t[n]=du(s,r):t[n]=r}return t}const yx=Symbol();function wx(t){return!uu(t)||!t.hasOwnProperty(yx)}const{assign:Qn}=Object;function Ex(t){return!!(Qe(t)&&t.effect)}function Tx(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=s?s():{});const d=cw(n.state.value[t]);return Qn(d,i,Object.keys(o||{}).reduce((f,m)=>(f[m]=Su(Ut(()=>{Sl(n);const g=n._s.get(t);return o[m].call(g,g)})),f),{}))}return l=Xv(t,u,e,n,r,!0),l}function Xv(t,e,n={},r,s,i){let o;const a=Qn({actions:{}},n),l={deep:!0};let u,d,f=[],m=[],g;const b=r.state.value[t];!i&&!b&&(r.state.value[t]={}),Ze({});let x;function D(v){let _;u=d=!1,typeof v=="function"?(v(r.state.value[t]),_={type:Di.patchFunction,storeId:t,events:g}):(du(r.state.value[t],v),_={type:Di.patchObject,payload:v,storeId:t,events:g});const E=x=Symbol();to().then(()=>{x===E&&(u=!0)}),d=!0,hs(f,_,r.state.value[t])}const L=i?function(){const{state:_}=n,E=_?_():{};this.$patch(T=>{Qn(T,E)})}:Jv;function I(){o.stop(),f=[],m=[],r._s.delete(t)}const C=(v,_="")=>{if($p in v)return v[wc]=_,v;const E=function(){Sl(r);const T=Array.from(arguments),A=[],w=[];function ee(pe){A.push(pe)}function he(pe){w.push(pe)}hs(m,{args:T,name:E[wc],store:V,after:ee,onError:he});let ve;try{ve=v.apply(this&&this.$id===t?this:V,T)}catch(pe){throw hs(w,pe),pe}return ve instanceof Promise?ve.then(pe=>(hs(A,pe),pe)).catch(pe=>(hs(w,pe),Promise.reject(pe))):(hs(A,ve),ve)};return E[$p]=!0,E[wc]=_,E},k={_p:r,$id:t,$onAction:Up.bind(null,m),$patch:D,$reset:L,$subscribe(v,_={}){const E=Up(f,v,_.detached,()=>T()),T=o.run(()=>lr(()=>r.state.value[t],A=>{(_.flush==="sync"?d:u)&&v({storeId:t,type:Di.direct,events:g},A)},Qn({},l,_)));return E},$dispose:I},V=Zi(k);r._s.set(t,V);const R=(r._a&&r._a.runWithContext||vx)(()=>r._e.run(()=>(o=Jp()).run(()=>e({action:C}))));for(const v in R){const _=R[v];if(Qe(_)&&!Ex(_)||ar(_))i||(b&&wx(_)&&(Qe(_)?_.value=b[v]:du(_,b[v])),r.state.value[t][v]=_);else if(typeof _=="function"){const E=C(_,v);R[v]=E,a.actions[v]=_}}return Qn(V,R),Qn(Pe(V),R),Object.defineProperty(V,"$state",{get:()=>r.state.value[t],set:v=>{D(_=>{Qn(_,v)})}}),r._p.forEach(v=>{Qn(V,o.run(()=>v({store:V,app:r._a,pinia:r,options:a})))}),b&&i&&n.hydrate&&n.hydrate(V.$state,b),u=!0,d=!0,V}/*! #__NO_SIDE_EFFECTS__ */function Sd(t,e,n){let r,s;const i=typeof e=="function";typeof t=="string"?(r=t,s=i?n:e):(s=t,r=t.id);function o(a,l){const u=jw();return a=a||(u?Xt(Yv,null):null),a&&Sl(a),a=Qv,a._s.has(r)||(i?Xv(r,e,s,a):Tx(r,s,a)),a._s.get(r)}return o.$id=r,o}function jp(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]=function(){return t(this.$pinia)[r]},n),{}):Object.keys(e).reduce((n,r)=>(n[r]=function(){const s=t(this.$pinia),i=e[r];return typeof i=="function"?i.call(this,s):s[i]},n),{})}const Ax={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},Sx={class:"bg-secondaryBackground p-6 rounded-lg w-full max-w-md mx-4"},Ix={class:"mb-4"},bx={class:"mb-4"},Cx={class:"flex gap-4 justify-end"},Rx=["disabled"],Px=["disabled"],xx={__name:"UpdateReview",props:{isOpen:{type:Boolean,required:!0},isUpdating:{type:Boolean,default:!1},review:{type:Object,required:!0}},emits:["close","confirm"],setup(t,{emit:e}){var l,u;const n=t,r=e,s=Ze((l=n.review)==null?void 0:l.comment),i=Ze((u=n.review)==null?void 0:u.rating);no(()=>{n.review&&(s.value=n.review.comment,i.value=n.review.rating)}),lr(()=>n.isOpen,d=>{}),lr(()=>n.review,d=>{d&&(s.value=d.comment,i.value=d.rating)},{immediate:!0});const o=()=>{r("confirm",{comment:s.value,rating:i.value})},a=()=>{r("close")};return(d,f)=>(Z(),es(rg,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:kn(()=>[t.isOpen?(Z(),re("div",Ax,[M("div",Sx,[f[4]||(f[4]=M("h3",{class:"text-lg font-medium mb-4"},"Editar Reseña",-1)),M("div",Ix,[f[2]||(f[2]=M("label",{for:"comment",class:"block text-gray-300 font-medium mb-2"},"Comentario",-1)),Dn(M("textarea",{id:"comment","onUpdate:modelValue":f[0]||(f[0]=m=>s.value=m),class:"bg-gray-700 rounded-md px-4 py-2 w-full",rows:"3"},null,512),[[mr,s.value]])]),M("div",bx,[f[3]||(f[3]=M("label",{for:"rating",class:"block text-gray-300 font-medium mb-2"},"Calificación",-1)),Dn(M("input",{id:"rating","onUpdate:modelValue":f[1]||(f[1]=m=>i.value=m),type:"number",min:"1",max:"10",class:"bg-gray-700 rounded-md px-4 py-2 w-full"},null,512),[[mr,i.value]])]),M("div",Cx,[M("button",{onClick:a,disabled:t.isUpdating,class:"px-4 py-2 rounded hover:bg-gray-700/30 text-gray-300"}," Cancelar ",8,Rx),M("button",{onClick:o,disabled:t.isUpdating,class:"px-4 py-2 bg-blue-600 rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white"},Ie(t.isUpdating?"Actualizando...":"Actualizar"),9,Px)])])])):Pn("",!0)]),_:1}))}},hu=Kr(Jr);async function kx(){const t=uo(hu,"all-reviews-series");return(await dd(t)).docs.map(r=>({id:r.id,...r.data()}))}const ws=Sd("reviews",{state:()=>({reviewsFirestore:[]}),actions:{async readReviews(){this.reviewsFirestore=await kx(),console.log("Reviews actualizadas:",this.reviewsFirestore),console.log(this.reviewsFirestore)},async createReview({objetoReview:t}){console.log("CREANDO REVIEW");try{await K_(uo(Kr(),"all-reviews-series"),{creationDate:t.fecha,comment:t.comentario,rating:t.rate,serieId:t.idSerie,userEmail:t.emailUsuario}),alert("Review almacenada con éxito"),await this.readReviews()}catch(e){console.error("Error al almacenar la review: ",e)}},updateReview(){},async deleteReview(t){try{const e=Wr(hu,"all-reviews-series",t);return await hd(e),await this.readReviews(),!0}catch(e){return console.error("Error al eliminar la review:",e),!1}},async UpdateReview(t,e){try{const n=Wr(hu,"all-reviews-series",t);return await W_(n,e),await this.readReviews(),!0}catch(n){return console.error("Error al actualizar la review:",n),!1}}}}),Dx={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},Ox={class:"bg-secondaryBackground p-6 rounded-lg w-full max-w-md mx-4"},Lx={class:"flex gap-4 justify-end"},Mx=["disabled"],Nx=["disabled"],Vx={__name:"DeleteModal",props:{isOpen:{type:Boolean,required:!0},isDeleting:{type:Boolean,default:!1}},emits:["close","confirm"],setup(t,{emit:e}){const n=e,r=()=>{n("confirm")},s=()=>{n("close")};return(i,o)=>(Z(),es(rg,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:kn(()=>[t.isOpen?(Z(),re("div",Dx,[M("div",Ox,[o[0]||(o[0]=M("h3",{class:"text-lg font-medium mb-4 text-white"}," ¿Estás seguro de eliminar esta reseña? ",-1)),o[1]||(o[1]=M("p",{class:"text-gray-300 mb-6"}," Esta acción no se puede deshacer. ",-1)),M("div",Lx,[M("button",{onClick:s,disabled:t.isDeleting,class:"px-4 py-2 rounded hover:bg-gray-700/30 text-gray-300"}," Cancelar ",8,Mx),M("button",{onClick:r,disabled:t.isDeleting,class:"px-4 py-2 bg-red-600 rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white"},Ie(t.isDeleting?"Eliminando...":"Eliminar"),9,Nx)])])])):Pn("",!0)]),_:1}))}},Il=Sd("user",{state:()=>({user:null}),actions:{setUser(t){this.user=t},clearUser(){this.user=null}},getters:{isLoggedIn:t=>!!t.user,userEmail:t=>{var e;return(e=t.user)==null?void 0:e.email}}}),Fx={props:{serieId:{type:String,required:!0}},data(){return{isDeleting:!1,showDeleteModal:!1,reviewToDelete:null,isUpdating:!1,showEditModal:!1,reviewToUpdate:null,selectedReview:null,formattedDate:new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})}},computed:{...jp(ws,["reviewsFirestore"]),...jp(Il,["isLoggedIn","userEmail"]),filteredReviews(){return!this.reviewsFirestore||!Array.isArray(this.reviewsFirestore)?[]:(Number(this.serieId),this.reviewsFirestore.filter(t=>t.serieId===Number(this.serieId)))}},methods:{confirmDelete(t){this.reviewToDelete=t,this.showDeleteModal=!0},async handleDelete(){if(!this.reviewToDelete){console.log("No hay ID para eliminar");return}this.isDeleting=!0;try{console.log("Intentando eliminar review:",this.reviewToDelete);const t=Wr(xv,"all-reviews-series",this.reviewToDelete);await hd(t),console.log("Review eliminada correctamente"),await ws().readReviews(),this.showDeleteModal=!1}catch(t){console.error("Error al borrar:",t)}finally{this.isDeleting=!1,this.reviewToDelete=null}},closeDeleteModal(){this.showDeleteModal=!1,this.reviewToDelete=null},updateReview(t){this.reviewToUpdate=t.id,this.selectedReview=t,this.showEditModal=!0},async handleUpdate(t){if(!this.reviewToUpdate){console.log("No hay ID para actualizar");return}this.isUpdating=!0;try{await ws().UpdateReview(this.reviewToUpdate,{comment:t.comment,rating:t.rating,lastUpdate:this.formattedDate,userEmail:this.userEmail}),this.showEditModal=!1}catch(e){console.error("Error al actualizar:",e)}finally{this.isUpdating=!1,this.reviewToUpdate=null,this.selectedReview=null}},closeEditModal(){this.showEditModal=!1,this.reviewToUpdate=null,this.selectedReview=null}},mounted(){ws().readReviews()},components:{Star:Al,Edit:B2,Trash2:U2,DeleteModal:Vx,UpdateReview:xx}},Bx={class:"reviewrounded-2xl bg-secondaryBackground h-full flex flex-col p-6"},Ux={class:"flex flex-row justify-between w-full items-center mb-4"},$x={class:"flex flex-row items-center gap-2"},jx={class:"font-medium"},qx={class:"text-gray-400 px-4"},zx={value:"dateNow"},Hx={class:"text-gray-300 text-sm"},Gx={class:"flex flex-row gap-2"},Wx=["onClick"],Kx=["onClick","disabled"],Qx={class:"text-gray-300 leading-relaxed"};function Yx(t,e,n,r,s,i){const o=ge("Star"),a=ge("Edit"),l=ge("Trash2"),u=ge("DeleteModal"),d=ge("UpdateReview");return Z(),re("div",null,[(Z(!0),re(st,null,Zr(i.filteredReviews,f=>(Z(),re("div",{key:f.id,class:"pt-4 h-auto lg:px-20"},[M("div",Bx,[M("div",Ux,[M("div",$x,[M("button",null,[ae(o,{color:"#dcd62e",strokeWidth:"{3}",fill:"#dcd62e"})]),M("span",jx,Ie(f.rating)+"/10",1),M("span",qx,[M("data",zx,Ie(f.lastUpdate),1)]),M("div",Hx,Ie(f.userEmail),1)]),M("div",Gx,[t.isLoggedIn&&t.userEmail===f.userEmail?(Z(),re("button",{key:0,onClick:m=>i.updateReview(f),class:"p-2 hover:bg-gray-700/30 rounded-full transition-colors"},[ae(a,{class:"w-5 h-5 stroke-white"})],8,Wx)):Pn("",!0),t.isLoggedIn&&t.userEmail===f.userEmail?(Z(),re("button",{key:1,onClick:m=>i.confirmDelete(f.id),disabled:s.isDeleting,class:"p-2 hover:bg-gray-700/30 rounded-full transition-colors"},[ae(l,{class:"w-5 h-5 stroke-white"})],8,Kx)):Pn("",!0)])]),M("div",Qx,Ie(f.comment),1)])]))),128)),ae(u,{"is-open":s.showDeleteModal,"is-deleting":s.isDeleting,onClose:i.closeDeleteModal,onConfirm:i.handleDelete},null,8,["is-open","is-deleting","onClose","onConfirm"]),ae(d,{"is-open":s.showEditModal,"is-updating":s.isUpdating,review:s.selectedReview,onClose:i.closeEditModal,onConfirm:i.handleUpdate},null,8,["is-open","is-updating","review","onClose","onConfirm"])])}const Zv=Ne(Fx,[["render",Yx]]),Jx={name:"Button",props:{buttonText:{type:String,required:!0}},components:{},data(){return{}}},Xx={class:"btn bg-buttonColor px-16 py-3 rounded-lg"};function Zx(t,e,n,r,s,i){return Z(),re("button",Xx,Ie(n.buttonText),1)}const ek=Ne(Jx,[["render",Zx]]),tk={setup(){const t=ws(),e=Il();return{useReviews:t,useUser:e}},components:{Button:ek,Star:Al},props:{serieId:{type:String,required:!0},nombreSerie:{type:String,required:!0},srcImg:{type:String,required:!0}},data(){return{id:"",date:"",review:"",rating:"",userEmail:"",username:"",objetoReview:{fecha:"",comentario:"",rate:"",idSerie:"",emailUsuario:""}}},methods:{getCurrentData(){this.date=new Date().toLocaleDateString()},async submitReview(){this.objetoReview={fecha:this.date,comentario:this.review,rate:Number(this.rating),idSerie:Number(this.serieId),emailUsuario:this.useUser.isLoggedIn?this.useUser.userEmail:"Invitado"},console.log(this.objetoReview);try{await this.useReviews.createReview({objetoReview:this.objetoReview}),this.review="",this.rating="",console.log("review enviada")}catch{console.log("nuevamente un ERROR")}}},mounted(){this.getCurrentData(),console.log(this.date),this.id=this.serieId,console.log(`Prueba : ${this.id}`),console.log(this.objetoReview)}},nk={class:"w-full flex flex-col justify-center items-center px-20 my-3"},rk={class:"w-full bg-secondaryBackground grid grid-cols-3 justify-center rounded-2xl"},sk={class:"header col-span-3 flex justify-between mx-10 mt-8"},ik={class:"flex items-center"},ok={class:"flex gap-x-2 items-center"},ak={key:0,class:"text-primary"},lk={key:1,class:"text-purple-300"},ck={class:"text-center"},uk={class:"col-span-3 flex justify-center mb-5"};function dk(t,e,n,r,s,i){const o=ge("Star"),a=ge("Button");return Z(),re("div",nk,[M("div",rk,[M("div",sk,[M("div",ik,[M("div",ok,[Dn(M("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>s.rating=l),name:"",id:"",class:"bg-mainBackground px-2 py-2"},e[3]||(e[3]=[Xm('<option value="" data-v-ca20b8d8>Nota</option><option value="1" data-v-ca20b8d8>1</option><option value="2" data-v-ca20b8d8>2</option><option value="3" data-v-ca20b8d8>3</option><option value="4" data-v-ca20b8d8>4</option><option value="5" data-v-ca20b8d8>5</option><option value="6" data-v-ca20b8d8>6</option><option value="7" data-v-ca20b8d8>7</option><option value="8" data-v-ca20b8d8>8</option><option value="9" data-v-ca20b8d8>9</option><option value="10" data-v-ca20b8d8>10</option>',11)]),512),[[J0,s.rating]]),e[4]||(e[4]=M("span",null,"/10",-1)),e[5]||(e[5]=M("img",{src:"",alt:""},null,-1))]),M("button",null,[ae(o,{color:"#dcd62e",strokeWidth:"{3}",fill:"#dcd62e"})])]),r.useUser.isLoggedIn?(Z(),re("span",ak,Ie(r.useUser.userEmail),1)):(Z(),re("span",lk,"invitad@")),M("span",ck,Ie(s.date),1)]),Dn(M("textarea",{"onUpdate:modelValue":e[1]||(e[1]=l=>s.review=l),class:"col-span-3 mt-10 mb-5 mx-10 rounded bg-mainBackground h-40 text-gray-100 pt-3 pl-3",name:"",id:"",placeholder:"Escribe tu review"},null,512),[[mr,s.review]]),M("div",uk,[ae(a,{onClick:e[2]||(e[2]=l=>i.submitReview({serieId:n.serieId})),buttonText:"Enviar"})])])])}const ey=Ne(tk,[["render",dk],["__scopeId","data-v-ca20b8d8"]]),hk={props:{idSerie:{type:String},nombreSerie:{type:String},srcImg:{type:String},popularidad:{type:Number},fechaEmision:{type:String},descripcionSerie:{type:String},ranking:{type:Number}},data(){return{}},components:{LogoSeriesLab:ss,Star:Al},methods:{}},fk={class:"h-96 flex flex-col pb-5"},pk={class:"lg:px-20 hidden h-1/5 lg:flex lg:flex-row justify-between items-center bg-gradient-to-b from-gray-700 to-transparent"},mk={class:"md:hidden px-5 flex flex-col w-full"},gk={class:""},_k={class:"flex flex-row w-full"},vk={class:"shadow-md shadow-black rounded-3xl"},yk=["src"],wk={class:"flex flex-col justify-start pl-5"},Ek={class:""},Tk={class:"flex flex-row gap-5 items-center align-middle"},Ak={class:"font-poppinsThin text-md text-start"},Sk={class:"flex flex-row gap-5 items-center align-middle"},Ik={class:"font-poppinsThin text-md text-start"},bk={class:"flex flex-row gap-5 items-center align-middle"},Ck={class:"font-poppinsThin text-md text-start"},Rk={class:"flex flex-row justify-start h-full items-center"},Pk={class:""},xk={class:"text-2xl"},kk={class:"pt-2"},Dk={class:"font-poppinsThin text-sm"},Ok={class:"lg:px-20 px-5 h-4/5 md:flex flex-col md:flex-row w-full hidden"},Lk={class:"w-1/5 shadow-md shadow-black rounded-3xl"},Mk=["src"],Nk={class:"flex flex-col w-4/5 justify-start pl-6"},Vk={class:""},Fk={class:"flex flex-row gap-5 items-center align-middle"},Bk={class:"font-poppinsThin text-md text-start"},Uk={class:"flex flex-row gap-5 items-center align-middle"},$k={class:"font-poppinsThin text-md text-start"},jk={class:"flex flex-row gap-5 items-center align-middle"},qk={class:"font-poppinsThin text-md text-start"},zk={class:""},Hk={class:"font-poppinsThin text-sm"};function Gk(t,e,n,r,s,i){const o=ge("LogoSeriesLab"),a=ge("RouterLink"),l=ge("Star");return Z(),re("div",fk,[M("div",pk,[ae(a,{to:"/"},{default:kn(()=>[ae(o,{class:"pt-1"})]),_:1})]),M("div",mk,[M("div",gk,[M("div",_k,[M("div",vk,[M("img",{class:"rounded-3xl object-cover h-44",src:n.srcImg,alt:""},null,8,yk)]),M("div",wk,[M("div",Ek,[M("div",Tk,[e[0]||(e[0]=M("div",null,"Nombre original:",-1)),M("div",Ak,Ie(n.nombreSerie),1)]),M("div",Sk,[e[1]||(e[1]=M("div",null,"Fecha emisión:",-1)),M("div",Ik,Ie(`${n.fechaEmision.slice(8,10)}/${n.fechaEmision.slice(5,7)}/${n.fechaEmision.slice(0,4)}`),1)]),M("div",bk,[e[2]||(e[2]=M("div",null,"Popularidad IMDB:",-1)),M("div",Ck,Ie(n.popularidad)+" votos",1)])]),e[3]||(e[3]=M("div",{class:"border-gray-600 border-t my-3"},null,-1)),M("div",Rk,[M("div",Pk,[ae(l,{color:"#dcd62e",strokeWidth:"{1}",fill:"#dcd62e",width:"30px"})]),M("div",xk,Ie(parseFloat(n.ranking.toFixed(1))),1)])])])]),M("div",kk,[e[4]||(e[4]=M("div",{class:"pb-3"},"Sinópsis",-1)),M("div",Dk,Ie(n.descripcionSerie),1)])]),M("div",Ok,[M("div",Lk,[M("img",{class:"rounded-3xl object-cover h-full",src:n.srcImg,alt:""},null,8,Mk)]),M("div",Nk,[M("div",Vk,[M("div",Fk,[e[5]||(e[5]=M("div",null,"Nombre original:",-1)),M("div",Bk,Ie(n.nombreSerie),1)]),M("div",Uk,[e[6]||(e[6]=M("div",null,"Fecha emisión:",-1)),M("div",$k,Ie(`${n.fechaEmision.slice(8,10)}/${n.fechaEmision.slice(5,7)}/${n.fechaEmision.slice(0,4)}`),1)]),M("div",jk,[e[7]||(e[7]=M("div",null,"Popularidad IMDB:",-1)),M("div",qk,Ie(n.popularidad)+" votos",1)])]),e[9]||(e[9]=M("div",{class:"border-gray-600 border-t my-3"},null,-1)),M("div",zk,[e[8]||(e[8]=M("div",{class:"pb-3"},"Sinópsis",-1)),M("div",Hk,Ie(n.descripcionSerie),1)])])])])}const ty=Ne(hk,[["render",Gk]]),Wk={data(){return{reviewId:null,reviewData:{},loading:!0,error:null,pathBaseSrcImg:"https://image.tmdb.org/t/p/w200/"}},props:{},components:{AllReviews:Zv,TopReview:ty,FormReviews:ey,LoadingSpinner:Tl},methods:{async fetchReviewDetails(){try{const n=`https://api.themoviedb.org/3/tv/${this.reviewId}?api_key=de4b6461e071a300a503b91fb095113d&language=es-ES`,s=await(await fetch(n)).json();this.reviewData=s,this.loading=!1}catch(t){console.error("Error fetching review details:",t),this.loading=!1}}},mounted(){const t=gg();this.reviewId=t.params.id,this.fetchReviewDetails()}},Kk={class:"min-h-[calc(100vh-14rem)] flex flex-col gap-4 justify-center align-middle w-full"},Qk={class:"flex flex-col"},Yk={key:0},Jk={key:1,class:"flex flex-row justify-center h-96 items-center"},Xk={class:"flex flex-col justify-center h-32"};function Zk(t,e,n,r,s,i){const o=ge("TopReview"),a=ge("LoadingSpinner"),l=ge("FormReviews"),u=ge("AllReviews");return Z(),re("div",Kk,[M("div",Qk,[s.loading!=!0?(Z(),re("div",Yk,[ae(o,{idSerie:s.reviewId,nombreSerie:s.reviewData.name,srcImg:s.pathBaseSrcImg+s.reviewData.poster_path,popularidad:s.reviewData.popularity,fechaEmision:s.reviewData.first_air_date,descripcionSerie:s.reviewData.overview,ranking:s.reviewData.vote_average},null,8,["idSerie","nombreSerie","srcImg","popularidad","fechaEmision","descripcionSerie","ranking"])])):(Z(),re("div",Jk,[M("div",Xk,[ae(a)])])),ae(l,{serieId:s.reviewId,nombreSerie:s.reviewData.name,srcImg:s.reviewData.profile_path},null,8,["serieId","nombreSerie","srcImg"]),ae(u,{serieId:String(s.reviewId)},null,8,["serieId"])])])}const eD=Ne(Wk,[["render",Zk]]),tD={data(){return{query:null,apiDataResults:null,loading:!0,error:null,pathBaseSrcImg:"https://image.tmdb.org/t/p/w200/",pathUrl:"/review-serie/"}},props:{},components:{AllReviews:Zv,TopReview:ty,FormReviews:ey,LoadingSpinner:Tl,CardResults:Wv,LogoSeriesLab:ss},methods:{async fetchReviewDetails(){try{const r=`https://api.themoviedb.org/3/search/tv?api_key=de4b6461e071a300a503b91fb095113d&query=${this.query}&language=es-ES`,s=await fetch(r);if(!s)throw new Error("Error al obtener los datos");this.apiDataResults=await s.json(),this.apiDataResults=this.apiDataResults.results,console.log(this.apiDataResults)}catch(t){this.error=t.message,console.error("Error en la API:",t)}finally{setTimeout(()=>{this.loading=!1},1e3)}}},mounted(){const t=gg();this.query=t.params.serie,this.query=this.query.replaceAll("+"," "),this.fetchReviewDetails()},watch:{"$route.params.serie"(t){this.query=t,this.fetchReviewDetails()}}},nD={class:"lg:px-20 px-5 h-20 md:px-10 flex flex-row justify-between items-center bg-gradient-to-b from-gray-900 to-transparent"},rD={key:0,class:"md:px-10 px-5 min-h-[calc(100vh-14rem)] flex flex-col gap-4 justify-start pt-5 align-middle w-full lg:px-20"},sD={class:"flex flex-row"},iD={class:"py-5 text-primary ml-3"},oD={class:"grid grid-cols-3 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-6 gap-4"},aD={key:1,class:"min-h-[calc(100vh-14rem)] flex flex-col gap-4 justify-center items-center w-full"};function lD(t,e,n,r,s,i){const o=ge("LogoSeriesLab"),a=ge("RouterLink"),l=ge("CardResults"),u=ge("LoadingSpinner");return Z(),re(st,null,[M("div",nD,[ae(a,{to:"/"},{default:kn(()=>[ae(o,{class:"pt-1"})]),_:1})]),s.loading?(Z(),re("div",aD,[ae(u)])):(Z(),re("div",rD,[M("div",sD,[e[0]||(e[0]=M("div",{class:"py-5"},"Resultados de la búsqueda:",-1)),M("div",iD,Ie(s.query),1)]),M("div",oD,[(Z(!0),re(st,null,Zr(s.apiDataResults,d=>(Z(),re("div",{key:d.id},[ae(a,{to:s.pathUrl+d.id,class:""},{default:kn(()=>[ae(l,{idSerie:d.id,nombreSerie:d.name,srcImg:s.pathBaseSrcImg+d.poster_path,rating:d.vote_average,anyoEmision:d.first_air_date.slice(0,4),descripcionSerie:d.overview},null,8,["idSerie","nombreSerie","srcImg","rating","anyoEmision","descripcionSerie"])]),_:2},1032,["to"])]))),128))])]))],64)}const cD=Ne(tD,[["render",lD]]),uD=lE({history:F1(),routes:[{path:"/",name:"home",component:mx},{path:"/reviews",name:"reviews",component:UR},{path:"/review-serie/:id",name:"reviewSerie",component:eD},{path:"/buscar-serie/:serie",name:"buscarSerie",component:cD}]}),dD={props:{titleText:{type:String,required:!0}}};function hD(t,e,n,r,s,i){return Z(),re("h1",null,Ie(n.titleText),1)}const fD=Ne(dD,[["render",hD]]),pD={props:{review:Object},components:{},data(){return{}}},mD={href:"#enlace-a-review"},gD={class:"bg-white bg-opacity-5 rounded-2xl flex flex-row align-between"},_D={class:"col-1 w-1/3 3xl:w-1/4"},vD=["src"],yD={class:"col-2 w-2/3 3xl:w-3/4 flex flex-col p-4"},wD={class:"text-md mb-1"},ED={class:"text-xs"};function TD(t,e,n,r,s,i){return Z(),re("a",mD,[M("div",gD,[M("div",_D,[M("img",{src:n.review.imgUrl,alt:"",class:"w-full h-full aspect-square object-cover rounded-2xl"},null,8,vD)]),M("div",yD,[M("h4",wD,Ie(n.review.titulo),1),M("p",ED,Ie(n.review.parrafo),1)])])])}const AD=Ne(pD,[["render",TD]]),SD={components:{CardLastReviews:AD},data(){return{dummyReviews:[{titulo:"BoJack Horseman",parrafo:"Conoce al caballo mas querido de los 90's ",imgUrl:"https://f4.bcbits.com/img/a2983687285_10.jpg"},{titulo:"Fargo",parrafo:"Serie de televisión antológica estadounidense",imgUrl:"https://www.lanacion.com.ar/resizer/v2/jon-hamm-como-el-malevolo-roy-tillman-en-la-7HN26MYSSVGYNETPK35466BZD4.JPG?auth=2b6473fefb00b2a38f746a4f7f7b992456a263440cb807a6b140a45704af24e6&width=880&height=586&quality=70&smart=false&focal=916,406"}]}}},ID={class:"last-reviews-container flex flex-col w-full"},bD={class:"flex flex-col gap-y-5 rounded-2xl"};function CD(t,e,n,r,s,i){const o=ge("CardLastReviews");return Z(),re("div",ID,[e[0]||(e[0]=M("h3",{class:"pb-2"},"Last reviews",-1)),M("div",bD,[(Z(!0),re(st,null,Zr(s.dummyReviews,a=>(Z(),es(o,{key:a.idReview,review:a},null,8,["review"]))),128))])])}const RD=Ne(SD,[["render",CD]]),PD={props:{review:Object},components:{},data(){return{}}},xD={href:"#enlace-a-review"},kD={class:"bg-white bg-opacity-5 rounded-2xl flex flex-row align-between"},DD={class:"col-1 w-2/3 3xl:w-3/4 flex flex-col p-4"},OD={class:"text-md mb-1"},LD={class:"text-xs"},MD={class:"col-2 w-1/3 3xl:w-1/4 flex justify-end"},ND=["src"];function VD(t,e,n,r,s,i){return Z(),re("a",xD,[M("div",kD,[M("div",DD,[M("h4",OD,Ie(n.review.titulo),1),M("p",LD,Ie(n.review.parrafo),1)]),M("div",MD,[M("img",{src:n.review.imgUrl,alt:"",class:"w-full h-full object-cover aspect-square rounded-2xl"},null,8,ND)])])])}const FD=Ne(PD,[["render",VD]]),BD={components:{CardUserLastReviews:FD},data(){return{dummyReviews:[{titulo:"BoJack Horseman 2",parrafo:"Conoce al caballo mas querido de los 90's",imgUrl:"https://f4.bcbits.com/img/a2983687285_10.jpg"},{titulo:"Fargo 2",parrafo:"Serie de televisión antológica estadounidense",imgUrl:"https://www.lanacion.com.ar/resizer/v2/jon-hamm-como-el-malevolo-roy-tillman-en-la-7HN26MYSSVGYNETPK35466BZD4.JPG?auth=2b6473fefb00b2a38f746a4f7f7b992456a263440cb807a6b140a45704af24e6&width=880&height=586&quality=70&smart=false&focal=916,406"}]}}},UD={class:"last-reviews-container flex flex-col w-full"},$D={class:"flex flex-col gap-y-5 rounded-2xl"};function jD(t,e,n,r,s,i){const o=ge("CardUserLastReviews");return Z(),re("div",UD,[e[0]||(e[0]=M("h3",{class:"pb-2"},"User last reviews",-1)),M("div",$D,[(Z(!0),re(st,null,Zr(s.dummyReviews,a=>(Z(),es(o,{key:a.idReview,review:a},null,8,["review"]))),128))])])}const qD=Ne(BD,[["render",jD]]),Id=Sd("state-widgets",{state:()=>({showLoginMenu:null}),actions:{toggleMenuLogin(){this.showLoginMenu=!this.showLoginMenu}}}),zD="data:image/gif;base64,R0lGODlhlgBUAPf/AAAAAByqqh6lpSCfnyCfryCfvyCnryCvryGlrSGmsSGxsSKlrCKlsyKmriKnryKorSKoriKpsCKqqiKqsCKqsyKquyKssSOiriOjqiOjsSOlriOlriOlryOmriOmriOmryOnriOnriOnryOnryOnsCOnsCOnsSOoriOoriOoriOoryOoryOosSOotCOqryOqsSOuriSjrSSkpCSkrSSkrSSksCSktiSlriSlriSlrySmriSmriSmriSmriSmrySmrySmrySmrySmrySmsCSmsiSnrSSnrSSnriSnriSnrySnrySnrySnrySnrySnrySnrySnrySnrySnrySnrySnrySnrySnrySnrySnsCSnsCSnsCSnsCSnsCSnsCSnsCSnsCSnsSSnsSSnsSSorSSorSSoriSorySorySorySorySosCSosCSosSSosiSprySpsCSpsCSqqiSqsCSqsiSqtiStrSS2tiWkriWlrSWlryWmriWmryWmryWmryWmryWmryWmryWmryWmryWmsCWmsCWnrSWnrSWnriWnriWnriWnriWnryWnryWnryWnryWnryWnryWnryWnsCWnsCWnsCWnsCWnsCWnsCWnsCWnsSWoriWoriWoriWoriWoryWoryWoryWosCWosCWosCWosCWosSWosiWprSWpryWpryWpsSWpsSWqryWqsSajriakrSalrSalryalsCamrCamriamryamsCamsyamsyanqyanrSanrianryanryansCansCansCaoriaoriaoryaoryaoryaosCaosiaosyapsCaqqiaqryaqsyatrSausyazsyedsSeiqiemrCemriemsSemsSenryensSensSeorieosieqqieqrieqsiersiessSexsSihriinryipsCiqsCmjrSmorSmotCmssyuqqiuqqiuqqiuqqiuqqiuqtSuqvyymsSynsC2ltC6ioi65uTCvrzOZmTOqqjOzszO7uzPMzDekpDe2tjmqqkC/vwD/ACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAwCgACyVAFMAAQABAIcAAAAcqqoepaUgn58gn68gn78gp68gr68hpa0hprEhsbEipawipbMipq4ip68iqK0iqK4iqbAiqqoiqrAiqrMiqrsirLEjoq4jo6ojo7Ejpa4jpa8jpq4jpq8jp64jp68jp7Ajp7EjqK4jqK8jqLEjqLQjqq8jqrEjrq4ko60kpKQkpK0kpLAkpLYkpa4kpa8kpq4kpq8kprAkprIkp60kp64kp68kp7Akp7EkqK0kqK4kqK8kqLAkqLEkqLIkqa8kqbAkqqokqrAkqrIkqrYkra0ktrYlpK4lpa0lpa8lpq4lpq8lprAlp60lp64lp68lp7Alp7ElqK4lqK8lqLAlqLElqLIlqa0lqa8lqbElqq8lqrEmo64mpK0mpa0mpa8mpbAmpqwmpq4mpq8mprAmprMmp6smp60mp64mp68mp7AmqK4mqK8mqLAmqLImqLMmqbAmqqomqq8mqrMmra0mrrMms7MnnbEnoqonpqwnpq4nprEnp68np7EnqK4nqLInqqonqq4nqrInq7InrLEnsbEooa4op68oqbAoqrApo60pqK0pqLQprLMrqqorqrUrqr8sprEsp7AtpbQuoqIuubkwr68zmZkzqqozs7Mzu7szzMw3pKQ3trY5qqpAv78A/wD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8IBABBBQQAIfkECQQA/wAslQBTAAEAAQAACAQA/wUEACH5BAkDAP8ALJUAUwABAAEAAAgEAP8FBAAh+QQJAwD/ACw7ACcABAAFAAAIFQA1DCtyiByGcQsILhiG0OC/gf8CAgAh+QQJBAD/ACw6ACYABgAFAAAIHwD/HVvQCsG/fwvMNAChAUErDKoIqlqYsMO/iA//BQQAIfkECQMA/wAsOgAlAAYABgAACCAA/x1KsqDUvwWqFnRbcIxgqA4EFSJU+NBhh38LF/4LCAAh+QQJAwD/ACw6ACQABgAHAAAIJQD//cMwbsG/UD4kaTCmY0E3hw4VGkuoAeLDbpIoTvynDeK/gAAAIfkECQQA/wAsOgAkAAcABwAACCsA/3VboGrBv3/JOiRZEErDP4ILBqr6tzCUQoYRIXb7Z+xiKB0HC3bDcDAgACH5BAkDAP8ALDoAJAAPAAcAAAhFAP95w3Bswb+DCBOG6nBkgacjCSNiSLag28SI6BAcbOiJoUGEqhqIQKCq4sSKCUkiYIaglEdPOhKOVCPyYMWPCBewLBkQACH5BAkDAP8ALDoAJQAPAAYAAAhCAP91SLIg1L+DCDsYO/JvgaoF3RwibMgMwbEFBEMNXDCx1AcsGkpBdAgRYTeLCCqa2qhxIkiPWP4hg4hhIkWL/wICACH5BAkEAP8ALDoAJAAQAAcAAAhKAP8JHEhQ4IKCe2YU/KdjQagOSQSqQsAMAcFxC7otUJURCwI1DURYNPgwiUMQFBFMZDbQ28aMC8apCvnxA0GTJQUeS7lQoyqBAQEAIfkECQMA/wAsOwAkAA8ABwAACEMA/wkcSPDagm4EEwpMsiBUhyQCF3hLaOzgAlUSEahpIIJgw4cNdTBDoArBRIHdLlrsxlFjB4IMHUIsOVKhNwwI/wUEACH5BAkDAP8ALEMAJAAPAAcAAAhFAP/9G7egm8CDCAUmWRCqQ5KECAl2W6BqgbeEFf8xdMjwA0IRCNQ0mFhxorGDqhAwQ6Dq38KGDw+GbABSoLcFJxOyVBkQACH5BAkEAP8ALEMAJAAQAAcAAAhQAP/9G7eAnMCDCA9K0mBMh6SE/3yYEXhsQTcMBL0d9IbgGAJm/xjqWMSww8EPWDSU+iDpIsGLxw56ZNYRwT+SDRchVIlSwzWB3jB0g1hTY0AAIfkECQMA/wAsQwAkABAABwAACD4A/wkcSFAguYILQnVAqDDJAoELui1Q9XCgRIrdMGhomJBgB4cNL0aMOBDjxIcgPxJM+HGBMYEXC/7DgPFfQAAh+QQJAwD/ACxEACQADwAHAAAIRQD/CRxIcEG3BeMIKvw3I1SHJAtC/WOG4JjCg6oMLij1AYuGUgOvPYz4sCICigQzYlzgkSMWghocQry2gOKxBQoRIhAYEAAh+QQJBAD/ACxEACQAGAAIAAAIYQD/CRxIcEG3BeMIKlxIUEOoDkkWhGJIceBBVQYXKFzAbGCHIxoH+oIoESJBBGoaiPiHIZlBDAQxXgwpkBkCVQiYgfT0kWCHhxF9EVSJsgGCbi0XYuiGYCFOmwOPVJwqMCAAIfkECQMA/wAsTQAkAA8ABwAACEsA//3rtkCgwYMCFxjTsUgDwn9mHA7EMG4BwYPHEDBD0IqhhoWLDCbRUOoDFg0Vu1EsmHBjRmYdQGpQZfCaSZIf/i1IibCVRgT/AgIAIfkECQMA/wAsTQAkAA8ABwAACEAA/wkcSFDguIHDOiRZUFDhglBHvC1QtaAbQQwUu010GErhwIUdF2acyFBgRZIaQy4wNtAYxw7/UBYcVxHDv4AAACH5BAkEAP8ALE0AJAAQAAcAAAhLAP8JHEgQ3QJVGAgqFJisQ5IFoW4IxHAMgTeCBxd0O/jvBhYNpT4QfBjK4QJjFZkhOLZgoMaM3f6B/PBRoclQOgSuRBBTIc+W/wICACH5BAkDAP8ALE0AJAAQAAgAAAhHAP8JHEiQ3AJVCwgqFDisQ5IFoXQsJHhwQbeDAo8s8NSB4MNQDhdI+mcRQzKKFxF2+6eBo0aFIUMlEWjS4kIE3jBQLDVRYUAAIfkECQMA/wAsVgAkAAYABwAACCcA//3DYEzgPx2LNBgrsmDcgm4YxiU0hlDDw4gPr1U05kPgwwX/AgIAIfkECQQA/wAsVgAlAAYABgAACB8A/+lIskDVv3+qFnQrSDBUB4IKCypU9XCBQ4QR/wUEACH5BAkDAP8ALFYAJgAGAAUAAAgeAP91Q8AMw79/Gkp9wDKDIIJjBP8tTPjhnzaH/wICACH5BAkDAP8ALFcAJwAFAAUAAAgZABd46nDkXzcMyRb8IyiwQ8KD//6V6hAxIAAh+QQJBAD/ACyVAFMAAQABAAAIBAD/BQQAIfkECQMA/wAslQBTAAEAAQAACAQA/wUEACH5BAkDAP8ALJUAUwABAAEAAAgEAP8FBAAh+QQJBAD/ACyVAFMAAQABAAAIBAD/BQQAIfkECQMA/wAslQBTAAEAAQAACAQA/wUEACH5BAkDAP8ALJUAUwABAAEAAAgEAP8FBAAh+QQJBAD/ACyVAFMAAQABAAAIBAD/BQQAIfkECQMA/wAslQBTAAEAAQAACAQA/wUEACH5BAkDAP8ALJUAUwABAAEAAAgEAP8FBAAh+QQJBAD/ACyVAFMAAQABAAAIBAD/BQQAIfkECQMA/wAslQBTAAEAAQAACAQA/wUEACH5BAkDAP8ALJUAUwABAAEAAAgEAP8FBAAh+QQJBAD/ACyVAFMAAQABAAAIBAD/BQQAIfkECQMA/wAslQBTAAEAAQAACAQA/wUEACH5BAkDAP8ALJUAUwABAAEAAAgEAP8FBAAh+QQJAwD/ACyVAFMAAQABAAAIBAD/BQQAOw==",HD={props:{}},GD={src:zD,width:"10",alt:""};function WD(t,e,n,r,s,i){return Z(),re("img",GD)}const KD=Ne(HD,[["render",WD]]),QD={setup(){const t=Il(),e=Id();return{userStore:t,showLogIn:e}},components:{LogOut:F2,UserRound:Gv,LoadingText:KD},data(){return{}},methods:{async logout(){try{await nC(El),this.userStore.clearUser(),console.log("Usuario deslogueado")}catch(t){console.error(`Error cerrando la sesión: ${t}`)}},generarNickName(t){let e="@";for(const n of t){if(n=="@")break;e+=n}return e}}},YD={class:"grid grid-cols-2 gap-y-2 w-full text-sm"},JD={class:"flex col-span-2 justify-between mb-2 text-xs"},XD={class:"flex flex-row items-center justify-center gap-x-3"},ZD={class:"flex flex-row gap-2"},eO={key:0,class:"text-primary"},tO={key:1,class:"text-purple-300"},nO={key:2,class:"text-purple-300"};function rO(t,e,n,r,s,i){const o=ge("LoadingText"),a=ge("LogOut");return Z(),re("div",YD,[M("div",JD,[M("div",XD,[M("div",ZD,[e[2]||(e[2]=M("span",null,"Hola ",-1)),r.userStore.isLoggedIn?(Z(),re("span",eO,Ie(i.generarNickName(r.userStore.userEmail)),1)):Pn("",!0),r.userStore.isLoggedIn==!1?(Z(),re("span",tO,"invitad@")):(Z(),re("span",nO,[ae(o)]))])]),r.userStore.isLoggedIn?(Z(),re("button",{key:0,onClick:e[0]||(e[0]=(...l)=>i.logout&&i.logout(...l)),class:"hover:text-purple-300 transition-all duration-500"},[ae(a)])):(Z(),re("button",{key:1,onClick:e[1]||(e[1]=l=>r.showLogIn.toggleMenuLogin()),class:"text-xs text-purple-300 hover:text-primary transition-all duration-500"}," Log In "))]),e[3]||(e[3]=M("span",{class:"text-xs"},"Total reviews",-1)),e[4]||(e[4]=M("span",{class:"text-right text-xs"},"8",-1)),e[5]||(e[5]=M("span",{class:"text-xs"},"Votos",-1)),e[6]||(e[6]=M("span",{class:"text-right text-xs"},"4",-1))])}const sO=Ne(QD,[["render",rO]]),iO={components:{},data(){return{searchQuery:"",pathUrl:"/buscar-serie/"}},methods:{search(){if(this.searchQuery.trim()){const t=this.searchQuery.trim().replace(/\s+/g,"+");this.$router.push({name:"buscarSerie",params:{serie:t}})}else console.log("El campo de búsqueda está vacío")}}};function oO(t,e,n,r,s,i){return Z(),re("form",{onSubmit:e[2]||(e[2]=e1(()=>{},["prevent"])),class:"w-full"},[Dn(M("input",{class:"w-full h-10 rounded-2xl lg:text-white text-gray-900 bg-white lg:bg-opacity-5 bg-opacity-80 pl-5 lg:mt-8 search-icon","onUpdate:modelValue":e[0]||(e[0]=o=>s.searchQuery=o),type:"text",placeholder:"Buscar serie...",onKeyup:e[1]||(e[1]=n1((...o)=>i.search&&i.search(...o),["enter"]))},null,544),[[mr,s.searchQuery]])],32)}const ny=Ne(iO,[["render",oO],["__scopeId","data-v-b77b031f"]]),aO={props:{},components:{LastReviewsContainer:RD,UserLastReviewsContainer:qD,SearchBar:ny,Login:sO}},lO={class:"bg-secondaryBackground h-full flex flex-col gap-y-10 items-center justify-start px-8 z-50"};function cO(t,e,n,r,s,i){const o=ge("SearchBar"),a=ge("Login"),l=ge("UserLastReviewsContainer"),u=ge("LastReviewsContainer");return Z(),re("div",lO,[ae(o),ae(a),ae(l),ae(u)])}const uO=Ne(aO,[["render",cO]]),dO={components:{Logo:ss},data(){return{}}},hO={class:"bg-secondaryBackground h-52 flex justify-center items-center"};function fO(t,e,n,r,s,i){const o=ge("Logo");return Z(),re("div",hO,[ae(o)])}const pO=Ne(dO,[["render",fO]]),mO=async(t,e,n={})=>{const s=(await Jb(El,t,e)).user,o=(a=>{let l="";for(const u of a){if(u=="@")break;l+=u}return console.log(l),l})(s.email);return console.log("Nickname generado:",o),await XI(Wr(xv,"usuarios-seriesLab",s.uid),{email:s.email,nickName:o,...n}),s},gO=async(t,e)=>(await Xb(El,t,e)).user,_O={data(){return{isSignup:!1,email:"",password:""}},computed:{showLogIn(){return Id()}},props:{},components:{LogoSeriesLab:ss,CircleX:V2},methods:{async handleSubmit(){try{this.isSignup?(await mO(this.email,this.password),alert("Usuario registrado exitosamente"),console.log(`usuario registrado: ${this.email}`)):(await gO(this.email,this.password),alert("Inicio de sesión exitoso"),console.log(`sesión iniciada con usuario: ${this.email}`)),this.showLogIn.toggleMenuLogin()}catch(t){console.error(t),alert(t.message)}},toggleAuthMode(){this.isSignup=!this.isSignup}}},vO={class:"z-50 w-full flex flex-col justify-center px-5 items-center gap-2 h-screen"},yO={class:"flex flex-col justify-center items-center md:max-w-96 w-full gap-2 pb-5"},wO={class:"w-full flex flex-row justify-end"},EO={class:"py-5"};function TO(t,e,n,r,s,i){const o=ge("CircleX"),a=ge("LogoSeriesLab");return Z(),re("div",vO,[M("div",yO,[M("div",wO,[M("button",null,[ae(o,{onClick:e[0]||(e[0]=l=>i.showLogIn.toggleMenuLogin()),class:"hover:scale-110 transition-all duration-500 ease-in-out hover:text-primary"})])]),M("div",EO,[ae(a)]),Dn(M("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>s.email=l),class:"py-5 rounded-2xl pl-5 lg:w-96 xl:max-w-96 w-full text-gray-800",type:"email",placeholder:"Email"},null,512),[[mr,s.email]]),Dn(M("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s.password=l),class:"py-5 rounded-2xl pl-5 xl:max-w-96 lg:w-96 w-full text-gray-800",type:"password",placeholder:"Password"},null,512),[[mr,s.password]]),M("button",{onClick:e[3]||(e[3]=(...l)=>i.handleSubmit&&i.handleSubmit(...l)),class:"py-5 rounded-2xl bg-purple-500 flex justify-center lg:w-96 xl:max-w-96 w-full transition-all duration-500 ease-in-out hover:bg-purple-700"},Ie(s.isSignup?"Crear cuenta":"Iniciar Sesión"),1),M("button",{onClick:e[4]||(e[4]=(...l)=>i.toggleAuthMode&&i.toggleAuthMode(...l)),class:"text-sm mt-3 text-gray-600 hover:text-primary transition-all duration-500"},Ie(s.isSignup?"¿Ya tienes cuenta? Inicia sesión":"¿No tienes cuenta? Regístrate"),1)])])}const AO=Ne(_O,[["render",TO]]),SO={setup(){const t=ws(),e=Id(),n=Il();return{reviewsStore:t,showLogIn:e,userStore:n}},components:{Title:fD,Main:Kv,SideBarRight:uO,BannerSerie:Ov,Footer:pO,SearchBar:ny,LogInAuth:AO,UserRound:Gv,LogoSeriesLab:ss},data(){return{showSignup:!1}},mounted(){this.reviewsStore.readReviews(),console.log(this.reviewsStore),gR(t=>{t?(this.userStore.setUser({email:t.email,uid:t.uid}),console.log(`Usuario loggeado: ${t.email}`)):(userStore.clearUser(),console.log("No hay un usuario loggeado"))})}},IO={class:"font-poppinsLight min-h-screen text-white bg-mainBackground flex lg:flex-row flex-col"},bO={key:0,class:"fixed z-30 h-screen bg-backgroundColor bg-opacity-90 w-full"},CO={class:"bg-cover items-center gap-7 bg-center bg-no-repeat h-28 px-5 flex flex-row justify-between lg:hidden",style:{backgroundImage:"url(https://static.hbo.com/content/dam/hbodata/series/the-wire/ka/the-wire-ka-1920.jpg)"}},RO={id:"lef-side",class:"lg:w-3/4 w-full mt-5 lg:mt-0"},PO={class:"lg:w-1/4 lg:min-w-[230px] lg:fixed lg:top-0 lg:right-0 h-full hidden lg:block"};function xO(t,e,n,r,s,i){const o=ge("LogInAuth"),a=ge("LogoSeriesLab"),l=ge("RouterLink"),u=ge("SearchBar"),d=ge("RouterView"),f=ge("SideBarRight");return Z(),re("div",IO,[r.showLogIn.showLoginMenu?(Z(),re("div",bO,[ae(o)])):Pn("",!0),M("div",CO,[ae(l,{to:"/"},{default:kn(()=>[ae(a)]),_:1}),ae(u)]),M("div",RO,[ae(d)]),M("div",PO,[ae(f)])])}const kO=Ne(SO,[["render",xO]]),bd=i1(kO),DO=_x();bd.use(uD);bd.use(DO);bd.mount("#app");
